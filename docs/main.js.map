{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/affiliation/affiliation.ts","./src/app/affiliation/affiliations.service.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/background/background.ts","./src/app/background/backgrounds.service.ts","./src/app/character/character.ts","./src/app/chargen/character/character.component.ts","./src/app/chargen/character/character.component.html","./src/app/chargen/character/vitals/vitals.component.ts","./src/app/chargen/character/vitals/vitals.component.html","./src/app/chargen/stages/newaff/aff/aff.component.ts","./src/app/chargen/stages/newaff/aff/aff.component.html","./src/app/chargen/stages/newaff/newaff.component.ts","./src/app/chargen/stages/newaff/newaff.component.html","./src/app/chargen/stages/newaff/subaff/subaff.component.ts","./src/app/chargen/stages/newaff/subaff/subaff.component.html","./src/app/chargen/stages/random-life-event/random-life-event.component.ts","./src/app/chargen/stages/random-life-event/random-life-event.component.html","./src/app/chargen/stages/stage0/default-exp/default-exp.component.ts","./src/app/chargen/stages/stage0/default-exp/default-exp.component.html","./src/app/chargen/stages/stage0/stage0.component.ts","./src/app/chargen/stages/stage0/stage0.component.html","./src/app/chargen/stages/stage1/stage1.component.ts","./src/app/chargen/stages/stage1/stage1.component.html","./src/app/chargen/stages/stage2/stage2.component.ts","./src/app/chargen/stages/stage2/stage2.component.html","./src/app/chargen/stages/stage3/stage3.component.ts","./src/app/chargen/stages/stage3/stage3.component.html","./src/app/chargen/stages/stage4/stage4.component.ts","./src/app/chargen/stages/stage4/stage4.component.html","./src/app/education/education.service.ts","./src/app/education/education.ts","./src/app/education/field.service.ts","./src/app/education/field.ts","./src/app/utils/archtype.pipe.ts","./src/app/utils/citation.pipe.ts","./src/app/utils/common.ts","./src/app/utils/exp.pipe.ts","./src/app/utils/exp/exp.component.ts","./src/app/utils/exp/exp.component.html","./src/app/utils/or-exp/or-exp.component.ts","./src/app/utils/or-exp/or-exp.component.html","./src/app/utils/pick-exp/pick-exp.component.ts","./src/app/utils/pick-exp/pick-exp.component.html","./src/app/utils/rng.service.ts","./src/app/utils/set-exp/set-exp.component.ts","./src/app/utils/set-exp/set-exp.component.html","./src/app/utils/star-exp/star-exp.component.ts","./src/app/utils/star-exp/star-exp.component.html","./src/app/utils/stat.pipe.ts","./src/main.ts"],"sourcesContent":["import { Citation, Eternal, Experience, Skill, Stat, Statistic, Archtype } from \"../utils/common\";\r\n\r\nexport class Affiliation {\r\n    private timeline: {\r\n        [Date in Eternal]?: Array<(Record<'Kind', AffiliationEvent> & Partial<{\r\n            Subaffiliation: Partial<Subaffiliation> & Pick<Subaffiliation, 'Name'>,\r\n            NewName?: string\r\n        } & AffiliationInfo>)>\r\n    } = {}\r\n\r\n    constructor(\r\n        private founding: number,\r\n        private moduleInfo: AffiliationInfo) {\r\n        this.timeline[(founding - 2398) as Eternal] = [{\r\n            Kind: AffiliationEvent.Founded,\r\n            ...moduleInfo\r\n        }];\r\n    }\r\n\r\n    public Update(when: number, update:Partial<AffiliationInfo>): Affiliation {\r\n        this.timeline[(when-2398) as Eternal] = [...(this.timeline[(when-2398) as Eternal] ?? []), {\r\n            Kind: AffiliationEvent.Modified,\r\n            ...update\r\n        }];\r\n        return this;\r\n    }\r\n\r\n    public RemoveRegion(when: number, name: string, citation?: Citation): Affiliation {\r\n        this.timeline[(when-2398) as Eternal] = [...(this.timeline[(when-2398) as Eternal] ?? []), {\r\n            Kind: AffiliationEvent.RegionRemoved,\r\n            Name: name,\r\n            Citation: citation\r\n        }];\r\n        return this;\r\n    }\r\n\r\n    public AddRegion(when: number, subaff: Subaffiliation): Affiliation {\r\n        this.timeline[(when-2398) as Eternal] = [...(this.timeline[(when-2398) as Eternal] ?? []), {\r\n            Kind: AffiliationEvent.RegionAdded,\r\n            Subaffiliation: subaff\r\n        }];\r\n        return this;\r\n    }\r\n\r\n    public UpdateRegion(when: number, update: (Partial<Subaffiliation> & Pick<Subaffiliation, 'Name'>), rename?: string): Affiliation {\r\n        this.timeline[(when-2398) as Eternal] = [...(this.timeline[(when-2398) as Eternal] ?? []), {\r\n            Kind: AffiliationEvent.RegionChanged,\r\n            Subaffiliation: update,\r\n            NewName: rename\r\n        }];\r\n        return this;\r\n    }\r\n\r\n    public At(when: Eternal): (AffiliationInfo & Record<'Subaffiliations', Subaffiliation[]>) | undefined {\r\n        const importantDates = Object.keys(this.timeline)\r\n            .filter(key => (+key) <= when)\r\n            .sort((a, b) => (+a) - (+b))\r\n            .map(key => (+key) as Eternal)\r\n            .filter(date => \r\n                this.timeline[date]?.some(event => \r\n                    event.Kind === AffiliationEvent.Founded || event.Kind === AffiliationEvent.Dissolved))\r\n            .reverse();\r\n        \r\n        const latest = importantDates.pop();\r\n        if(latest === undefined) throw new Error(); //this means dates is empty and latest is undefined, which means there is no defined founding, which is bad.\r\n        if(!(this.timeline[latest]?.some(date => date.Kind === AffiliationEvent.Founded || date.Kind === AffiliationEvent.Modified))) {\r\n            //this means that the most recent affiliation event is that it dissolved, which means if that date is before now (which it must be because above) then there is no affiliation to return\r\n            return undefined;\r\n        }\r\n\r\n        //build the affiliation between 'latest' and 'when'\r\n        const dates = Object.keys(this.timeline)\r\n            .filter(key => (+key) >= latest && (+key) <= when)\r\n            .sort((a, b) => (+a) - (+b))\r\n            .map(key => (+key) as Eternal);\r\n        \r\n        //this is the actual data, just unprocssed\r\n        const activities = dates.flatMap(date => this.timeline[date]?.filter(event => event.Kind === AffiliationEvent.RegionAdded || event.Kind === AffiliationEvent.RegionChanged || event.Kind === AffiliationEvent.RegionRemoved || event.Kind === AffiliationEvent.Modified ))\r\n        const founding = [...dates].shift();\r\n        if(founding === undefined) throw new Error();\r\n        const start = this.timeline[founding]?.filter(date => date.Kind === AffiliationEvent.Founded)[0];\r\n\r\n        const process = (sofar: ReturnType<typeof this.At>): ReturnType<typeof this.At> => {\r\n            const current = activities.shift();\r\n            if(!current) return sofar;\r\n\r\n            switch(current.Kind) {\r\n                case AffiliationEvent.Founded:\r\n                    return process(sofar);\r\n                case AffiliationEvent.Dissolved:\r\n                    return undefined;\r\n                case AffiliationEvent.Modified:\r\n                    return process({\r\n                        Name: current.Name ?? sofar?.Name,\r\n                        Cost: current.Cost ?? sofar?.Cost,\r\n                        Experience: current.Experience ?? sofar?.Experience,\r\n                        PrimaryLanguage: current.PrimaryLanguage ?? sofar?.PrimaryLanguage,\r\n                        SecondaryLanguages: current.SecondaryLanguages ?? sofar?.SecondaryLanguages,\r\n                        Subaffiliations: sofar?.Subaffiliations ?? [],\r\n                        Citation: current.Citation ?? sofar?.Citation,\r\n                        ArchtypeScore: { ...sofar?.ArchtypeScore, ...current.ArchtypeScore },\r\n                        Protocol: current.Protocol ?? sofar?.Protocol,\r\n                    } as ReturnType<typeof this.At>)\r\n                case AffiliationEvent.RegionAdded:\r\n                    return process({\r\n                        Name: sofar?.Name,\r\n                        Cost: sofar?.Cost,\r\n                        Experience: sofar?.Experience,\r\n                        PrimaryLanguage: sofar?.PrimaryLanguage,\r\n                        SecondaryLanguages: sofar?.SecondaryLanguages,\r\n                        Subaffiliations: [...(sofar?.Subaffiliations ?? []), current.Subaffiliation],\r\n                        Citation: current.Citation ?? sofar?.Citation,\r\n                        ArchtypeScore: { ...sofar?.ArchtypeScore, ...current.ArchtypeScore },\r\n                        Protocol: sofar?.Protocol\r\n                    } as ReturnType<typeof this.At>);\r\n                case AffiliationEvent.RegionRemoved:\r\n                    return process({\r\n                        Name: sofar?.Name,\r\n                        Cost: sofar?.Cost,\r\n                        Experience: sofar?.Experience,\r\n                        PrimaryLanguage: sofar?.PrimaryLanguage,\r\n                        SecondaryLanguages: sofar?.SecondaryLanguages,\r\n                        Subaffiliations: sofar?.Subaffiliations.filter(sub => sub.Name !== current.Name) ?? [],\r\n                        Citation: current.Citation ?? sofar?.Citation,\r\n                        ArchtypeScore: { ...sofar?.ArchtypeScore, ...current.ArchtypeScore },\r\n                        Protocol: sofar?.Protocol\r\n                    } as ReturnType<typeof this.At>);\r\n                case AffiliationEvent.RegionChanged:\r\n                    return process({\r\n                        Name: current.Name ?? sofar?.Name,\r\n                        Cost: current.Cost ?? sofar?.Cost,\r\n                        Experience: current.Experience ?? sofar?.Experience,\r\n                        PrimaryLanguage: sofar?.PrimaryLanguage,\r\n                        SecondaryLanguages: sofar?.SecondaryLanguages,\r\n                        Subaffiliations: [...[...sofar?.Subaffiliations.filter(sub => sub.Name !== current.Subaffiliation?.Name) ?? []], { ...current.Subaffiliation, Name: current.NewName ?? current.Subaffiliation?.Name }],\r\n                        Citation: current.Citation ?? sofar?.Citation,\r\n                        ArchtypeScore: { ...sofar?.ArchtypeScore, ...current.ArchtypeScore },\r\n                        Protocol: sofar?.Protocol\r\n                    } as ReturnType<typeof this.At>)\r\n            }\r\n        }\r\n\r\n        const ret = process({ \r\n            Name: start!.Name,\r\n            Cost: start!.Cost, \r\n            Experience: start!.Experience,\r\n            PrimaryLanguage: start!.PrimaryLanguage,\r\n            SecondaryLanguages: start!.SecondaryLanguages,\r\n            Subaffiliations: [],\r\n            Citation: start!.Citation!,\r\n            ArchtypeScore: start?.ArchtypeScore,\r\n            Protocol: start!.Protocol\r\n        } as ReturnType<typeof this.At>);\r\n        return ret;\r\n    }\r\n}\r\n\r\nexport type AffiliationInfo = {\r\n    Name: string,\r\n    Cost: number,\r\n    Experience: Experience[],\r\n    PrimaryLanguage: Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string },\r\n    SecondaryLanguages: Array<Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string }>,\r\n    Citation: Citation,\r\n    ArchtypeScore?: Partial<{ [archtype in Archtype]: number }>\r\n    Protocol: Stat & { Skill: Skill.Protocol, Kind: Statistic.Skill, Subskill: string }\r\n}\r\n\r\nexport type Subaffiliation = Omit<AffiliationInfo, 'Cost' | 'PrimaryLanguage' | 'SecondaryLanguages' | 'Protocol'> & Partial<Pick<AffiliationInfo, 'Cost'>>;\r\n\r\nenum AffiliationEvent {\r\n    'Founded', 'Dissolved', 'RegionAdded', 'RegionRemoved', 'RegionChanged', 'Modified'\r\n}\r\n","import { Affiliation, AffiliationInfo, Subaffiliation } from './affiliation';\r\nimport { Statistic, Trait, Skill, Attribute, Stat, Eternal, Book, EnumMap, Communications, AnimalHandling } from '../utils/common';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AffiliationsService {\r\n  Affiliations: Affiliation[] = []\r\n  constructor() { \r\n    const CapellanPrimaryLanguage: Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Language,\r\n      Subskill: 'Mandarin Chinese',\r\n      Kind: Statistic.Skill };\r\n    const CapellanSecondaryLanguages: (Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string })[] = \r\n      ['Russian', 'Cantonese', 'Vietnamese', 'English'].map(lang => { return {\r\n        Skill: Skill.Language,\r\n        Subskill: lang,\r\n        Kind: Statistic.Skill }});\r\n    const CapellanProtocol:  Stat & { Skill: Skill.Protocol, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Protocol,\r\n      Subskill: 'Capellan',\r\n      Kind: Statistic.Skill };\r\n\r\n    const FedSunsPrimaryLanguage: Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Language,\r\n      Subskill: 'TODO',\r\n      Kind: Statistic.Skill };\r\n    const FedSunsSecondaryLanguages: (Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string })[] = \r\n      [].map(lang => { return {\r\n        Skill: Skill.Language,\r\n        Subskill: lang,\r\n        Kind: Statistic.Skill }});\r\n    const FedSunsProtocol:  Stat & { Skill: Skill.Protocol, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Protocol,\r\n      Subskill: 'FedSuns',\r\n      Kind: Statistic.Skill };\r\n\r\n    const DCProtocol:  Stat & { Skill: Skill.Protocol, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Protocol,\r\n      Subskill: 'Combine',\r\n      Kind: Statistic.Skill };\r\n    const DCPrimaryLanguage: Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Language,\r\n      Subskill: 'Japanese',\r\n      Kind: Statistic.Skill };\r\n    const DCSecondaryLanguages: (Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string })[] = \r\n      ['English', 'Swedenese', 'Arabic'].map(lang => { return {\r\n        Skill: Skill.Language,\r\n        Subskill: lang,\r\n        Kind: Statistic.Skill }});\r\n\r\n    const LyranPrimaryLanguage: Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Language,\r\n      Subskill: 'TODO',\r\n      Kind: Statistic.Skill };\r\n    const LyranSecondaryLanguages: (Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string })[] = \r\n      [].map(lang => { return {\r\n        Skill: Skill.Language,\r\n        Subskill: lang,\r\n        Kind: Statistic.Skill }});\r\n    const LyranProtocol:  Stat & { Skill: Skill.Protocol, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Protocol,\r\n      Subskill: 'Lyran',\r\n      Kind: Statistic.Skill };\r\n\r\n    const FWLPrimaryLanguage: Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Language,\r\n      Subskill: 'TODO',\r\n      Kind: Statistic.Skill };\r\n    const FWLSecondaryLanguages: (Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string })[] = \r\n      [].map(lang => { return {\r\n        Skill: Skill.Language,\r\n        Subskill: lang,\r\n        Kind: Statistic.Skill }});\r\n    const FWLProtocol:  Stat & { Skill: Skill.Protocol, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Protocol,\r\n      Subskill: 'FWL',\r\n      Kind: Statistic.Skill };\r\n\r\n    const RotSProtocol:  Stat & { Skill: Skill.Protocol, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Protocol,\r\n      Subskill: 'Repub. o/t Sphere',\r\n      Kind: Statistic.Skill };\r\n\r\n    const CanopianPrimaryLanguage: Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Language,\r\n      Subskill: 'TODO',\r\n      Kind: Statistic.Skill };\r\n    const CanopianSecondaryLanguages: (Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string })[] = \r\n      [].map(lang => { return {\r\n        Skill: Skill.Language,\r\n        Subskill: lang,\r\n        Kind: Statistic.Skill }});\r\n    const CanopianProtocol:  Stat & { Skill: Skill.Protocol, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Protocol,\r\n      Subskill: 'Canopian',\r\n      Kind: Statistic.Skill }\r\n\r\n    const capellan = new Affiliation(2398, { Name: 'Capellan Confideration',\r\n      Cost: 150,\r\n      PrimaryLanguage: CapellanPrimaryLanguage,\r\n      SecondaryLanguages: CapellanSecondaryLanguages,\r\n      Protocol: CapellanProtocol,\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Quantity: -100 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.ExceptionalAttribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 15 },\r\n        { ...CapellanProtocol, Quantity: 15 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name:'Andurien Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 }, \r\n        { Kind: Statistic.Trait, Trait: Trait.Patient, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -75 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 20 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 25 },\r\n        { ...CapellanProtocol, Quantity: 15 },\r\n        { ...FWLProtocol, Quantity: 15 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name: 'Capella Commonality',\r\n      Experience:  [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 55 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 10 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 10 },\r\n        { Or: ['Russian', 'English'].map<Stat>(lang => { return { Kind:Statistic.Skill, Skill: Skill.Language, Subskill: lang }}), Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 20 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name: 'Chesterson Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 45 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Introvert, Quantity: -25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -50 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: 'Russian', Quantity: 15 },\r\n        { Or: [ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages ], Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: 'Chesterton History', Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 20 },\r\n        { ...CapellanProtocol, Quantity: 20 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name: 'St. Ives Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 25 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: '*', Quantity: 10 },\r\n        { Or: EnumMap(Communications).map(skill => { return { Kind: Statistic.Skill, Skill: Skill.Communications, Subskill: skill }}), Quantity: 15 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 10 },\r\n        { Or: [ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages ], Quantity: 25 },\r\n        { ...CapellanProtocol, Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Training, Quantity: 25 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name: 'Sarna Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 10 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: 'Capellan History', Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 10 },\r\n        { ...CapellanProtocol, Quantity: 5 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name: 'Sian Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 85 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of Non-Capellans', Quantity: -125 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 40 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: 'Capellan History', Quantity: 20 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 10 },\r\n        { ...CapellanProtocol, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name: 'Tikonov Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 25 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Introvert, Quantity: -25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -50 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: 'Russian', Quantity: 50 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: 'Tikonov History', Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 20 },\r\n        { ...CapellanProtocol, Quantity: 20 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).RemoveRegion(2898, 'Andurien Commonality', {\r\n      Book: Book.BestGuess,\r\n      Page: 0,\r\n      Notes: ['This is a best guess from data I could figure on sarna.net']\r\n    }).RemoveRegion(3028, 'Liao Commonality', {\r\n        Book: Book.EraReport3052,\r\n        Page: 158\r\n    }).UpdateRegion(3028, { Name: 'St. Ives Commonality',\r\n      Cost: 125,\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger:'Paranoia', Quantity: 100 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -100 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 55 },\r\n        { Or: [ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages ], Quantity: 15 },\r\n        { ...CapellanProtocol, Quantity: -15 },\r\n        { ...FedSunsProtocol, Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: '*', Quantity: 5 }],\r\n      Citation: {\r\n        Book: Book.EraReport3052,\r\n        Page: 158\r\n      }}, 'St. Ives Compact'\r\n    ).RemoveRegion(3040, 'Chesterson Commonality', {\r\n      Book: Book.BestGuess,\r\n      Page: 0,\r\n      Notes: ['This is a best guess from data I could figure on sarna.net']\r\n    });\r\n    capellan.Update(3052, {\r\n        Cost: 100,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75 },\r\n          { Kind: Statistic.Trait, Trait: Trait.ExceptionalAttribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Paranoia', Quantity: -150 },\r\n          { Or: CapellanSecondaryLanguages, Quantity: 20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 15 },\r\n          { ...CapellanProtocol, Quantity: 15 }],\r\n        Citation: {\r\n          Book: Book.EraReport3052,\r\n          Page: 158 }\r\n    }).UpdateRegion(3052, { Name: 'Capella Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3052,\r\n        Page: 158 }\r\n    }).UpdateRegion(3052, { Name: 'Sian Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 100 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger:'Hatred of Non-Capellans', Quantity: -175 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 30 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill:'Capellan History', Quantity: 30 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 15 },\r\n        { ...CapellanProtocol, Quantity: 15 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3052,\r\n        Page: 158 }\r\n    }).AddRegion(3057, { Name: 'Liao Commonality',\r\n      Cost: 125,\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 50 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger:'Paranoia', Quantity: -50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -50 },\r\n        { Or: [...new Set([ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages, LyranPrimaryLanguage, ...LyranSecondaryLanguages ])], Quantity: 25 },\r\n        { Or: [FedSunsProtocol, LyranProtocol], Quantity: 20 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: '*', Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 15 }],\r\n      Citation: {\r\n        Book: Book.EraReport3062,\r\n        Page: 152 }\r\n    });\r\n    capellan.Update(3062, {\r\n      Cost: 125,\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75 },\r\n        { Kind: Statistic.Trait, Trait: Trait.ExceptionalAttribute, Attribute: Attribute.Edge, Quantity: 75 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Paranoia', Quantity: -150 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 20 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 15 },\r\n        { ...CapellanProtocol, Quantity: 15 }],\r\n      Citation: {\r\n        Book: Book.EraReport3062,\r\n        Page: 152 }\r\n    }).RemoveRegion(3062, 'St. Ives Compact', {\r\n      Book: Book.EraReport3062,\r\n      Page: 152,\r\n    }).UpdateRegion(3062, { Name: 'Capella Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 55 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 10 },\r\n        { Or: [ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages ], Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 5 }],\r\n      Citation: {\r\n        Book: Book.EraReport3062,\r\n        Page: 152 }\r\n    }).UpdateRegion(3062, { Name: 'Sian Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 85 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger:'Hatred of Non-Capellans', Quantity: -155 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 40 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill:'Capellan History', Quantity: 20 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 10 },\r\n        { ...CapellanProtocol, Quantity: 15 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3062,\r\n        Page: 152\r\n      }\r\n    }).AddRegion(3062, { Name: 'Victoria Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 35 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -50 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '*', Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 15 }],\r\n      Citation: {\r\n        Book: Book.EraReport3062,\r\n        Page: 152 }\r\n    });\r\n    capellan.Update(3076, {\r\n      Cost: 150,\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.ExceptionalAttribute, Attribute: Attribute.Edge, Quantity: 100 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Paranoia', Quantity: -100 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 10 },\r\n        { ...CapellanProtocol, Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 5 }],\r\n      Citation: {\r\n        Book: Book.ATimeOfWar,\r\n        Page: 54 }\r\n    }).UpdateRegion(3076, { Name: 'Capella Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 15 },\r\n        { Or: [ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages ], Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 5 }],\r\n      Citation: {\r\n        Book: Book.ATimeOfWar,\r\n        Page: 54 }\r\n    }).UpdateRegion(3076, { Name: 'Liao Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -25 },\r\n        { Or: [...new Set([ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages, LyranPrimaryLanguage, ...LyranSecondaryLanguages ])], Quantity: 15 },\r\n        { Or: [FedSunsProtocol, LyranProtocol], Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: '*', Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 15 }],\r\n      Citation: {\r\n        Book: Book.ATimeOfWar,\r\n        Page: 54 }\r\n    }).UpdateRegion(3076, { Name: 'Sian Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of FedSuns', Quantity: -135 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 50 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill:'Capellan History', Quantity: 10 },\r\n        { ...CapellanProtocol, Quantity:15 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.ATimeOfWar,\r\n        Page: 54 }\r\n    }).AddRegion(3076, { Name: 'St. Ives Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -100 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 50 },\r\n        { Or: [FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages], Quantity: 15 },\r\n        { ...CapellanProtocol, Quantity: -15 },\r\n        { ...FedSunsProtocol, Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: '*', Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.ATimeOfWar,\r\n        Page: 54 }\r\n    }).UpdateRegion(3076, { Name: 'Victoria Commonality',\r\n    Experience: [\r\n      { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 35 },\r\n      { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 50 },\r\n      { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -50 },\r\n\r\n      { Kind: Statistic.Skill, Skill: Skill.Language, Subskill:'*', Quantity: 15 },\r\n      { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 },\r\n      { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 15 }],\r\n    Citation: {\r\n      Book: Book.ATimeOfWar,\r\n      Page: 54}\r\n    }).UpdateRegion(3085, { Name: 'Capella Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.FieldManual3085,\r\n        Page: 233,\r\n        Notes: [\"Book uses name 'Capellan Commonality'\"] }\r\n    }).RemoveRegion(3085, 'Sarna Commonality',{\r\n      Book: Book.FieldManual3085,\r\n      Page: 233\r\n    }).UpdateRegion(3085, { Name: 'Liao Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 50 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 15 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: \"Hatred of the Republic of the Sphere\", Quantity: -50 },\r\n        { Or: [...new Set([ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages, \r\n                            LyranPrimaryLanguage, ...LyranSecondaryLanguages,\r\n                            FWLPrimaryLanguage, ...FWLSecondaryLanguages  ])], Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 20 }],\r\n      Citation: {\r\n        Book: Book.FieldManual3085,\r\n        Page: 233 }\r\n    }, 'Sarna Commonality'\r\n    ).UpdateRegion(3085, { Name: 'Sian Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of FedSuns', Quantity: -75 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of Republic of the Sphere', Quantity: -60 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 50 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill:'Capellan History', Quantity: 10 },\r\n        { ...CapellanProtocol, Quantity:15 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.FieldManual3085,\r\n        Page: 233 }\r\n    }).UpdateRegion(3085, { Name: 'St. Ives Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of FedSuns', Quantity: -50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -10 },\r\n        { Or: [ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages ], Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Art, Subskill:'*', Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.FieldManual3085,\r\n        Page: 233 }\r\n    }).AddRegion(3135, { Name: 'Chesterton Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 15 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 15 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 15 },\r\n        { Or: FedSunsSecondaryLanguages, Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 },\r\n        { Or: [CapellanProtocol, RotSProtocol], Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3145,\r\n        Page: 184,\r\n        Notes: [\"also see pg. 185\"] }\r\n    }).UpdateRegion(3135, { Name: 'Tikonov Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 10 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 20 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 20 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: 'Russian', Quantity: 15 },\r\n        { Or: [CapellanProtocol, RotSProtocol], Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3145,\r\n        Page: 184,\r\n        Notes: [\"also see pg. 185\"] }\r\n    }).UpdateRegion(3145, { Name: 'Capella Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 20 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 10 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 20 },\r\n        { Or: ['Russian', 'English'].map<Stat>(lang => { return { Kind:Statistic.Skill, Skill: Skill.Language, Subskill: lang }}), Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 },\r\n        { Or: [CapellanProtocol, RotSProtocol], Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3145,\r\n        Page: 184,\r\n        Notes: [\"Book uses name 'Capellan Commonality'\"] }\r\n    }).UpdateRegion(3145, { Name: 'Sarna Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 50 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 20 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of Republic of the Sphere', Quantity: -50 },\r\n        { Or: [...new Set([ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages, \r\n                            FWLPrimaryLanguage, ...FWLSecondaryLanguages  ])], Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 20 }],\r\n      Citation: {\r\n        Book: Book.EraReport3145,\r\n        Page: 184 }\r\n    }).UpdateRegion(3145, { Name: 'Sian Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of FedSuns', Quantity: -50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of Republic of the Sphere', Quantity: -100 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 60 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 35 },\r\n        { Or: [...new Set([ ...CapellanSecondaryLanguages, ...CanopianSecondaryLanguages ])], Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill:'Canopian History', Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill:'Capellan History', Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 10 },\r\n        { ...CanopianProtocol, Quantity: 5 },\r\n        { ...CapellanProtocol, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3145,\r\n        Page: 184 }\r\n    }).UpdateRegion(3145, { Name: 'St. Ives Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 30 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of Republic of the Sphere', Quantity: -50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 10 },\r\n        { Or: [ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages ], Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Art, Subskill:'*', Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3145,\r\n        Page: 184 }\r\n    }).UpdateRegion(3145, { Name: 'Victoria Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 40 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -50 },\r\n        { Or: [ CanopianPrimaryLanguage, ...CanopianSecondaryLanguages ], Quantity: 15 },\r\n        { Or: [...new Set([ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages, \r\n                            FWLPrimaryLanguage, ...FWLSecondaryLanguages,\r\n                            CapellanPrimaryLanguage, ...CapellanSecondaryLanguages])], Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 },\r\n        { ...CanopianProtocol, Quantity: 10 },\r\n        { ...CapellanProtocol, Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Survival, Subskill: '*', Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3145,\r\n        Page: 184 }\r\n    });\r\n    this.Affiliations.push(capellan);\r\n\r\n    const draconis = new Affiliation(2398, {\r\n      Name: 'Draconis Combine',\r\n      Cost: 150,\r\n      PrimaryLanguage: DCPrimaryLanguage,\r\n      SecondaryLanguages: DCSecondaryLanguages,\r\n      Protocol: DCProtocol,\r\n      Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of House Davion', Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Xenophobia', Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: 'Oral Tradition', Quantity: 25},\r\n          { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: 'Combine', Quantity: 25 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name: 'Azami',\r\n      Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Xenophobia', Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Equipped, Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.ThickSkinned, Quantity: 50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -100 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: 'Arabic', Quantity: 35 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: 'Japanese', Quantity: -10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MeleeWeapons, Quantity: 50 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 50 },\r\n          { Kind: Statistic.Skill, Skill: Skill.AnimalHandling, Subskill: AnimalHandling.Riding, Quantity: 25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Survival, Subskill: '*', Quantity: 50 }\r\n      ],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name: 'Benjamin District',\r\n      Experience: [\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of house Davion', Quantity: -50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Xenophobia', Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Patient, Quantity: 15 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 20 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: 'Oral Tradition', Quantity: 15 },\r\n        { Or: [ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages ], Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: 'Combine', Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.SmallArms, Quantity: 10 }\r\n      ],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    })\r\n    this.Affiliations.push(draconis);\r\n  }\r\n\r\n  public At(when: number): (AffiliationInfo & Record<'Subaffiliations', Subaffiliation[]>)[] {\r\n    return this.Affiliations.flatMap(aff => aff.At((when - 2398) as Eternal) ?? [])\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nconst routes: Routes = [];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { ChangeDetectorRef, Component, ViewChild, HostListener } from '@angular/core';\r\nimport { Character, Option } from './character/character';\r\nimport { CharacterComponent } from './chargen/character/character.component';\r\nimport { Stat, Experience, Statistic, Skill } from './utils/common';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  title = 'atow';\r\n\r\n  character?: Character\r\n\r\n  @ViewChild('char') char!:CharacterComponent;\r\n\r\n  constructor(private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  Start() {\r\n    const hadChar:boolean = !!this.character;\r\n    if(hadChar) \r\n      console.log(this.char.vitals.characterName);\r\n    this.character = new Character({ Option: Option.Create });\r\n\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();\r\n  }\r\n\r\n  Save() {\r\n\r\n  }\r\n\r\n  Load(e: any) {\r\n    this.character = new Character({\r\n      Option: Option.Load,\r\n      File: e.target.files\r\n    });\r\n    this.char.character = this.character;\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  characterChanged(e: Character) {\r\n    this.character = e;\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n}\r\n","<div class=\"underconstruction\">\r\n    <div *ngIf=\"!character\">\r\n        <label for=\"newchar\">New</label><input type=\"button\" value=\"+\" id=\"newchar\" name=\"newchar\" (click)=\"Start()\" />\r\n    </div>\r\n    <div *ngIf=\"character\">\r\n        <label for=\"savchar\">Save</label><input type=\"button\" value=\"...\" id=\"savchar\" name=\"savchar\" (click)=\"Save()\" />\r\n    </div>\r\n    <div>\r\n        <label for=\"oldchar\">Load</label><input type=\"file\" id=\"oldchar\" name=\"oldchar\" (change)=\"Load($event)\" />\r\n    </div>\r\n</div>\r\n\r\n<app-character *ngIf=\"character\" #char\r\n    [character] = \"character\">\r\n\r\n\r\n</app-character>","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { CharacterComponent } from './chargen/character/character.component';\r\nimport { Stage0Component } from './chargen/stages/stage0/stage0.component';\r\nimport { Stage1Component } from './chargen/stages/stage1/stage1.component';\r\nimport { Stage2Component } from './chargen/stages/stage2/stage2.component';\r\nimport { Stage3Component } from './chargen/stages/stage3/stage3.component';\r\nimport { Stage4Component } from './chargen/stages/stage4/stage4.component';\r\nimport { StatPipe } from './utils/stat.pipe';\r\nimport { ExpPipe } from './utils/exp.pipe';\r\nimport { ArchtypePipe } from './utils/archtype.pipe';\r\nimport { CitationPipe } from './utils/citation.pipe';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { OrExpComponent } from './utils/or-exp/or-exp.component';\r\nimport { DefaultExpComponent } from './chargen/stages/stage0/default-exp/default-exp.component';\r\nimport { AffComponent } from './chargen/stages/newaff/aff/aff.component';\r\nimport { SubaffComponent } from './chargen/stages/newaff/subaff/subaff.component';\r\nimport { StarExpComponent } from './utils/star-exp/star-exp.component';\r\nimport { ExpComponent } from './utils/exp/exp.component';\r\nimport { PickExpComponent } from './utils/pick-exp/pick-exp.component';\r\nimport { NewaffComponent } from './chargen/stages/newaff/newaff.component';\r\nimport { RandomLifeEventComponent } from './chargen/stages/random-life-event/random-life-event.component';\r\nimport { SetExpComponent } from './utils/set-exp/set-exp.component';\r\nimport { VitalsComponent } from './chargen/character/vitals/vitals.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppComponent,\r\n        CharacterComponent,\r\n        Stage0Component,\r\n        Stage1Component,\r\n        Stage2Component,\r\n        Stage3Component,\r\n        Stage4Component,\r\n        StatPipe,\r\n        ExpPipe,\r\n        ArchtypePipe,\r\n        CitationPipe,\r\n        OrExpComponent,\r\n        DefaultExpComponent,\r\n        AffComponent,\r\n        SubaffComponent,\r\n        StarExpComponent,\r\n        ExpComponent,\r\n        PickExpComponent,\r\n        NewaffComponent,\r\n        RandomLifeEventComponent,\r\n        SetExpComponent,\r\n        VitalsComponent,\r\n    ],\r\n    providers: [],\r\n    bootstrap: [AppComponent],\r\n    imports: [\r\n        BrowserModule,\r\n        CommonModule,\r\n        FormsModule,\r\n        AppRoutingModule,\r\n    ]\r\n})\r\nexport class AppModule { }\r\n","import { Citation, Eternal, Experience, Requirement, Archtype } from \"../utils/common\"\r\n\r\nexport class Background {\r\n    private timeline: {\r\n        [Date in Eternal]?: Array<(Record<'Kind', BackgroundEvent> & Partial<BackgroundInfo>)>\r\n    } = {}\r\n\r\n    constructor(\r\n        private when: number,\r\n        private moduleInfo: BackgroundInfo) {\r\n        const date: Eternal = (when-2398) as Eternal\r\n        if(date > 0) {\r\n            this.timeline[0] = [{\r\n                Kind: BackgroundEvent.Disallow\r\n            }];\r\n        }\r\n        this.timeline[date] = [{\r\n            Kind: BackgroundEvent.Allowed,\r\n            ...moduleInfo\r\n        }];\r\n    }\r\n\r\n    enable(when: number, backgroundInfo: Partial<Omit<BackgroundInfo, 'Duration'>> | undefined = undefined) : Background {\r\n        this.timeline[(when-2398) as Eternal] = [{\r\n            Kind: BackgroundEvent.Allowed,\r\n            ...backgroundInfo\r\n        }];\r\n        return this;\r\n    }\r\n\r\n    disable(when: number) : Background {\r\n        this.timeline[(when-2398) as Eternal] = [{\r\n            Kind: BackgroundEvent.Disallow\r\n        }];\r\n        return this;\r\n    }\r\n\r\n    update(when: number, backgroundInfo: Partial<Omit<BackgroundInfo, 'Stage' | 'Duration'>>): Background {\r\n        this.timeline[(when-2398) as Eternal] = [{\r\n            Kind: BackgroundEvent.Modify,\r\n            ...backgroundInfo\r\n        }];\r\n        return this;\r\n    }\r\n\r\n    public At(when: Eternal): BackgroundInfo | undefined {\r\n        const importantDates = Object.keys(this.timeline)\r\n            .filter(key => (+key) <= when)\r\n            .sort((a, b) => (+a) - (+b))\r\n            .map(key => (+key) as Eternal)\r\n            .filter(date => \r\n                this.timeline[date]?.some(event => \r\n                    event.Kind === BackgroundEvent.Allowed || event.Kind === BackgroundEvent.Disallow))\r\n            .reverse();\r\n\r\n        const latest = importantDates.pop();\r\n        if(latest === undefined) throw new Error(); //this means dates is empty and latest is undefined, which means there is no defined founding, which is bad.\r\n        if(!(this.timeline[latest]?.some(date => date.Kind === BackgroundEvent.Allowed))) {\r\n            //this means that the most recent background event is that it disallowed, which means if that date is before now (which it must be because above) then there is no background to return\r\n            return undefined;\r\n        }\r\n\r\n        //build the background between 'latest' and 'when'\r\n        const dates = Object.keys(this.timeline)\r\n            .filter(key => (+key) >= latest && (+key) <= when)\r\n            .sort((a, b) => (+a) - (+b))\r\n            .map(key => (+key) as Eternal);\r\n\r\n        //this is the actual data, just unprocssed\r\n        const events = dates.flatMap(date => this.timeline[date]?.filter(event => event.Kind === BackgroundEvent.Allowed || event.Kind === BackgroundEvent.Modify))\r\n        const initial = [...dates].shift();\r\n\r\n        if(initial === undefined) throw new Error();\r\n        const start = this.timeline[initial]?.filter(date => date.Kind === BackgroundEvent.Allowed)[0];\r\n\r\n        const process = (sofar: ReturnType<typeof this.At>): ReturnType<typeof this.At> => {\r\n            const current = events.shift();\r\n            if(!current) return sofar;\r\n\r\n            switch(current.Kind) {\r\n                case BackgroundEvent.Allowed:\r\n                case BackgroundEvent.Modify:\r\n                    return process({\r\n                        Name: current.Name ?? sofar!.Name!,\r\n                        Prereq: current.Prereq ?? sofar!.Prereq,\r\n                        Cost: current.Cost ?? sofar!.Cost!,\r\n                        Experience: current.Experience ?? sofar!.Experience!,\r\n                        Duration: current.Duration ?? sofar!.Duration!,\r\n                        Citation: current.Citation ?? sofar!.Citation,\r\n                        ArchtypeScore: { ...sofar?.ArchtypeScore, ...current.ArchtypeScore },\r\n                    });\r\n                case BackgroundEvent.Disallow:\r\n                    return undefined;\r\n            }\r\n        }\r\n\r\n        const ret = process({ \r\n            Name: start!.Name!,\r\n            Prereq: start!.Prereq,\r\n            Cost: start!.Cost!,\r\n            Experience: start!.Experience!,\r\n            Duration: start!.Duration!,\r\n            Citation: start!.Citation,\r\n            ArchtypeScore: start!.ArchtypeScore,\r\n        });\r\n        return ret;\r\n    }\r\n}\r\n\r\nexport type BackgroundInfo = {\r\n    Name: string,\r\n    Prereq?: Requirement,\r\n    Cost: number,\r\n    Experience: Experience[]\r\n    Duration: number,\r\n    Citation?: Citation,\r\n    ArchtypeScore?: Partial<{ [archtype in Archtype]: number }>\r\n}\r\n\r\nenum BackgroundEvent {\r\n    'Allowed', 'Disallow', 'Modify'\r\n}","import { Injectable } from '@angular/core';\r\nimport { Attribute, Book, Driving, EnumMap, Eternal, MedTech, Navigation, Prestidigitation, Requirement, Skill, Stage, Stat, Statistic, Tactics, Tracking, Trait } from '../utils/common';\r\nimport { Background, BackgroundInfo } from './background';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BackgroundsService {\r\n  Backgrounds: { [value in Exclude<Stage, 0 | 3>]: Background[] } = {\r\n    1: [],\r\n    2: [],\r\n    4: []\r\n  }\r\n\r\n  constructor() { \r\n    // This is a bit of a beast but it builds all the possibilities for the three traits values summed to 5\r\n    const nobilityPrereqs = [...Array(6).keys()]\r\n      .flatMap(title => [...Array(6).keys()]\r\n        .flatMap(wealth => [...Array(6).keys()]\r\n          .map(property => { return { [Trait.Title]: title, [Trait.Wealth]: wealth, [Trait.Property]: property}})))\r\n      .filter(sum => (sum[Trait.Title] + sum[Trait.Wealth] + sum[Trait.Property]) === 5)\r\n      .map<Requirement>(total => { return { And: [\r\n          { Kind: Statistic.Trait, Trait: Trait.Title, Op: '>=', Level: total[Trait.Title] },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Op: '>=', Level: total[Trait.Wealth] },\r\n          { Kind: Statistic.Trait, Trait: Trait.Property, Op: '>=', Level: total[Trait.Property] }          \r\n    ]}});\r\n    const whiteCollarPrereqs = [...Array(4).keys()]\r\n      .flatMap(wealth => [...Array(4).keys()]\r\n        .map(property => { return { [Trait.Wealth]: wealth, [Trait.Property]: property}}))\r\n      .filter(sum => (sum[Trait.Wealth] + sum[Trait.Property]) === 3)\r\n      .map<Requirement>(total => { return { And: [\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Op: '>=', Level: total[Trait.Wealth] },\r\n        { Kind: Statistic.Trait, Trait: Trait.Property, Op: '>=', Level: total[Trait.Property] }          \r\n    ]}});\r\n\r\n\r\n    const flexiXPStage2 = (quantity: number) => {\r\n      return { Set: { Options: [\r\n        ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att, Limit: 200 }}),\r\n        ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait, Limit: 200 }}),\r\n        ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill, Limit: 35 }})\r\n      ]}, Quantity: quantity }\r\n    }\r\n\r\n    this.Backgrounds[1].push(\r\n      new Background(2398, { Name: \"Back Woods\",\r\n        Prereq: { And: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Strength, Op:'>=', Level: 4 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Op:'>=', Level: 5 }] },\r\n        Cost: 290,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Strength, Quantity: 100 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Quantity: 100 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Reflexes, Quantity: 75 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: -25 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Equipped, Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Fit, Quantity: 100 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Illiterate, Quantity: -75 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Toughness, Quantity: 75 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -75 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '!', Quantity: -5 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MeleeWeapons, Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Ground, Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 5 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Running, Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Survival, Subskill: '*', Quantity: 15 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Tracking, Subskill: Tracking.Wilds, Quantity: 10 },\r\n          { Pick: { Count: 2, Options: [\r\n            ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: att }}),\r\n            ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }})\r\n          ] }, Quantity: 25 }\r\n        ],\r\n        Duration: 10,\r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 65 }\r\n      }), new Background(2398, { Name: 'Blue Collar',\r\n        Cost: 210,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Strength, Quantity: 45 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Quantity: 50 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Quantity: 50 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 25 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: -10 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Quantity: -10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: '*', Quantity: 10 },\r\n          { Pick: { Count: 2, Options: [\r\n            { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*' },\r\n            { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*' }\r\n          ] }, Quantity: 5 },\r\n          { Pick: { Count: 4, Options: [\r\n            ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att }}),\r\n            ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\r\n            ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill }})\r\n          ] }, Quantity: 10 }\r\n        ],\r\n        Duration: 10,\r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 65 }\r\n      }), new Background(2398, { Name: 'Nobility',\r\n        Prereq: { And: [\r\n          { IsClanner: false },\r\n          { Or: nobilityPrereqs }] },\r\n        Cost: 215,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Strength, Quantity: -75 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Quantity: -75 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Reflexes, Quantity: -50 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 100 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Quantity: 100 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Equipped, Quantity: 125 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Enemy, Quantity: -200 },\r\n          { Kind: Statistic.Trait, Trait: Trait.GlassJaw, Quantity: -100 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: 175 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 150 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Appraisal, Quantity: 5 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: '*', Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*', Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '!', Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!', Quantity: 10 },\r\n          { Pick: { Count: 4, Options: [\r\n            ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att }}),\r\n            ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\r\n            ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill }})\r\n          ] }, Quantity: 5 }\r\n        ],\r\n        Duration: 10,\r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 66\r\n        }\r\n      })\r\n    );\r\n    this.Backgrounds[2].push(\r\n      new Background(2398, { Name: 'Adolescent Warefare',\r\n        Prereq: { And: [{ Not: { Stage: 1, Name: 'Nobility' } }, { Not: { Stage: 1, Name: 'Trueborn Crèche' } }] },\r\n        Cost: 500,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Quantity: 40 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Reflexes, Quantity: 40 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: -30 },\r\n          { Kind: Statistic.Trait, Trait: Trait.CombatSense, Quantity: 80 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 30 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Paranoia', Quantity: -20 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Enemy, Quantity: -40 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '!', Quantity: -25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Leadership, Quantity: 25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MedTech, Subskill: MedTech.General, Quantity: 25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MeleeWeapons, Quantity: 25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 15 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!', Quantity: -10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Running, Quantity: 40 },\r\n          { Kind: Statistic.Skill, Skill: Skill.SmallArms, Quantity: 20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Stealth, Quantity: 30 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Streetwise, Subskill: '!', Quantity: 45 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Survival, Subskill: '*', Quantity: 45 },\r\n          flexiXPStage2(130)],\r\n        Duration: 6,\r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 67,\r\n          Notes: [\r\n            'Changed Compulsion trigger from \"Paranoid\" to \"Paranoia\"',\r\n            'Changed MedTech skill to have no Subskill to General'\r\n          ]\r\n        }\r\n      }), new Background(2398, { Name: 'Back Woods',\r\n        Cost: 500,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Quantity: 60 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 70 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: -20 },\r\n          { Kind: Statistic.Trait, Trait: Trait.AnimalEmpathy, Quantity: 50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.GoodHearing, Quantity: 40 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Introvert, Quantity: -20 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Climbing, Quantity: 30 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MedTech, Subskill: MedTech.General, Quantity: 20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MeleeWeapons, Quantity: 20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 45 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!', Quantity: -15 },\r\n          { Kind: Statistic.Skill, Skill: Skill.SmallArms, Quantity: 20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Stealth, Quantity: 40 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Survival, Subskill: '*', Quantity: 25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Tracking, Subskill: Tracking.Wilds, Quantity: 30 },\r\n          flexiXPStage2(125)\r\n        ],\r\n        Duration: 6, \r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 67,\r\n          Notes: [\r\n            'Changed MedTech skill to have no Subskill to General',\r\n            'Changes Survival subskill from Forest to any'\r\n          ]\r\n        }\r\n      })\r\n    );\r\n\r\n    this.Backgrounds[4].push(\r\n      new Background(2398, { Name: \"Agitator\",\r\n        Cost: 900,\r\n        Duration: 4,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Bloodmark, Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Gregarious, Quantity: 80 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -150 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Acting, Quantity: 50 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Disguise, Quantity: 75 },\r\n          { Or: EnumMap(Driving).map<Stat>(sub => { return { Kind: Statistic.Skill, Skill: Skill.Driving, Subskill: sub }}), Quantity: 65 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Leadership, Quantity: 60 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 80 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 70 },\r\n          { Or: EnumMap(Prestidigitation).map<Stat>(sub => { return { Kind: Statistic.Skill, Skill: Skill.Prestidigitation, Subskill: sub }}), Quantity: 100 },\r\n          { Kind: Statistic.Skill, Skill: Skill.SmallArms, Quantity: 75 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Streetwise, Subskill: '!', Quantity: 75 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Tactics, Subskill: Tactics.Infantry, Quantity: 40 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Training, Quantity: 50 },\r\n          { Set: { Options: [\r\n            ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att, Limit: 50 }}),\r\n            ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\r\n            ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill }})\r\n          ]}, Quantity: 125 }\r\n        ],\r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 74,\r\n          Notes: ['Added subskill option for Prestidigitation because none was listed.'] }\r\n      }), new Background(2398, { Name: \"Civilian Job\",\r\n      Cost: 600,\r\n      Duration: 6,\r\n      Experience: [\r\n        { Kind: Statistic.Skill, Skill: Skill.Administration, Quantity: 75 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: '*', Quantity: 40 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Computers, Quantity: 40 },\r\n        { Or: EnumMap(Driving).map(sub => { return { Kind: Statistic.Skill, Skill: Skill.Driving, Subskill: sub }}), Quantity: 60 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*', Quantity: 50 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Leadership, Quantity: 40 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 30 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!', Quantity: 50 },\r\n        { Pick: { Count: 4, Options: EnumMap(Skill).map(skill => { return { Kind: Statistic.Skill, Skill: skill }})}, Quantity: 20 },\r\n        { Set: { Options: [\r\n          ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att }}),\r\n          ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\r\n          ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill }})\r\n        ]}, Quantity: 85 }\r\n      ],\r\n      Citation: {\r\n        Book: Book.ATimeOfWar,\r\n        Page: 74,\r\n        Notes: ['Career subskill is originally restricted to Non-Military.', 'Changed four skills from choosen field to any four skills.'] }\r\n    })\r\n    );\r\n  }\r\n\r\n  public At(when: number, stage: Exclude<Stage, 0 | 3>): BackgroundInfo[] {\r\n    return this.Backgrounds[stage].flatMap(aff => aff.At((when - 2398) as Eternal) ?? [])\r\n  }\r\n}\r\n","import { Subject } from \"rxjs\";\r\nimport { Experience } from \"../utils/common\";\r\n\r\nexport class Character {\r\n    public Name: string = '';\r\n\r\n    public Experience: Subject<Experience> = new Subject();\r\n\r\n\r\n    constructor(args: Load | Create) {\r\n\r\n    }\r\n\r\n    \r\n}\r\n\r\ntype Create = {\r\n    Option: Option.Create,\r\n    Rules?: {\r\n        \r\n    }\r\n}\r\n\r\ntype Load = {\r\n    Option: Option.Load,\r\n    File: string,\r\n}\r\n\r\nexport enum Option {\r\n    Create, Load\r\n}","import { Component, ViewChild, ElementRef, ChangeDetectorRef, Input, EventEmitter, Output, OnInit, OnDestroy, AfterViewInit, ViewChildren, QueryList } from \"@angular/core\";\r\nimport { Acrobatics, AnimalHandling, Archtype, Attribute, Communications, Driving, EnumMap, Eternal, Experience, Gunnery, MedTech, Navigation, OneOrBoth, Piloting, Prestidigitation, Requirement, SecuritySystem, Skill, Stage, Statistic, Surgery, Tactics, Technician, ThrownWeapons, Tracking, Trait } from \"src/app/utils/common\";\r\nimport { Character } from \"../../character/character\"\r\nimport { Observable, ReplaySubject, Subscription, of } from \"rxjs\";\r\nimport { Stage0Component } from \"../stages/stage0/stage0.component\";\r\nimport { Stage1Component } from \"../stages/stage1/stage1.component\";\r\nimport { VitalsComponent } from \"./vitals/vitals.component\";\r\nimport { Stage2Component } from \"../stages/stage2/stage2.component\";\r\nimport { Stage3Component } from \"../stages/stage3/stage3.component\";\r\nimport { Stage4Component } from \"../stages/stage4/stage4.component\";\r\nimport { AffiliationInfo } from \"src/app/affiliation/affiliation\";\r\n\r\n@Component({\r\n  selector: 'app-character',\r\n  templateUrl: './character.component.html',\r\n  styleUrls: ['./character.component.scss']\r\n})\r\nexport class CharacterComponent implements OnInit, OnDestroy, AfterViewInit {\r\n\r\n  @Input({ required: true }) character!: Character;\r\n  @Output() characterChanged = new EventEmitter<Character>();\r\n  @Output() archtypeChanged = new EventEmitter<Archtype>();\r\n\r\n  @ViewChild('stageZero') stageZero!: Stage0Component;\r\n  @ViewChild('stageOne') stageOne!: Stage1Component;\r\n  @ViewChild('stageTwo') stageTwo!: Stage2Component;\r\n\r\n  @ViewChild('itemizedExp') itemizedExp!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('vitals') vitals!: VitalsComponent;\r\n\r\n  @ViewChildren(Stage3Component) stageThree!: QueryList<Stage3Component>;\r\n  @ViewChildren(Stage4Component) stageFour!: QueryList<Stage4Component>;\r\n\r\n\r\n  get progress(): { [value in Stage]: boolean } {\r\n    return {\r\n      0: this.stageZero?.isComplete ?? false,\r\n      1: this.stageOne?.isComplete ?? false,\r\n      2: this.stageTwo?.isComplete ?? false,\r\n      3: (this.stageThree?.length ?? 0 !== 0) ? (this.stageThree.reduce((sofar, stage) => sofar && (stage.isComplete), true)) : false,\r\n      4: (this.stageFour?.length ?? 0 !== 0) ? (this.stageFour.reduce((sofar, stage) => sofar && (stage.isComplete), true)) : false\r\n    }\r\n  }\r\n\r\n  get LatestStage3Or4(): Stage3Component | Stage4Component | undefined {\r\n    if(this.RealLife.length === 0) return undefined;\r\n    switch(this.RealLife[0].stage) {\r\n      case 3:\r\n        return this.stageThree.last;\r\n      case 4:\r\n        return this.stageFour.last;\r\n      default:\r\n        return undefined\r\n    }\r\n  }\r\n\r\n  get isComplete(): boolean {\r\n    return false\r\n  }\r\n\r\n  private subscriptions: Subscription[] = [];\r\n  constructor(private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  get TotalExp(): number {\r\n    const ret = [...this.Experience].reduce((a, b) => a + b.Quantity, 0);\r\n    return ret;\r\n  }\r\n\r\n  //This is a bit of a monster, maybe it needs to be refactored\r\n  get Experience(): Experience[] {\r\n    // Maybe take another look at this and see if leveraging the Extract utility type would make sense here instead of doing everything by hand.\r\n    const OrExperience: Array<Experience> = [];\r\n    const PickExperience: Array<Experience> = [];\r\n    const SetExperience: Array<Experience> = [];\r\n    const IfExperience: Array<Experience> = [];\r\n    const AttributeExperience: {\r\n      [Value in Attribute]: number\r\n    } = {\r\n      [Attribute.Strength]: 0,\r\n      [Attribute.Body]: 0,\r\n      [Attribute.Dexterity]: 0,\r\n      [Attribute.Reflexes]: 0,\r\n      [Attribute.Intelligence]: 0,\r\n      [Attribute.Willpower]: 0,\r\n      [Attribute.Charisma]: 0,\r\n      [Attribute.Edge]: 0\r\n    };\r\n    const SkillExperience: {\r\n      [S in Skill]: \r\n        ( S extends Skill.Acrobatics ? { [Subskill in Acrobatics]: { Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.AnimalHandling ? { [Subskill in AnimalHandling]: { Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Communications ? { [Subskill in Communications]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Driving ? { [Subskill in Driving]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Gunnery ? { [Subskill in Gunnery]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.MedTech ? { [Subskill in MedTech]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Navigation ? { [Subskill in Navigation]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Piloting ? { [Subskill in Piloting]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Prestidigitation ? { [Subskill in Prestidigitation]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.SecuritySystem ? { [Subskill in SecuritySystem]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Surgery ? { [Subskill in Surgery]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Tactics ? { [Subskill in Tactics]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Technician ? { [Subskill in Technician]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.ThrownWeapons ? { [Subskill in ThrownWeapons]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Tracking ? { [Subskill in Tracking]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends (Skill.Language | Skill.Career | Skill.Protocol | Skill.Streetwise | Skill.Survival | Skill.Art | Skill.Interest) ? {\r\n          [Subskill: string]: { Quantity: number, Speciality?: Record<'Speciality', number>[]}\r\n        }\r\n        :  { Quantity: number, Speciality?: Record<'Speciality', string>[]})\r\n    } = {\r\n      [Skill.Acrobatics]: {\r\n        [Acrobatics.FreeFall]: { Quantity: 0 },\r\n        [Acrobatics.Gymnastics]: { Quantity: 0 }},\r\n      [Skill.Acting]: { Quantity: 0 },\r\n      [Skill.Administration]: { Quantity: 0 },\r\n      [Skill.AnimalHandling]: {\r\n        [AnimalHandling.Herding]: { Quantity: 0 },\r\n        [AnimalHandling.Riding]: { Quantity: 0 },\r\n        [AnimalHandling.Training]: { Quantity: 0 }},\r\n      [Skill.Appraisal]: { Quantity: 0 },\r\n      [Skill.Archery]: { Quantity: 0 },\r\n      [Skill.Art]: {},\r\n      [Skill.Artillery]: { Quantity: 0 },\r\n      [Skill.Career]: {},\r\n      [Skill.Climbing]: { Quantity: 0 },\r\n      [Skill.Communications]: {\r\n        [Communications.BlackBox]: { Quantity: 0 },\r\n        [Communications.Conventional]: { Quantity: 0 },\r\n        [Communications.HyperpuseGenerator]: { Quantity: 0 }},\r\n      [Skill.Computers]: { Quantity: 0 },\r\n      [Skill.Cryptography]: { Quantity: 0 },\r\n      [Skill.Demolitions]: { Quantity: 0 },\r\n      [Skill.Disguise]: { Quantity: 0 },\r\n      [Skill.Driving]: { \r\n        [Driving.Ground]: { Quantity: 0 },\r\n        [Driving.Rail]: { Quantity: 0 },\r\n        [Driving.Sea]: { Quantity: 0 }},\r\n      [Skill.EscapeArtist]: { Quantity: 0 },\r\n      [Skill.Forgery]: { Quantity: 0 },\r\n      [Skill.Gunnery]: {\r\n        [Gunnery.Aerospace]: { Quantity: 0 },\r\n        [Gunnery.Air]: { Quantity: 0 },\r\n        [Gunnery.Battlesuit]: { Quantity: 0 },\r\n        [Gunnery.Ground]: { Quantity: 0 },\r\n        [Gunnery.Mech]: { Quantity: 0 },\r\n        [Gunnery.ProtoMech]: { Quantity: 0 },\r\n        [Gunnery.Sea]: { Quantity: 0 },\r\n        [Gunnery.Spacecraft]: { Quantity: 0 },\r\n        [Gunnery.Turret]: { Quantity: 0 }},\r\n      [Skill.Interest]: { },\r\n      [Skill.Interrogation]: { Quantity: 0 },\r\n      [Skill.Investigation]: { Quantity: 0 },\r\n      [Skill.Language]: {},\r\n      [Skill.Leadership]: { Quantity: 0 },\r\n      [Skill.MartialArts]:{ Quantity: 0 },\r\n      [Skill.MedTech]: {\r\n        [MedTech.General]: { Quantity: 0 },\r\n        [MedTech.Veterinary]: { Quantity: 0 }},\r\n      [Skill.MeleeWeapons]:{ Quantity: 0 },\r\n      [Skill.Navigation]: {\r\n        [Navigation.Air]: { Quantity: 0 },\r\n        [Navigation.Ground]: { Quantity: 0 },\r\n        [Navigation.KFJump]: { Quantity: 0 },\r\n        [Navigation.Sea]: { Quantity: 0 },\r\n        [Navigation.Space]: { Quantity: 0 }},\r\n      [Skill.Negotiation]: { Quantity: 0 },\r\n      [Skill.Perception]: { Quantity: 0 },\r\n      [Skill.Piloting]: {\r\n        [Piloting.Aerospace]: { Quantity: 0 },\r\n        [Piloting.Aircraft]: { Quantity: 0 },\r\n        [Piloting.Battlesuit]: { Quantity: 0 },\r\n        [Piloting.Ground]: { Quantity: 0 },\r\n        [Piloting.Mech]: { Quantity: 0 },\r\n        [Piloting.ProtoMech]: { Quantity: 0 },\r\n        [Piloting.Railcraft]: { Quantity: 0 },\r\n        [Piloting.Seacraft]: { Quantity: 0 },\r\n        [Piloting.Spacecraft]: { Quantity: 0 },\r\n        [Piloting.VTOL]: { Quantity: 0 }},\r\n      [Skill.Prestidigitation]: {\r\n        [Prestidigitation.PickPocket]: { Quantity: 0 },\r\n        [Prestidigitation.Quickdraw]: { Quantity: 0 },\r\n        [Prestidigitation.SleightOfHand]: { Quantity: 0 }},\r\n      [Skill.Protocol]: {},\r\n      [Skill.Running]: { Quantity: 0 },\r\n      [Skill.Science]: { Quantity: 0 },\r\n      [Skill.SecuritySystem]: {\r\n        [SecuritySystem.Electrical]: { Quantity: 0 },\r\n        [SecuritySystem.Mechanical]: { Quantity: 0 }},\r\n      [Skill.SensorOperations]: { Quantity: 0 },\r\n      [Skill.SmallArms]: { Quantity: 0 },\r\n      [Skill.Stealth]: { Quantity: 0 },\r\n      [Skill.Streetwise]: {},\r\n      [Skill.SupportWeapons]: { Quantity: 0 },\r\n      [Skill.Surgery]: {\r\n        [Surgery.General]: { Quantity: 0 },\r\n        [Surgery.Veterinary]: { Quantity: 0 }},\r\n      [Skill.Survival]: {},\r\n      [Skill.Swimming]: { Quantity: 0 },\r\n      [Skill.Tactics]: {\r\n        [Tactics.Air]: { Quantity: 0 },\r\n        [Tactics.Infantry]: { Quantity: 0 },\r\n        [Tactics.Land]: { Quantity: 0 },\r\n        [Tactics.Sea]: { Quantity: 0 },\r\n        [Tactics.Space]: { Quantity: 0 }},\r\n      [Skill.Technician]: {\r\n        [Technician.Aeronautics]: { Quantity: 0 },\r\n        [Technician.Cybernetics]: { Quantity: 0 },\r\n        [Technician.Electronics]: { Quantity: 0 },\r\n        [Technician.Jets]: { Quantity: 0 },\r\n        [Technician.Mechanical]: { Quantity: 0 },\r\n        [Technician.Myomer]: { Quantity: 0 },\r\n        [Technician.Nuclear]: { Quantity: 0 },\r\n        [Technician.Weapons]: { Quantity: 0 }},\r\n      [Skill.ThrownWeapons]: {\r\n        [ThrownWeapons.Blades]: { Quantity: 0 },\r\n        [ThrownWeapons.Blunt]: { Quantity: 0 },\r\n        [ThrownWeapons.Spear]: { Quantity: 0 }},\r\n        [Skill.Tracking]: {\r\n          [Tracking.Urban]: { Quantity: 0 },\r\n          [Tracking.Wilds]: { Quantity: 0 }},\r\n      [Skill.Training]: { Quantity: 0 },\r\n      [Skill.ZeroGOperations]: { Quantity: 0 },\r\n    };\r\n    const TraitExperience: {\r\n      [T in Trait]:\r\n        ( T extends Trait.Compulsion ? { [Trigger: string]: number } \r\n        : T extends Trait.ExceptionalAttribute ? { [Value in Attribute]: number }\r\n        : T extends Trait.NaturalAptitude ? { [Value in Skill]: number }\r\n        : number)\r\n    } = {\r\n      [Trait.AlternativeID]: 0,\r\n      [Trait.Ambidextrous]: 0,\r\n      [Trait.AnimalEmpathy]: 0,\r\n      [Trait.Attractive]: 0,\r\n      [Trait.Citizenship]: 0,\r\n      [Trait.Trueborn]: 0,\r\n      [Trait.CombatSense]: 0,\r\n      [Trait.Connections]: 0,\r\n      [Trait.ExceptionalAttribute]: {\r\n        [Attribute.Strength]: 0,\r\n        [Attribute.Body]: 0,\r\n        [Attribute.Dexterity]: 0,\r\n        [Attribute.Reflexes]: 0,\r\n        [Attribute.Intelligence]: 0,\r\n        [Attribute.Willpower]: 0,\r\n        [Attribute.Charisma]: 0,\r\n        [Attribute.Edge]: 0\r\n      },\r\n      [Trait.FastLearner]: 0,\r\n      [Trait.Fit]: 0,\r\n      [Trait.GTolerance]: 0,\r\n      [Trait.GoodHearing]: 0,\r\n      [Trait.GoodVision]: 0,\r\n      [Trait.Gregarious]: 0,\r\n      [Trait.Implant]: 0,\r\n      [Trait.Prosthetic]: 0,\r\n      [Trait.NaturalAptitude]: {\r\n        [Skill.Acrobatics]: 0,\r\n        [Skill.Acting]: 0,\r\n        [Skill.Administration]: 0,\r\n        [Skill.AnimalHandling]: 0,\r\n        [Skill.Appraisal]: 0,\r\n        [Skill.Archery]: 0,\r\n        [Skill.Art]: 0,\r\n        [Skill.Artillery]: 0,\r\n        [Skill.Career]: 0,\r\n        [Skill.Climbing]: 0,\r\n        [Skill.Communications]: 0,\r\n        [Skill.Computers]: 0,\r\n        [Skill.Cryptography]: 0,\r\n        [Skill.Demolitions]: 0,\r\n        [Skill.Disguise]: 0,\r\n        [Skill.Driving]: 0,\r\n        [Skill.EscapeArtist]: 0,\r\n        [Skill.Forgery]: 0,\r\n        [Skill.Gunnery]: 0,\r\n        [Skill.Interest]: 0,\r\n        [Skill.Interrogation]: 0,\r\n        [Skill.Investigation]: 0,\r\n        [Skill.Language]: 0,\r\n        [Skill.Leadership]: 0,\r\n        [Skill.MartialArts]: 0,\r\n        [Skill.MedTech]: 0,\r\n        [Skill.MeleeWeapons]: 0,\r\n        [Skill.Navigation]: 0,\r\n        [Skill.Negotiation]: 0,\r\n        [Skill.Perception]: 0,\r\n        [Skill.Piloting]: 0,\r\n        [Skill.Prestidigitation]: 0,\r\n        [Skill.Protocol]: 0,\r\n        [Skill.Running]: 0,\r\n        [Skill.Science]: 0,\r\n        [Skill.SecuritySystem]: 0,\r\n        [Skill.SensorOperations]: 0,\r\n        [Skill.SmallArms]: 0,\r\n        [Skill.Stealth]: 0,\r\n        [Skill.Streetwise]: 0,\r\n        [Skill.SupportWeapons]: 0,\r\n        [Skill.Surgery]: 0,\r\n        [Skill.Survival]: 0,\r\n        [Skill.Swimming]: 0,\r\n        [Skill.Tactics]: 0,\r\n        [Skill.Technician]: 0,\r\n        [Skill.ThrownWeapons]: 0,\r\n        [Skill.Tracking]: 0,\r\n        [Skill.Training]: 0,\r\n        [Skill.ZeroGOperations]: 0\r\n      },\r\n      [Trait.PainResistance]: 0,\r\n      [Trait.Patient]: 0,\r\n      [Trait.Phenotype]: 0,\r\n      [Trait.PoisonResistance]: 0,\r\n      [Trait.Property]: 0,\r\n      [Trait.Rank]: 0,\r\n      [Trait.SixthSense]: 0,\r\n      [Trait.TechEmpathy]: 0,\r\n      [Trait.ThickSkinned]: 0,\r\n      [Trait.Title]: 0,\r\n      [Trait.Bloodname]: 0,\r\n      [Trait.Toughness]: 0,\r\n      [Trait.AnimalAntipathy]: 0,\r\n      [Trait.Bloodmark]: 0,\r\n      [Trait.CombatParalysis]: 0,\r\n      [Trait.Compulsion]: {},\r\n      [Trait.DarkSecret]: 0,\r\n      [Trait.Enemy]: 0,\r\n      [Trait.GlassJaw]: 0,\r\n      [Trait.Gremlins]: 0,\r\n      [Trait.Handicap]: 0,\r\n      [Trait.Illiterate]: 0,\r\n      [Trait.Impatient]: 0,\r\n      [Trait.InForLife]: 0,\r\n      [Trait.Introvert]: 0,\r\n      [Trait.LostLimb]: 0,\r\n      [Trait.PoorHearing]: 0,\r\n      [Trait.PoorVision]: 0,\r\n      [Trait.SlowLearner]: 0,\r\n      [Trait.ThinSkinned]: 0,\r\n      [Trait.TDS]: 0,\r\n      [Trait.Unattractive]: 0,\r\n      [Trait.Unlucky]: 0,\r\n      [Trait.Equipped]: 0,\r\n      [Trait.ExtraIncome]: 0,\r\n      [Trait.Reputation]: 0,\r\n      [Trait.Wealth]: 0,\r\n      [Trait.CustomVehicle]: 0,\r\n      [Trait.DesignQuirk]: 0,\r\n      [Trait.VehicleLevel]: 0,\r\n      [Trait.Mutation]: 0,\r\n    }\r\n\r\n    const processExp = (exp: Experience) => {\r\n      if('Or' in exp) {\r\n        OrExperience.push(exp);\r\n      } else if ('Pick' in exp) {\r\n        PickExperience.push(exp);\r\n      } else if('Set' in exp) {\r\n        SetExperience.push(exp);\r\n      } else if('If' in exp) {\r\n        IfExperience.push(exp);\r\n      } else {\r\n        switch(exp.Kind) {\r\n          case Statistic.Attribute:\r\n            AttributeExperience[exp.Attribute] += exp.Quantity;\r\n            return;\r\n          case Statistic.Skill:\r\n            switch(exp.Skill) {\r\n              case Skill.Acrobatics:\r\n                const acrobatics = exp.Subskill as keyof typeof SkillExperience[Skill.Acrobatics];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][acrobatics].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.AnimalHandling:\r\n                const handleanimal = exp.Subskill as keyof typeof SkillExperience[Skill.AnimalHandling];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][handleanimal].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Communications:\r\n                const communications = exp.Subskill as keyof typeof SkillExperience[Skill.Communications];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][communications].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Driving:\r\n                const driving = exp.Subskill as keyof typeof SkillExperience[Skill.Driving];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][driving].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Gunnery:\r\n                const gunnery = exp.Subskill as keyof typeof SkillExperience[Skill.Gunnery];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][gunnery].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.MedTech:\r\n                const medtech = exp.Subskill as keyof typeof SkillExperience[Skill.MedTech];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][medtech].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Navigation:\r\n                const navigation = exp.Subskill as keyof typeof SkillExperience[Skill.Navigation];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][navigation].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Piloting:\r\n                const piloting = exp.Subskill as keyof typeof SkillExperience[Skill.Piloting];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][piloting].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Prestidigitation:\r\n                const prestidigitation = exp.Subskill as keyof typeof SkillExperience[Skill.Prestidigitation];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][prestidigitation].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.SecuritySystem:\r\n                const securitysystem= exp.Subskill as keyof typeof SkillExperience[Skill.SecuritySystem];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][securitysystem].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Surgery:\r\n                const surgery= exp.Subskill as keyof typeof SkillExperience[Skill.Surgery];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][surgery].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Tactics:\r\n                const tactics= exp.Subskill as keyof typeof SkillExperience[Skill.Tactics];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][tactics].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Technician:\r\n                const technician= exp.Subskill as keyof typeof SkillExperience[Skill.Technician];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][technician].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.ThrownWeapons:\r\n                const thrownweapons = exp.Subskill as keyof typeof SkillExperience[Skill.ThrownWeapons];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][thrownweapons].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Tracking:\r\n                const tracking = exp.Subskill as keyof typeof SkillExperience[Skill.Tracking];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][tracking].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              // Language, Career, Protocol, Streetwise, Survival, Art, Interest all need to fall through here.\r\n              case Skill.Language:\r\n              case Skill.Career:\r\n              case Skill.Protocol:\r\n              case Skill.Streetwise:\r\n              case Skill.Survival:\r\n              case Skill.Art:\r\n              case Skill.Interest:\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  if(exp.Subskill instanceof RegExp) throw new Error('A subskill pattern cannot be used here!');\r\n                  if(exp.Subskill in SkillExperience[exp.Skill]) {\r\n                    SkillExperience[exp.Skill][exp.Subskill].Quantity += exp.Quantity;\r\n                  } else {\r\n                    SkillExperience[exp.Skill][exp.Subskill] = { Quantity: exp.Quantity };\r\n                  }\r\n                }\r\n                return;\r\n              default:\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n            }\r\n          case Statistic.Trait:\r\n            switch(exp.Trait) {\r\n              case Trait.Compulsion:\r\n                if(!('Trigger' in exp) ) throw new Error('Compulsion must have a trigger!')\r\n                if(exp.Trigger in TraitExperience[exp.Trait]) {\r\n                  TraitExperience[exp.Trait][exp.Trigger] += exp.Quantity\r\n                } else {\r\n                  TraitExperience[exp.Trait] = {\r\n                    [exp.Trigger]: exp.Quantity,\r\n                    ...TraitExperience[exp.Trait]\r\n                  }\r\n                }\r\n                return;\r\n              case Trait.ExceptionalAttribute:\r\n                if(!('Attribute' in exp)) throw new Error('Exceptional Attribute must have an attribute assigned!');\r\n                const attribute = exp.Attribute as Attribute;\r\n                TraitExperience[exp.Trait][attribute] += exp.Quantity;\r\n                return;\r\n              case Trait.NaturalAptitude:\r\n                if(!('Skill' in exp)) throw new Error('Natural aptitude must have a skill assigned!');\r\n                const skill = exp.Skill as Skill;\r\n                TraitExperience[exp.Trait][skill] += exp.Quantity;\r\n                return;\r\n              default:\r\n                TraitExperience[exp.Trait] += exp.Quantity;\r\n                return;\r\n            }\r\n        }\r\n      }\r\n    }\r\n\r\n    [\r\n      ...(this.stageZero?.experience ?? []),\r\n      ...(this.stageOne?.experience ?? []),\r\n      ...(this.stageTwo?.experience ?? []),\r\n      ...((this.stageThree ?? []).map(component => component.experience).flatMap(exp => exp)),\r\n      ...((this.stageFour ?? []).map(component => component.experience).flatMap(exp => exp)),\r\n      ...this.affiliationExperience\r\n    ].forEach(processExp);\r\n\r\n    const atts = EnumMap(Attribute).map(att => { return { Kind: Statistic.Attribute, Attribute: att, Quantity: AttributeExperience[att as Attribute]}})\r\n    const skills = EnumMap(Skill).flatMap(skill => { \r\n      switch(skill) {\r\n        case Skill.Acrobatics:\r\n        case Skill.AnimalHandling:\r\n        case Skill.Communications:\r\n        case Skill.Driving:\r\n        case Skill.Gunnery:\r\n        case Skill.MedTech:\r\n        case Skill.Navigation:\r\n        case Skill.Piloting:\r\n        case Skill.Prestidigitation:\r\n        case Skill.SecuritySystem:\r\n        case Skill.Surgery:\r\n        case Skill.Tactics:\r\n        case Skill.Technician:\r\n        case Skill.ThrownWeapons:\r\n        case Skill.Tracking:\r\n        case Skill.Language:\r\n        case Skill.Career:\r\n        case Skill.Protocol:\r\n        case Skill.Streetwise:\r\n        case Skill.Survival:\r\n        case Skill.Art:\r\n        case Skill.Interest:\r\n          const subskill = (SkillExperience[skill as Skill] as { [any:string]: { Quantity: number }});\r\n          return Object.keys(subskill).map(sub => { return { Kind: Statistic.Skill, Skill: skill, Subskill: sub, Quantity: subskill[sub].Quantity }})\r\n        default:\r\n          return [{ Kind: Statistic.Skill, Skill: skill, Quantity: (SkillExperience[skill as Skill] as { Quantity: number }).Quantity}]\r\n      }\r\n    });\r\n    const traits = EnumMap(Trait).flatMap(trait => {\r\n      switch(trait) {\r\n        case Trait.Compulsion:\r\n          const triggers = TraitExperience[trait];\r\n          return Object.keys(triggers).map(trigger => { return { Kind: Statistic.Trait, Trait: trait, Trigger: trigger, Quantity: triggers[trigger] }});\r\n        case Trait.ExceptionalAttribute:\r\n          const attributes = TraitExperience[trait] as { [value in Attribute]: number };\r\n          return Object.keys(attributes).map(att =>  { return { Kind: Statistic.Trait, Trait: trait, Attribute: att, Quantity: attributes[(+att) as keyof typeof attributes] }});\r\n        case Trait.NaturalAptitude:\r\n          const skills = TraitExperience[trait] as { [value in Skill]: number };\r\n          return Object.keys(skills).map(skill =>  { return { Kind: Statistic.Trait, Trait: trait, Skill: skill, Quantity: skills[(+skill) as keyof typeof skills] }});\r\n\r\n        default:\r\n          return [{ Kind: Statistic.Trait, Trait: trait, Quantity: (TraitExperience[trait as Trait])}]\r\n    }});\r\n    //Should this also include Set and If exp?\r\n    return [...atts, ...skills, ...traits].map(exp => exp as Experience).filter(exp => ('Or' in exp) || ('Pick' in exp) ? false : exp.Quantity !== 0);\r\n  }\r\n\r\n  get affiliationExperience(): Experience[] {\r\n    const affNames: { [value in Stage]: string | undefined } = {\r\n      0: this.stageZero?.currentAffiliation?.Name,\r\n      1: this.stageOne?.currentAffiliation.Name,\r\n      2: this.stageTwo?.currentAffiliation.Name,\r\n      3: undefined,\r\n      4: undefined\r\n    }\r\n\r\n    //I sorta hate this but i just need something to work correctly for now\r\n    if(affNames[2]) {\r\n      if(affNames[2] !== affNames[1]) {\r\n        return [...this.stageOne.affiliationExperience, ...this.stageTwo.affiliationExperience].map(exp => { return { ...exp, Quantity: Math.floor(exp.Quantity / 2) } })\r\n      } else {\r\n        return this.stageOne.affiliationExperience;\r\n      }\r\n    } else {\r\n      if(affNames[1]) {\r\n        if(affNames[1] !== affNames[0]) {\r\n          return [...this.stageZero.affiliationExperience, ...this.stageOne.affiliationExperience].map(exp => { return { ...exp, Quantity: Math.floor(exp.Quantity / 2) } })\r\n        } else {\r\n          return this.stageZero.affiliationExperience;\r\n        }\r\n      } else {\r\n        if(affNames[0]) {\r\n          return this.stageZero.affiliationExperience\r\n        } else {\r\n          return [];\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  CurrentLanguage = new ReplaySubject<Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string }>();\r\n\r\n  get Requirments(): Requirement[] {\r\n    const orReqs: Requirement[] = [];\r\n    const andReqs: Requirement[] = [];\r\n    const notReqs: Requirement[] = [];\r\n\r\n    const attributeRequirments: Partial<{\r\n      [att in Attribute]: OneOrBoth<Record<'upper', number>, Record<'lower', number>>\r\n    }> = {}\r\n    let skillRequirments: Partial<{\r\n      [S in Skill]: \r\n        ( S extends Skill.Acrobatics ? { [Subskill in Acrobatics]: OneOrBoth<Record<'upper', number>, Record<'lower', number>> }\r\n        : S extends Skill.AnimalHandling ? { [Subskill in AnimalHandling]: OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Communications ? { [Subskill in Communications]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Driving ? { [Subskill in Driving]: OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Gunnery ? { [Subskill in Gunnery]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.MedTech ? { [Subskill in MedTech]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Navigation ? { [Subskill in Navigation]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Piloting ? { [Subskill in Piloting]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Prestidigitation ? { [Subskill in Prestidigitation]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.SecuritySystem ? { [Subskill in SecuritySystem]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Surgery ? { [Subskill in Surgery]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Tactics ? { [Subskill in Tactics]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Technician ? { [Subskill in Technician]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.ThrownWeapons ? { [Subskill in ThrownWeapons]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Tracking ? { [Subskill in Tracking]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends (Skill.Language | Skill.Career | Skill.Protocol | Skill.Streetwise | Skill.Survival | Skill.Art | Skill.Interest) ? {[Subskill: string]: OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : OneOrBoth<Record<'upper', number>, Record<'lower', number>>)\r\n    }> = {};\r\n    const traitRequirments: Partial<{\r\n      [T in Trait]:\r\n        ( T extends Trait.Compulsion ? { [Trigger: string]: OneOrBoth<Record<'upper', number>, Record<'lower', number>> } \r\n        : T extends Trait.ExceptionalAttribute ? { [Value in Attribute]: OneOrBoth<Record<'upper', number>, Record<'lower', number>> }\r\n        : T extends Trait.NaturalAptitude ? { [Value in Skill]: OneOrBoth<Record<'upper', number>, Record<'lower', number>> }\r\n        : OneOrBoth<Record<'upper', number>, Record<'lower', number>>)\r\n    }>[] = [];\r\n\r\n    const processAttReq = (att: Attribute, value: Record<'upper', number> | Record<'lower', number>) => {\r\n      const current = attributeRequirments[att];\r\n\r\n      if(!current) {\r\n        attributeRequirments[att] = value;\r\n        return;\r\n      }\r\n      if('lower' in value) {\r\n        if('lower' in current) {\r\n          attributeRequirments[att] = { ...current, 'lower': Math.max(current.lower, value.lower) };\r\n        } else {\r\n          attributeRequirments[att] = { ...current, ...value };\r\n        }\r\n      } else {\r\n        if('upper' in current) {\r\n          attributeRequirments[att] = { ...current, 'upper': Math.min(current.upper, value.upper) };\r\n        } else {\r\n          attributeRequirments[att] = { ...current, ...value };\r\n        }\r\n      }\r\n    }\r\n\r\n    const processSkillReq = <S extends Skill>(skill: S,value: Record<'upper', number> | Record<'lower', number>, subskill: \r\n      ( S extends Skill.Acrobatics ? Acrobatics\r\n      : S extends Skill.AnimalHandling ? AnimalHandling\r\n      : S extends Skill.Communications ? Communications\r\n      : S extends Skill.Driving ? Driving\r\n      : S extends Skill.Gunnery ? Gunnery\r\n      : S extends Skill.MedTech ? MedTech\r\n      : S extends Skill.Navigation ? Navigation\r\n      : S extends Skill.Piloting ? Piloting\r\n      : S extends Skill.Prestidigitation ? Prestidigitation\r\n      : S extends Skill.SecuritySystem ? SecuritySystem\r\n      : S extends Skill.Surgery ? Surgery\r\n      : S extends Skill.Tactics ? Tactics\r\n      : S extends Skill.Technician ? Technician\r\n      : S extends Skill.ThrownWeapons ? ThrownWeapons\r\n      : S extends Skill.Tracking ? Tracking\r\n      : S extends (Skill.Language | Skill.Career | Skill.Protocol | Skill.Streetwise | Skill.Survival | Skill.Art | Skill.Interest) ? string\r\n      : undefined)) => {\r\n      let current = skillRequirments[skill];\r\n      if(current) {\r\n        switch(skill) {\r\n          case Skill.Acrobatics:\r\n          case Skill.AnimalHandling:\r\n          case Skill.Communications:\r\n          case Skill.Driving:\r\n          case Skill.Gunnery:\r\n          case Skill.MedTech:\r\n          case Skill.Navigation:\r\n          case Skill.Piloting:\r\n          case Skill.Prestidigitation:\r\n          case Skill.SecuritySystem:\r\n          case Skill.Surgery:\r\n          case Skill.Tactics:\r\n          case Skill.Technician:\r\n          case Skill.ThrownWeapons:\r\n          case Skill.Tracking:\r\n          case Skill.Language:\r\n          case Skill.Career:\r\n          case Skill.Protocol:\r\n          case Skill.Streetwise:\r\n          case Skill.Survival:\r\n          case Skill.Art:\r\n          case Skill.Interest:\r\n            if(subskill) {\r\n              if(subskill in current) {\r\n                current = current[subskill as keyof typeof skillRequirments[Skill]];\r\n                if(!current) {\r\n                  skillRequirments = {...skillRequirments, [skill]: value };\r\n                  return;\r\n                } else {\r\n                  if('lower' in value) {\r\n                    if('lower' in current && typeof current['lower'] === 'number') {\r\n                      skillRequirments[skill] = { ...current, 'lower': Math.max(current['lower'] as number, value.lower) };\r\n                    } else {\r\n                      skillRequirments[skill] = { ...current, ...value };\r\n                    }\r\n                  } else {\r\n                    if('upper' in current && typeof current['upper'] === 'number') {\r\n                      skillRequirments[skill] = { ...current, 'upper': Math.min(current['upper'], value.upper) };\r\n                    } else {\r\n                      skillRequirments[skill] = { ...current, ...value };\r\n                    }\r\n                  }\r\n                }\r\n              } else {\r\n                skillRequirments = {...skillRequirments, [skill]: { ...skillRequirments[skill], [subskill]: value } };\r\n              }\r\n            } else {\r\n              throw new Error('This should not happen!');\r\n            }\r\n            return;\r\n          default:\r\n            if(!current) {\r\n              skillRequirments = {...skillRequirments, [skill]: value };\r\n              return;\r\n            }\r\n            if('lower' in value) {\r\n              if('lower' in current && typeof current.lower === 'number') {\r\n                skillRequirments[skill] = { ...current, 'lower': Math.max(current.lower, value.lower) };\r\n              } else {\r\n                skillRequirments[skill] = { ...current, ...value };\r\n              }\r\n            } else {\r\n              if('upper' in current && typeof current.upper === 'number') {\r\n                skillRequirments[skill] = { ...current, 'upper': Math.min(current.upper, value.upper) };\r\n              } else {\r\n                skillRequirments[skill] = { ...current, ...value };\r\n              }\r\n            }\r\n            return;\r\n        }\r\n      } else {\r\n        if(subskill) {\r\n          skillRequirments = {...skillRequirments, [skill]: { [subskill]: value } };\r\n        } else {\r\n          skillRequirments = {...skillRequirments, [skill]: value };\r\n        }\r\n      }\r\n    }\r\n\r\n    const processReq = (req: Requirement) => {\r\n      if('Not' in req) notReqs.push(req);\r\n      if('And' in req) andReqs.push(req);\r\n      if('Or' in req) orReqs.push(req);\r\n      if(!('Kind' in req)) throw new Error('Kind may not be missing from a requirment!');\r\n      switch(req.Kind) {\r\n        case Statistic.Attribute:\r\n          switch(req.Op) {\r\n            case '>':\r\n              processAttReq(req.Attribute, { lower: req.Level + 1 });\r\n              return;\r\n            case '>=':\r\n              processAttReq(req.Attribute, { lower: req.Level });\r\n              return;\r\n            case '<':\r\n              processAttReq(req.Attribute, { upper: req.Level - 1 });\r\n              return;\r\n            case '<=':\r\n              processAttReq(req.Attribute, { upper: req.Level });\r\n              return;\r\n            default:\r\n              //does the = op even really mave much sense?  maybe it should be removed?\r\n              return;\r\n          }\r\n        case Statistic.Skill:\r\n          const subskill = 'Subskill' in req \r\n            ? (req.Subskill instanceof RegExp \r\n              ? req.Subskill.source \r\n              : req.Subskill) \r\n            : undefined;\r\n          switch(req.Op) {\r\n            case '>':\r\n              processSkillReq(req.Skill, { lower: req.Level + 1 }, subskill);\r\n              return;\r\n            case '>=':\r\n              processSkillReq(req.Skill, { lower: req.Level }, subskill);\r\n              return;\r\n            case '<':\r\n              processSkillReq(req.Skill, { upper: req.Level - 1 }, subskill);\r\n              return;\r\n            case '<=':\r\n              processSkillReq(req.Skill, { upper: req.Level }, subskill);\r\n              return;\r\n            default:\r\n              //does the = op even really mave much sense?  maybe it should be removed?\r\n              return;\r\n          }\r\n        default:\r\n          throw new Error('How did this even happen?');\r\n      }\r\n    };\r\n\r\n    [\r\n      ...(this.stageZero ? this.stageZero.requirments : []),\r\n      ...(this.stageOne ? this.stageOne.requirments : []),\r\n      ...(this.stageTwo ? this.stageTwo.requirments : []),\r\n      ...(this.stageThree?.map(component => component.Requirments).flatMap(req => req)),\r\n      ...(this.stageFour?.map(component => component.Requirments).flatMap(req => req))\r\n    ].forEach(processReq)\r\n\r\n    //return [...attributeRequirments, ...skillRequirments, ...traitRequirments];\r\n    return [];\r\n  }\r\n\r\n  stage3subs: Subscription[] = [];\r\n  stage4subs: Subscription[] = [];\r\n  ngAfterViewInit(): void {\r\n    let alreadySubbed:{ [value in Exclude<Stage, 0>]: boolean } = {\r\n      1: false,\r\n      2: false,\r\n      3: false,\r\n      4: false\r\n    };\r\n    this.subscriptions.push(\r\n      this.stageThree.changes.subscribe((changes: QueryList<Stage3Component>) => {\r\n        this.stage3subs.forEach(sub => sub.unsubscribe());\r\n        this.stage3subs.length = 0;\r\n        changes.forEach(change => {\r\n          this.stage3subs.push(\r\n            change.changed.subscribe(() => {\r\n              this.ref.detectChanges();  \r\n              this.ref.markForCheck(); \r\n            }),\r\n            change.complete.subscribe((_) => {\r\n              this.ref.detectChanges();  \r\n              this.ref.markForCheck(); \r\n            }),\r\n            change.affiliationChanged.subscribe(_ => {\r\n              this.ref.detectChanges();  \r\n              this.ref.markForCheck(); \r\n            }),\r\n            change.backgroundChanged.subscribe(_ => {\r\n              this.ref.detectChanges();  \r\n              this.ref.markForCheck(); \r\n            })\r\n          );\r\n        });\r\n      }),\r\n      this.stageFour.changes.subscribe((changes: QueryList<Stage4Component>) => {\r\n        this.stage4subs.forEach(sub => sub.unsubscribe());\r\n        this.stage4subs.length = 0;\r\n        changes.forEach(change => {\r\n          this.stage4subs.push(\r\n            change.changed.subscribe(() => {\r\n              this.ref.detectChanges();  \r\n              this.ref.markForCheck(); \r\n            }),\r\n            change.complete.subscribe((_) => {\r\n              this.ref.detectChanges();  \r\n              this.ref.markForCheck(); \r\n            }),\r\n            change.affiliationChanged.subscribe(_ => {\r\n              this.ref.detectChanges();  \r\n              this.ref.markForCheck(); \r\n            }),\r\n            change.backgroundChanged.subscribe(_ => {\r\n              this.ref.detectChanges();  \r\n              this.ref.markForCheck(); \r\n            })\r\n          );\r\n        });\r\n      }),\r\n      this.stageZero.complete.subscribe((_) => {\r\n        this.ref.detectChanges();  \r\n        this.ref.markForCheck(); \r\n\r\n        if(!alreadySubbed[1]) {\r\n          this.subscriptions.push(this.stageOne.complete.subscribe((_) => {\r\n            this.ref.detectChanges();  \r\n            this.ref.markForCheck(); \r\n    \r\n            if(!alreadySubbed[2]) {\r\n              this.subscriptions.push(this.stageTwo.complete.subscribe((_) => {\r\n                this.ref.detectChanges();  \r\n                this.ref.markForCheck(); \r\n              }),\r\n              this.stageTwo.changed.subscribe(() => {\r\n                this.ref.detectChanges();  \r\n                this.ref.markForCheck(); \r\n              }),\r\n              this.stageTwo.affiliationChanged.subscribe((_) => {\r\n                this.ref.detectChanges();  \r\n                this.ref.markForCheck(); \r\n              }));\r\n              alreadySubbed[2] = true;\r\n            }\r\n          }),\r\n          this.stageOne.changed.subscribe(() => {\r\n            this.ref.detectChanges();  \r\n            this.ref.markForCheck(); \r\n          }),\r\n          this.stageOne.affiliationChanged.subscribe((_) => {\r\n            this.ref.detectChanges();  \r\n            this.ref.markForCheck(); \r\n          }),\r\n          this.stageOne.backgroundChanged.subscribe((_) => {\r\n            this.ref.detectChanges();  \r\n            this.ref.markForCheck(); \r\n          }));\r\n          alreadySubbed[1] = true;\r\n        }\r\n      }),\r\n      this.stageZero.changed.subscribe(() => {\r\n        this.ref.detectChanges();  \r\n        this.ref.markForCheck(); \r\n      }),\r\n      this.stageZero.languageChanged.subscribe((lang) => {\r\n        this.CurrentLanguage.next(lang);\r\n        this.ref.detectChanges();  \r\n        this.ref.markForCheck(); \r\n      }),\r\n    );\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions, ...this.stage3subs, ...this.stage4subs].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  characterExp: Experience[] = [];\r\n  ngOnInit(): void {\r\n    this.subscriptions.push(this.character.Experience.subscribe({\r\n      next: (value) => this.characterExp.push(value)\r\n    }));\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  showHideItemizedExp(_: Event) {\r\n    this.itemizedExp.nativeElement.value = this.itemizedExp.nativeElement.value === 'on' ? 'off' : 'on';\r\n\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();\r\n  }\r\n\r\n  RealLife: {\r\n    stage: Omit<Stage, 0 | 1 | 2>\r\n    index: number,\r\n    year: Observable<Eternal>,\r\n    aff: AffiliationInfo\r\n  }[] = []\r\n  addRealLife(e: Event, stage: Omit<Stage, 0 | 1 | 2>) {\r\n    this.RealLife.unshift({\r\n      stage: stage,\r\n      index: (this.RealLife.length) + 0,\r\n      year: (this.LatestStage3Or4 ?? this.stageTwo).affYearChanged,\r\n      aff: { ...(this.LatestStage3Or4 ?? this.stageTwo).currentAffiliation }\r\n    });\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  removeRealLife(e: Event) {\r\n    this.RealLife.shift();\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck(); \r\n  }\r\n}","\r\n\r\n<div class=\"row\">\r\n    <div class=\"leftside column\">\r\n        <app-vitals #vitals \r\n            [character]=\"character\"/>\r\n        <h4>Total Exp {{ TotalExp }}</h4>\r\n        <label for=\"showExp\">show exp?</label><input type=\"checkbox\" id=\"showExp\" name=\"showExp\" checked #itemizedExp (change)=\"showHideItemizedExp($event)\"/>\r\n        <ng-container *ngIf=\"itemizedExp.value === 'on'\">\r\n            <span class=\"wrapper itemized\" *ngFor=\"let exp of Experience\">\r\n                {{ exp | exp }}\r\n            </span>\r\n        </ng-container>\r\n    </div>\r\n    <div class=\"main column\">\r\n        <span *ngIf=\"progress[2]\">\r\n            <ng-container *ngIf=\"(LatestStage3Or4 ?? stageTwo).affYear < vitals.startingYear\" >\r\n                <input type=\"button\" title=\"AddStage3\" [value]=\"'Add Stage 3'\" [disabled]=\"RealLife.length === 0 ? false : !LatestStage3Or4?.isComplete\" (click)=\"addRealLife($event, 3)\"/>\r\n                <input type=\"button\" title=\"AddStage4\" [value]=\"'Add Stage 4'\" [disabled]=\"RealLife.length === 0 ? false : !LatestStage3Or4?.isComplete\" (click)=\"addRealLife($event, 4)\"/>    \r\n            </ng-container>\r\n            <ng-container *ngIf=\"RealLife.length !== 0\">\r\n                <input type=\"button\" title=\"Remove\" [value]=\"'Remove Latest'\" (click)=\"removeRealLife($event)\"/>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"RealLife.length > 0\">\r\n                <div *ngFor=\"let rl of RealLife\">\r\n                    <app-stage3 #stageThree\r\n                        *ngIf=\"rl.stage === 3\" \r\n                        [startingYear]=\"rl.year\" \r\n                        [endingYear]=\"vitals.startingYearChanged\"\r\n                        [archtype]=\"vitals.currentArchtype\"\r\n                        [hidden]=\"!progress[2]\"\r\n                        [affiliation]=\"rl.aff\"\r\n                        [language]=\"CurrentLanguage\"/>\r\n                    <app-stage4 #stageFour\r\n                        *ngIf=\"rl.stage === 4\"\r\n                        [startingYear]=\"rl.year\"\r\n                        [endingYear]=\"vitals.startingYearChanged\"\r\n                        [archtype]=\"vitals.currentArchtype\"\r\n                        [hidden]=\"!progress[2]\"\r\n                        [affiliation]=\"rl.aff\"\r\n                        [language]=\"CurrentLanguage\" />\r\n                </div>\r\n            </ng-container>\r\n        </span>\r\n\r\n        <app-stage2 #stageTwo\r\n            *ngIf=\"stageZero.currentAffiliation && stageOne\"\r\n            [startingYear]=\"stageOne.affYearChanged\" \r\n            [archtype]=\"vitals.currentArchtype\"\r\n            [hidden]=\"!progress[1]\"\r\n            [affiliation]=\"stageOne.currentAffiliation\"\r\n            [language]=\"stageOne.language\" />\r\n        <app-stage1 #stageOne\r\n            *ngIf=\"stageZero.currentAffiliation\"\r\n            [startingYear]=\"vitals.birthYearChanged\" \r\n            [archtype]=\"vitals.currentArchtype\"\r\n            [hidden]=\"!progress[0]\"\r\n            [startingAffiliation]=\"stageZero.currentAffiliation\"\r\n            [language]=\"CurrentLanguage\" />\r\n        <app-stage0 #stageZero\r\n            [startingYear]=\"vitals.yearOfBirth\" \r\n            [archtype]=\"vitals.currentArchtype\" />\r\n    </div>\r\n</div>","import { ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\nimport { Character } from 'src/app/character/character';\nimport { Archtype, EnumMap, Eternal, clamp } from 'src/app/utils/common';\n\n@Component({\n  selector: 'app-vitals',\n  templateUrl: './vitals.component.html',\n  styleUrls: ['./vitals.component.scss']\n})\nexport class VitalsComponent implements OnInit {\n  @Input({ required: true }) character!: Character;\n\n  @ViewChild('startYear') startYear!: ElementRef<HTMLInputElement>;\n  @ViewChild('startAge') startAge!: ElementRef<HTMLInputElement>;\n  @ViewChild('birthYear') birthYear!: ElementRef<HTMLInputElement>;\n  @ViewChild('archtype') archtype!: ElementRef<HTMLSelectElement>;\n\n  @Output() archtypeChanged = new EventEmitter<Archtype>();\n  @Output() characterChanged = new EventEmitter<Character>();\n  @Output() startingYearChanged = new ReplaySubject<Eternal>();\n  @Output() birthYearChanged = new ReplaySubject<Eternal>();\n\n  _startingYear: number = 3076;\n  _startingAge: number = 21;\n  targetExperience: number = 5000;\n  characterName: string = ''\n  private _currentArchtype: Archtype | undefined = undefined;\n\n  get startingYear(): Eternal {\n    return Math.max(this._startingYear, 2398+16) as Eternal;\n  }\n\n  set startingYear(value: number) {\n    if(value < 0) return;\n    if(this._startingYear > value) {\n      this.startingAge -= (this.startingYear - value);\n    } else {\n      this.startingAge += value - this.startingYear;\n    }\n    this._startingYear = value;\n\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n  }\n\n  get startingAge(): number {\n    return Math.max(16, this._startingAge);\n  }\n\n  set startingAge(value: number) {\n    this._startingAge = Math.max(value, 16);\n\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n  }\n\n  get archtypes(): number[] {\n    const vals = EnumMap(Archtype)\n    return vals;\n  }\n\n  get yearOfBirth(): Eternal {\n    return this.startingYear-this.startingAge as Eternal;\n  }\n\n  set yearOfBirth(value: number) {\n    this.startingAge = this.startingYear - Math.max(value, 2398);\n\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n  }\n\n  get maxBirthYear(): number {\n    return this.startingYear - 16;\n  }\n\n  get currentArchtype():  Archtype | undefined {\n    return this._currentArchtype;\n  }\n\n  set currentArchtype(val: Archtype | undefined) {\n    this._currentArchtype = val;\n\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n  }\n\n  constructor(private ref: ChangeDetectorRef) {\n  }\n  ngOnInit(): void {\n    this.startingYearChanged.next(this.startingYear);\n    this.birthYearChanged.next(this.yearOfBirth);\n  }\n\n\n  nameChanged(e: Event) {\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n\n    this.characterChanged.emit(this.character);\n  }\n\n  ageChanged(e: Event) {\n    this.startingAge = this.startAge.nativeElement.valueAsNumber;\n    this.startAge.nativeElement.valueAsNumber = this.startingAge;\n\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n\n    this.characterChanged.emit(this.character);\n    if(!isNaN(this.yearOfBirth)) this.birthYearChanged.next(this.yearOfBirth);\n  }\n\n  startYearChanged(e: Event) {\n    this.startingYear = this.startYear.nativeElement.valueAsNumber;\n    this.startYear.nativeElement.valueAsNumber = this.startingYear;\n\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n\n    this.characterChanged.emit(this.character);\n    if(!isNaN(this.startingYear)) this.startingYearChanged.next(this.startingYear);\n  }\n\n  yearOfBirthChanged(e: Event) {\n    this.yearOfBirth = this.birthYear.nativeElement.valueAsNumber;\n    this.birthYear.nativeElement.valueAsNumber = this.yearOfBirth;\n\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n\n    this.characterChanged.emit(this.character);\n    if(!isNaN(this.yearOfBirth)) this.birthYearChanged.next(this.yearOfBirth);\n  }\n\n  currentArchtypeChanged(e: Event) {\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n    \n    const val = Archtype[this.archtype.nativeElement.selectedIndex-1] as keyof typeof Archtype\n    this.currentArchtype = Archtype[val];\n\n    this.characterChanged.emit(this.character);\n  }\n}\n\n","<form>\n    <span class=\"wrapper\"><label for=\"name\">Name</label><input id=\"name\" type=\"text\" [value]=\"characterName\" (change)=\"nameChanged($event)\"/></span>\n    <span class=\"wrapper\"><label for=\"startingYear\">Starting Year</label><input id=\"startingYear\" type=\"number\" [min]=\"2398\" [max]=\"3175\" placeholder=\"3076\" [valueAsNumber]=\"startingYear\" class=\"num\" (change)=\"startYearChanged($event)\" #startYear /></span>\n    <span class=\"wrapper\"><label for=\"startingAge\">Starting Age</label><input id=\"startingAge\" type=\"number\" [min]=\"16\" placeholder=\"21\" [valueAsNumber]=\"startingAge\" class=\"num\" (change)=\"ageChanged($event)\" #startAge/></span>\n    <span class=\"wrapper\"><label for=\"targetExperience\">Target Experience</label><input id=\"targetExperience\" type=\"number\" [min]=\"3000\" placeholder=\"5000\" [valueAsNumber]=\"targetExperience\" class=\"num\"/></span>\n    <span class=\"wrapper\"><label for=\"birthYear\">Birth Year</label><input id=\"birthYear\" type=\"number\" [max]=\"maxBirthYear\" [min]=\"2382\" [valueAsNumber]=\"yearOfBirth\" (change)=\"yearOfBirthChanged($event)\" #birthYear class=\"num\" #birth></span>\n    <span class=\"wrapper\"><label for=\"archtype\">Archtype</label>\n        <select name=\"archtype\" id=\"archtype\" #archtype (change)=\"currentArchtypeChanged($event)\">\n            <option hidden disabled selected value> -- select an option -- </option>\n            <option *ngFor=\"let archtype of archtypes\" class=\"opt\">{{ archtype | archtype }}</option>\n        </select>\n    </span>\n</form>","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnDestroy, Output, QueryList, ViewChild, ViewChildren } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { AffiliationInfo, Subaffiliation } from 'src/app/affiliation/affiliation';\r\nimport { Stat, Skill, Statistic, Experience, Requirement, Citation } from 'src/app/utils/common';\r\nimport { ExpComponent } from 'src/app/utils/exp/exp.component';\r\n\r\n@Component({\r\n  selector: 'app-stage0-aff',\r\n  templateUrl: './aff.component.html',\r\n  styleUrls: ['./aff.component.scss']\r\n})\r\nexport class AffComponent implements AfterViewInit, OnDestroy {\r\n\r\n  @Input({ required: true }) affiliations!: (AffiliationInfo & Record<'Subaffiliations', Subaffiliation[]>)[];\r\n  @Output() affiliationChanged = new EventEmitter<(AffiliationInfo & Record<'Subaffiliations', Subaffiliation[]>)>();\r\n  @Output() choice = new EventEmitter<Record<'add',Experience[]> & Record<'remove', Experience[]>>();\r\n\r\n  @ViewChild('exp') exp!: ExpComponent;\r\n  @ViewChild('affSel') affSel!: ElementRef<HTMLSelectElement>;\r\n\r\n  currentAffiliationIndex?: number;\r\n\r\n  get experience(): Experience[] {\r\n    return [\r\n      ...this.exp.experience,\r\n    ]\r\n  }\r\n\r\n  get requirments(): Requirement[] {\r\n    return [];\r\n  }\r\n\r\n  get isComplete(): boolean {\r\n    return this.currentAffiliationIndex !== undefined && this.exp.isComplete;\r\n  }\r\n\r\n  get currentAffiliation(): (AffiliationInfo & Record<'Subaffiliations', Subaffiliation[]>) | undefined {\r\n    return this.currentAffiliationIndex !== undefined ? this.affiliations[this.currentAffiliationIndex] : undefined;\r\n  }\r\n\r\n  get subaffiliations(): Subaffiliation[] {\r\n    return this.currentAffiliation ? this.currentAffiliation.Subaffiliations : [];\r\n  }\r\n\r\n  get affSubTotal():number {\r\n    return this.currentAffiliation ? this.currentAffiliation.Experience.reduce((a, b) => a+b.Quantity, 0) : 0;\r\n  }\r\n\r\n  private subscriptions: Subscription[] = [];\r\n  constructor(\r\n    private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscriptions.push(\r\n      this.exp.choice.subscribe(choice => {\r\n        this.choice.emit(choice);\r\n        this.ref.detectChanges();  \r\n        this.ref.markForCheck();  \r\n      }),\r\n      this.exp.completed.subscribe(() => {\r\n        this.ref.detectChanges();  \r\n        this.ref.markForCheck();\r\n      }));\r\n    \r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  currentAffiliationChanged(_: Event) {\r\n    this.affiliationChanged.emit(this.currentAffiliation);\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck(); \r\n  }\r\n}\r\n","<span [class.incomplete]=\"affSel.selectedIndex === 0\"><form>\r\n    <label for=\"aff\"><h3>Affiliation</h3></label>\r\n    <select name=\"affiliations\" id=\"aff\" [(ngModel)]=\"currentAffiliationIndex\" (change)=\"currentAffiliationChanged($event)\" #affSel>\r\n        <option hidden disabled selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n        <option *ngFor=\"let aff of affiliations\" class=\"opt\" [ngValue]=\"affiliations.indexOf(aff)\">{{ aff.Name }}</option>\r\n    </select>\r\n    <div *ngIf=\"currentAffiliation\">\r\n        {{ currentAffiliation.Citation| citation }}\r\n    </div>\r\n</form></span>\r\n\r\n<div [hidden]=\"!currentAffiliation\">\r\n    <h4>Subtotal: {{affSubTotal}}</h4>\r\n    <app-exp [values]=\"currentAffiliation?.Experience ?? []\" #exp />\r\n</div>","import { AfterViewInit, ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, Output, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { AffiliationInfo, Subaffiliation } from 'src/app/affiliation/affiliation';\nimport { AffiliationsService } from 'src/app/affiliation/affiliations.service';\nimport { Experience, Requirement } from 'src/app/utils/common';\nimport { AffComponent } from './aff/aff.component';\nimport { SubaffComponent } from './subaff/subaff.component';\n\n@Component({\n  selector: 'app-newaff',\n  templateUrl: './newaff.component.html',\n  styleUrls: ['./newaff.component.scss']\n})\nexport class NewaffComponent implements AfterViewInit, OnDestroy {\n  @Input() excludedAffiliations?: AffiliationInfo[];\n  @Input({ required: true }) currentYear!: number;\n  \n  @Output() complete = new EventEmitter<Experience[]>();\n  @Output() changed = new EventEmitter<never>();\n  @Output() affiliationChanged = new EventEmitter<AffiliationInfo>();\n\n  @ViewChild('aff') aff!: AffComponent;\n  @ViewChild('subaff') subaff!: SubaffComponent;\n\n  get currentAffiliation(): AffiliationInfo | undefined {\n    return this.aff.currentAffiliation;\n  }\n\n  get isComplete(): boolean {\n    const affcompleted = this.aff?.isComplete ?? false;\n    const subaffcompleted = this.subaff?.isComplete ?? false\n    return affcompleted && subaffcompleted;\n  }\n\n  get experience(): Experience[] {\n    return [...this.aff.experience, ...this.subaff.experience];\n  }\n\n  get requirments(): Requirement[] {\n    return [...this.aff.requirments, ...this.subaff.requirments];\n  }\n\n  get affiliations():  (AffiliationInfo & Record<'Subaffiliations', Subaffiliation[]>)[]  {\n    const gottenAffs = this.affliliationService.At(this.currentYear);\n    const exAffs = (this.excludedAffiliations ? this.excludedAffiliations : []).map(exaff => exaff.Name);\n    return gottenAffs.filter(aff => !exAffs.includes(aff.Name));\n  }\n  \n  private subscriptions: Subscription[] = [];\n  constructor(\n    public affliliationService: AffiliationsService,\n    private ref: ChangeDetectorRef) {\n\n  }\n\n  ngAfterViewInit(): void {\n    this.subscriptions.push(\n      this.aff.choice.subscribe(_ => {\n        this.checkForComplete();\n      }),\n      this.aff.affiliationChanged.subscribe(_ => {\n        this.affiliationChanged.emit(this.currentAffiliation);\n        this.checkForComplete();\n      }),\n      this.subaff.subaffiliationChanged.subscribe(_ => {\n        this.affiliationChanged.emit(this.currentAffiliation);\n        this.checkForComplete();\n      }),\n      this.subaff.choice.subscribe(_ => {\n        this.checkForComplete();\n      })\n    );\n    this.ref.detectChanges();  \n    this.ref.markForCheck(); \n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  checkForComplete() {\n    this.ref.detectChanges();  \n    if (this.isComplete) {\n      //this should probaly emit all the completed info\n      this.complete.emit(this.experience);\n    } else {\n      this.changed.emit();\n    }\n    this.ref.markForCheck();  \n  }\n}\n","<div>\n    <app-stage0-aff #aff \n        [affiliations]=\"affiliations\"/>\n    \n    <app-stage0-subaff #subaff \n        [subaffiliations]=\"aff.currentAffiliation?.Subaffiliations ?? []\"/>\n</div>","import { AfterViewInit, ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, Output, ViewChild } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { Subaffiliation } from 'src/app/affiliation/affiliation';\r\nimport { Experience, Requirement } from 'src/app/utils/common';\r\nimport { ExpComponent } from 'src/app/utils/exp/exp.component';\r\n\r\n@Component({\r\n  selector: 'app-stage0-subaff',\r\n  templateUrl: './subaff.component.html',\r\n  styleUrls: ['./subaff.component.scss']\r\n})\r\nexport class SubaffComponent implements AfterViewInit, OnDestroy {\r\n  @Input({ required: true }) subaffiliations!: Subaffiliation[];\r\n  @Output() subaffiliationChanged = new EventEmitter<Subaffiliation>();\r\n  @Output() choice = new EventEmitter<Record<'add',Experience[]> & Record<'remove', Experience[]>>();\r\n  @ViewChild('exp') exp!: ExpComponent;\r\n\r\n  get experience(): Experience[] {\r\n    return this.exp ? this.exp.experience : [];\r\n  }\r\n\r\n  get requirments(): Requirement[] {\r\n    return [];\r\n  }\r\n\r\n  get isComplete(): boolean {\r\n    if ((this.subaffiliations?.length ?? 0) === 0) return false;\r\n    if (this.currentSubaffiliationIndex === undefined) return false;\r\n    return (!!this.currentSubaffiliation) && this.exp.isComplete;\r\n  }\r\n\r\n  currentSubaffiliationIndex?: number;\r\n  get currentSubaffiliation(): Subaffiliation | undefined {\r\n    return this.currentSubaffiliationIndex !== undefined ? this.subaffiliations[this.currentSubaffiliationIndex] : undefined;\r\n  }\r\n\r\n  get subaffSubTotal(): number {\r\n    return this.currentSubaffiliation ? this.currentSubaffiliation.Experience.reduce((a, b) => a+b.Quantity, 0) : 0;\r\n  }\r\n\r\n  private subscriptions: Subscription[] = [];\r\n  constructor(\r\n    private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscriptions.push(\r\n      this.exp.choice.subscribe(choice => {\r\n        this.choice.emit(choice);\r\n        this.ref.detectChanges();  \r\n        this.ref.markForCheck();  \r\n      }),\r\n      this.exp.completed.subscribe(() => {\r\n        this.ref.detectChanges();  \r\n        this.ref.markForCheck();\r\n      }));\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  currentSubaffiliationChanged(e: any) {\r\n    this.subaffiliationChanged.emit(this.currentSubaffiliation);\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck(); \r\n  }\r\n}\r\n","<div [hidden]=\"subaffiliations.length === 0\">\r\n    <span [class.incomplete]=\"currentSubaffiliationIndex === undefined\"><form>\r\n        <label for=\"subaff\"><h3>Subaffiliation</h3></label>\r\n        <select name=\"subaffiliations\" id=\"subaff\" [(ngModel)]=\"currentSubaffiliationIndex\" (change)=\"currentSubaffiliationChanged($event)\" required>\r\n            <option hidden disabled selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n            <option *ngFor=\"let subaff of subaffiliations\" class=\"opt\" [ngValue]=\"subaffiliations.indexOf(subaff)\">{{ subaff.Name }}</option>\r\n        </select>\r\n        <div *ngIf=\"currentSubaffiliation\">\r\n            {{ currentSubaffiliation.Citation| citation }}\r\n        </div>\r\n    </form></span>\r\n\r\n    <div [hidden]=\"!currentSubaffiliation\">\r\n        <h4>Subtotal: {{subaffSubTotal}}</h4>\r\n        <app-exp [values]=\"currentSubaffiliation?.Experience ?? []\" #exp/>\r\n    </div>\r\n</div>","import { AfterViewInit, ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, OnInit, Output, QueryList, ViewChildren } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { Stage, Range, Book, Citation, Attribute, EnumMap, Skill, Stat, Statistic, Trait, Experience } from 'src/app/utils/common';\nimport { RngService } from 'src/app/utils/rng.service';\nimport { SetExpComponent } from 'src/app/utils/set-exp/set-exp.component';\n\n@Component({\n  selector: 'app-random-life-event',\n  templateUrl: './random-life-event.component.html',\n  styleUrls: ['./random-life-event.component.scss']\n})\nexport class RandomLifeEventComponent implements OnInit, AfterViewInit, OnDestroy {\n  @Input({ required: true }) stage!: Exclude<Stage, 0>;\n\n  @ViewChildren(SetExpComponent) setExp!: QueryList<SetExpComponent>;\n\n  @Output() complete = new EventEmitter<Experience[]>();\n  @Output() changed = new EventEmitter<never>();\n\n  currentRoll!: Range<2, 13>;\n  rerollCount: number = 0;\n  acceptance = false;\n  modifiers: number = 0;\n\n  citation: Citation = {\n    Book: Book.ATimeOfWarCompanion,\n    Page: 77\n  }\n\n  traitAndAttStats = [\n    ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att }}),\n    ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\n  ]\n  anyStats = [\n    ...this.traitAndAttStats,\n    ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill }})\n  ]\n\n  get isComplete(): boolean {\n    const reduce = this.currentRoll !== 7 ? this.setExp.reduce((sofar, current) => sofar && current.isComplete, true) : true;\n    return this.acceptance && reduce;\n  }\n\n  get outcome(): {\n    Severity: string,\n    Experience: { [stage in Exclude<Stage, 0>]: number },\n    Denominator?:  2 | 3\n  } {\n    const effectiveRoll: Range<2, 13> = Math.min(Math.max(this.currentRoll + this.modifiers, 2), 12) as Range<2, 13>;\n\n    switch(effectiveRoll) {\n      case 2:\n        return {\n          Severity: 'Catastrophic!',\n          Experience: {\n            1: -100,\n            2: -200,\n            3: -400,\n            4: -500\n          },\n          Denominator: 2,\n        };\n      case 3:\n        return {\n          Severity: 'Horrific!',\n          Experience: {\n            1: -75,\n            2: -150,\n            3: -300,\n            4: -375\n          },\n          Denominator: 3\n        };\n      case 4:\n        return {\n          Severity: 'Terrible!',\n          Experience: {\n            1: -50,\n            2: -100,\n            3: -200,\n            4: -250\n          },\n        };\n      case 5:\n        return {\n          Severity: 'Bad',\n          Experience: {\n            1: -25,\n            2: -50,\n            3: -100,\n            4: -125\n          }\n        };\n      case 6:\n        return {\n          Severity: 'Not So Bad',\n          Experience: {\n            1: -10,\n            2: -20,\n            3: -50,\n            4: -60\n          }\n        };\n      case 7:\n        return {\n          Severity: 'Mundane',\n          Experience: {\n            1: 0,\n            2: 0,\n            3: 0,\n            4: 0\n          }\n        };\n      case 8:\n        return {\n          Severity: 'Medicore',\n          Experience: {\n            1: 10,\n            2: 20,\n            3: 50,\n            4: 60\n          }\n        };\n      case 9:\n        return {\n          Severity: 'Pretty Good',\n          Experience: {\n            1: 25,\n            2: 50,\n            3: 100,\n            4: 125\n          }\n        };\n      case 10:\n        return {\n          Severity: 'Great!',\n          Experience: {\n            1: 50,\n            2: 100,\n            3: 200,\n            4: 250\n          }\n        };\n      case 11:\n        return {\n          Severity: 'Awesome!',\n          Experience: {\n            1: 75,\n            2: 150,\n            3: 300,\n            4: 375\n          },\n          Denominator: 3\n        };\n      case 12:\n        return {\n          Severity: 'Blessed!',\n          Experience: {\n            1: 100,\n            2: 200,\n            3: 400,\n            4: 500\n          },\n          Denominator: 2\n        };\n    }\n  }\n\n  get experience(): Experience[] {\n    return this.setExp ? this.setExp.filter(exp => exp.isComplete).map(exp => exp.experience).flatMap(exp => exp) : [];\n  }\n\n  constructor(private rng: RngService,  private ref: ChangeDetectorRef) {\n    \n  }\n\n  private subscriptions: Subscription[] = [];\n  private setSubs: Subscription[] = [];\n  ngAfterViewInit(): void {\n    this.subscriptions.push(this.setExp.changes.subscribe((change: QueryList<SetExpComponent>) => {\n      this.setSubs.forEach(sub => sub.unsubscribe());\n      change.forEach(set => {\n        this.setSubs.push(set.choice.subscribe(_ => {\n          this.changed.emit();\n          if(this.isComplete) this.complete.emit(this.experience);\n          this.ref.detectChanges();  \n          this.ref.markForCheck();\n        }));\n      });\n    }));\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n  }\n\n  ngOnDestroy(): void {\n    [...this.subscriptions, ...this.setSubs].forEach(sub => sub.unsubscribe());\n  }\n\n  ngOnInit(): void {\n    this.currentRoll = this.rng.Roll() + this.rng.Roll() as Range<2, 13>;\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n  }\n\n  reroll() {\n    this.currentRoll = this.rng.Roll() + this.rng.Roll() as Range<2, 13>;\n    this.rerollCount = this.rerollCount+1;\n  }\n\n  acceptRoll(_:Event) {\n    this.acceptance = !this.acceptance\n    if(this.isComplete) this.complete.emit(this.experience);\n    this.ref.detectChanges();  \n    this.ref.markForCheck();  \n  }\n\n  round(numerator: number, denominator: number): number {\n    return Math.ceil(numerator / denominator);\n  }\n}\n\n","<h3>Random Life Event</h3>\n<span>The current roll is {{currentRoll}}.  You have re-rolled {{rerollCount}} times.</span>\n<h4>Outcome: {{outcome.Severity}}</h4>\n<div>\n    At this stage you have {{outcome.Experience[stage] >= 0 ? '+' : ''}}{{outcome.Experience[stage]}} EXP to allocate.\n    <ng-container *ngIf=\"outcome.Denominator\">\n        At least 1/{{outcome.Denominator}} rounded up must be spend on Attributes and/or Traits.\n    </ng-container>\n    <wbr />For table {{citation | citation}}\n</div>\n<div [class.incomplete]=\"!acceptance\">\n    <label for=\"accept\">Accept this outcome?</label>\n    <input type=\"checkbox\" id=\"accept\" name=\"accept\" [value]=\"acceptance\" unchecked #accept (click)=\"acceptRoll($event)\" />\n    <input type=\"button\" value=\"reroll\" title=\"reroll\" id=\"reroll\" name=\"reroll\" (click)=\"reroll()\" [disabled]=\"acceptance\"/>\n</div>\n<div *ngIf=\"acceptance\">\n    <div *ngIf=\"outcome.Denominator; else elseBlock\">\n        <h4>Attribute/Trait allocation total: {{round(outcome.Experience[stage], outcome.Denominator)}}</h4>\n        <ul>\n            <app-set-exp #setExp\n                [limit]=\"round(outcome.Experience[stage], outcome.Denominator)\"\n                [options]=\"traitAndAttStats\"\n                [enlist]=\"true\" />\n        </ul>\n        <h4>Free allocation total: {{outcome.Experience[stage] - round(outcome.Experience[stage], outcome.Denominator)}}</h4>\n        <ul>\n            <app-set-exp #setExp\n                [limit]=\"outcome.Experience[stage] - round(outcome.Experience[stage], outcome.Denominator)\"\n                [options]=\"anyStats\"\n                [enlist]=\"true\" />\n        </ul>\n    </div>\n    <ng-template #elseBlock>\n        <h4>Free allocation total: {{outcome.Experience[stage]}}</h4>\n        <ng-container *ngIf=\"outcome.Experience[stage] !== 0\">\n            <ul>\n            <app-set-exp #setExp\n                [limit]=\"outcome.Experience[stage]\"\n                [options]=\"anyStats\"\n                [enlist]=\"true\" />\n            </ul>\n        </ng-container>\n        <span *ngIf=\"outcome.Experience[stage] === 0\">\n            Because this outcome has zero exp you have nothing else to do here.\n        </span>\n    </ng-template>\n</div>\n<div *ngIf=\"!acceptance\">\n    If your GM allows for rerolls and you are happy with the outcome check the box to being allocating experience.\n</div>","import { Component } from '@angular/core';\r\nimport { Citation, Book, Experience, EnumMap, Statistic, Skill, Attribute, Requirement } from 'src/app/utils/common';\r\n\r\n@Component({\r\n  selector: 'app-stage0-default-exp',\r\n  templateUrl: './default-exp.component.html',\r\n  styleUrls: ['./default-exp.component.scss']\r\n})\r\nexport class DefaultExpComponent {\r\n\r\n\r\n  defaultExperienceCitation: Citation = {\r\n    Book: Book.ATimeOfWar,\r\n    Page: 52\r\n  }\r\n  defaultExperience: Experience[] = [\r\n    ...EnumMap(Attribute).map(att => { return <Experience>{ Kind: Statistic.Attribute, Attribute: <Attribute>att, Quantity: 100 } }),\r\n    { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: 'English', Quantity: 20 },\r\n    { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 10 }];\r\n  defaultRequirment: Requirement[] = [\r\n    ...EnumMap(Attribute).map(att => { return <Requirement>{ Kind: Statistic.Attribute, Attribute: <Attribute>att, Op: '>', Level: 0 } })\r\n  ]\r\n}\r\n","<ul>\r\n    <li *ngFor=\"let exp of defaultExperience\">\r\n        {{ exp | exp }}\r\n    </li>\r\n</ul>\r\n\r\n<p>Additionally +20 XP towards the affiliations primary or secondary language.  {{ defaultExperienceCitation | citation }}</p>","import { Component, Input, ChangeDetectorRef, Output, EventEmitter, AfterViewInit, OnDestroy, ViewChild } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { AffiliationsService } from 'src/app/affiliation/affiliations.service';\r\nimport { Archtype, Experience, Requirement, Skill, Stat, Statistic } from 'src/app/utils/common';\r\nimport { DefaultExpComponent } from './default-exp/default-exp.component';\r\nimport { NewaffComponent } from '../newaff/newaff.component';\r\nimport { AffiliationInfo } from 'src/app/affiliation/affiliation';\r\nimport { OrExpComponent } from 'src/app/utils/or-exp/or-exp.component';\r\n\r\n@Component({\r\n  selector: 'app-stage0',\r\n  templateUrl: './stage0.component.html',\r\n  styleUrls: ['./stage0.component.scss']\r\n})\r\nexport class Stage0Component implements AfterViewInit, OnDestroy {\r\n  @Input({ required: true }) startingYear!: number;\r\n  @Input({ required: true }) archtype!: Archtype | undefined;\r\n\r\n  @Output() complete = new EventEmitter<Experience[]>();\r\n  @Output() changed = new EventEmitter<never>();\r\n  @Output() languageChanged = new EventEmitter<Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string }>();\r\n\r\n  @ViewChild('default') default!: DefaultExpComponent;\r\n  @ViewChild('aff') aff!: NewaffComponent;\r\n  @ViewChild('langsel') langsel!: OrExpComponent;\r\n\r\n  get currentAffiliation(): AffiliationInfo | undefined {\r\n    return this.aff?.currentAffiliation;\r\n  }\r\n\r\n  get isComplete(): boolean {\r\n    return !!this.language && this.aff.isComplete;\r\n  }\r\n\r\n  private _language: (Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string }) | undefined = undefined;\r\n  private get language(): (Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string }) | undefined {\r\n    return this._language;\r\n  }\r\n  private set language(value: typeof this._language) {\r\n    this.ref.markForCheck(); \r\n    this._language = value;\r\n    this.ref.detectChanges();  \r\n  }\r\n  \r\n  get languages(): Array<Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string }> {\r\n    return this.currentAffiliation ? [this.currentAffiliation.PrimaryLanguage, ...this.currentAffiliation.SecondaryLanguages] : [];\r\n  }\r\n\r\n  get experience(): Experience[] {\r\n    return [\r\n      ...(this.language ? [this.language] : []),\r\n      ...this.default.defaultExperience,\r\n    ]\r\n  }\r\n\r\n  get affiliationExperience(): Experience[] {\r\n    return this.aff.experience;\r\n  }\r\n\r\n  get requirments(): Requirement[] {\r\n    return [];\r\n  }\r\n\r\n  get affiliationRequirments(): Requirement[] {\r\n    return this.aff.requirments;\r\n  }\r\n\r\n  private subscriptions: Subscription[] = [];\r\n  constructor(\r\n    public affliliationService: AffiliationsService,\r\n    private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscriptions.push(\r\n      this.aff.changed.subscribe(() => {\r\n        this.checkForComplete();\r\n      }),\r\n      this.aff.complete.subscribe((_) => {\r\n        this.checkForComplete();\r\n      }),\r\n      this.aff.affiliationChanged.subscribe((_) => {\r\n        this.checkForComplete();\r\n      this.langsel.choice.subscribe(changes => {\r\n        this.language = (changes.add[0] as typeof this._language)!\r\n        this.languageChanged.emit(this.language);\r\n      })\r\n    }));\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck(); \r\n  }\r\n\r\n  hasHideButton: boolean = false;\r\n  checkForComplete() {\r\n    this.ref.detectChanges();  \r\n    if (this.isComplete) {\r\n      //this should probaly emit all the completed info\r\n      this.complete.emit(this.experience);\r\n      this.hasHideButton = true;\r\n    } else {\r\n      this.hasHideButton = false;\r\n      this.changed.emit();\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscriptions.forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  visible: boolean = true;\r\n  toggleVisibility(newState: boolean): void {\r\n    this.visible = newState;\r\n\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n}\r\n\r\n","<h1><label for=\"toggleVisibilityStage0\">Stage 0 - Introduction</label><input type=\"button\" title=\"toggleVisibilityStage0\" [value]=\"isComplete ? 'hide' : 'show'\" id=\"toggleVisibilityStage0\" name=\"toggleVisibilityStage0\" (click)=\"toggleVisibility(!visible)\" *ngIf=\"hasHideButton\"/></h1> \r\n<div [hidden]=\"!visible\">\r\n    <p>We only want to show options for what affiliations a player can selected based on what they could have been born into in the year {{startingYear}}</p>\r\n\r\n    <app-stage0-default-exp #default />\r\n\r\n    <ul *ngIf=\"currentAffiliation\" [class.incomplete]=\"langsel.selectedIndex === 0\">\r\n        <li class=\"lang\">\r\n            Language/<app-or-exp #langsel\r\n                [options]=\"languages\"\r\n                [quantity]=\"20\"\r\n                [showLabel]=\"false\"/>\r\n        </li>\r\n    </ul>\r\n\r\n    <app-newaff #aff\r\n        [currentYear]=\"startingYear\"/>\r\n</div>","import { ChangeDetectorRef, Component, EventEmitter, Input, Output, ViewChild, AfterViewInit, OnDestroy, ElementRef, OnInit } from '@angular/core';\r\nimport { Observable, ReplaySubject, Subscription } from 'rxjs';\r\nimport { AffiliationInfo } from 'src/app/affiliation/affiliation';\r\nimport { BackgroundInfo } from 'src/app/background/background';\r\nimport { BackgroundsService } from 'src/app/background/backgrounds.service';\r\nimport { Archtype, Book, Citation, Eternal, Experience, Requirement, Skill, Statistic } from 'src/app/utils/common';\r\nimport { ExpComponent } from 'src/app/utils/exp/exp.component';\r\nimport { NewaffComponent } from '../newaff/newaff.component';\r\nimport { RandomLifeEventComponent } from '../random-life-event/random-life-event.component';\r\n\r\n@Component({\r\n  selector: 'app-stage1',\r\n  templateUrl: './stage1.component.html',\r\n  styleUrls: ['./stage1.component.scss']\r\n})\r\nexport class Stage1Component implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() hidden: boolean = false;\r\n  @Input({ required: true }) startingYear!: Observable<Eternal>;\r\n  @Input({ required: true }) archtype!: Archtype | undefined;\r\n  @Input({ required: true }) startingAffiliation!: AffiliationInfo;\r\n  @Input({ required: true }) language!: Observable<Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string }>\r\n\r\n  @Output() backgroundChanged = new EventEmitter<BackgroundInfo>();\r\n  @Output() complete = new EventEmitter<Experience[]>();\r\n  @Output() changed = new EventEmitter<never>();\r\n  @Output() affiliationChanged = new EventEmitter<AffiliationInfo>();\r\n  @Output() affYearChanged = new ReplaySubject<Eternal>();\r\n\r\n  @ViewChild('exp') exp!: ExpComponent;\r\n  @ViewChild('changeAff') changeAff!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('newaff') newaff!: NewaffComponent;\r\n  @ViewChild('rle') rle!: RandomLifeEventComponent;\r\n\r\n  changeAffState = 'off';\r\n\r\n  affChangeCitation: Citation = {\r\n    Book: Book.ATimeOfWar,\r\n    Page: 53\r\n  }\r\n\r\n  get affYear(): Eternal {\r\n    return (this.currentStartingYear + (this.currentBackground?.Duration ?? 0)) as Eternal;\r\n  }\r\n\r\n  get currentAffiliation(): AffiliationInfo {\r\n    return this.newaff?.currentAffiliation ?? this.startingAffiliation;\r\n  }\r\n\r\n  get isComplete(): boolean {\r\n    if(this.hidden) return false;\r\n    const check = this.exp.isComplete && this.rle.isComplete;\r\n    if(this.changeAffState === 'off') return check;\r\n    return (this.newaff?.isComplete ?? false) && check;\r\n  }\r\n\r\n  get experience(): Experience[] {\r\n    return [...this.exp.experience, ...this.rle.experience];\r\n  }\r\n\r\n  get affiliationExperience(): Experience[] {\r\n    return this.changeAffState === 'off' ? this.startingAffiliation.Experience : this.newaff.experience\r\n  }\r\n\r\n  get requirments(): Requirement[] {\r\n    return this.currentBackground?.Prereq ? [this.currentBackground.Prereq] : [];\r\n  }\r\n\r\n  get affiliationRequirments(): Requirement[] {\r\n    return this.changeAffState === 'off' ? [] : this.newaff.requirments;\r\n  }\r\n\r\n  get exAff() : AffiliationInfo[] {\r\n    return this.startingAffiliation ? [this.startingAffiliation] : [];\r\n  }\r\n\r\n  private _cache: { [year:number]: BackgroundInfo[] } = {};\r\n  get backgrounds(): BackgroundInfo[] {\r\n    if(isNaN(this.currentStartingYear)) return [];\r\n    if(this.currentStartingYear === undefined) return [];\r\n    if(this.currentStartingYear in this._cache) \r\n      return this._cache[this.currentStartingYear];\r\n    else {\r\n      return (this._cache[this.currentStartingYear] = this.backgroundServices.At(this.currentStartingYear, 1));\r\n    }\r\n  }\r\n\r\n  private _fixedBkgExp: Experience[] = [];\r\n  set fixedBackgroundExperience(values: Experience[]) {\r\n    this.ref.markForCheck();  \r\n    this._fixedBkgExp = values.map(exp => JSON.parse(JSON.stringify(exp))).map(exp => {\r\n      if('Or' in exp || 'Pick' in exp || 'Set' in exp || 'If' in exp) return exp;\r\n      switch(exp.Kind) {\r\n        case Statistic.Skill:\r\n          switch(exp.Skill) {\r\n            case Skill.Protocol:\r\n              if(exp.Subskill === '!') {\r\n                exp.Subskill = this.currentAffiliation.Protocol.Subskill;\r\n              }\r\n              return exp;\r\n            case Skill.Language:\r\n              if(exp.Subskill === '!' && !!this.currentLanguage) {\r\n                exp.Subskill = this.currentLanguage.Subskill;\r\n              }\r\n              return exp;\r\n            default:\r\n              return exp;\r\n          }\r\n        default:\r\n          return exp;\r\n      }\r\n    });\r\n    this.ref.detectChanges();  \r\n  }\r\n  get fixedBackgroundExperience(): Experience[] {\r\n    if(this._fixedBkgExp.length === 0 && this.currentBackground) {\r\n      this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n    }\r\n    return this._fixedBkgExp;\r\n  }\r\n\r\n  get currentBackground(): BackgroundInfo | undefined {\r\n    return this.currentBackgroundIndex !== undefined ? this.backgrounds[this.currentBackgroundIndex] : undefined;\r\n  }\r\n\r\n  get subtotal():number {\r\n    return this.currentBackground ? this.currentBackground.Experience.reduce((a, b) => a+('Pick' in b ? b.Pick.Count : 1)*b.Quantity, 0) : 0;\r\n  }\r\n\r\n  private _currentBackgroundIndex?: number;\r\n  get currentBackgroundIndex(): number | undefined {\r\n    return this._currentBackgroundIndex;\r\n  }\r\n  set currentBackgroundIndex(value: number | undefined) {\r\n    this._currentBackgroundIndex = value;\r\n\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n\r\n  }\r\n  currentStartingYear!: Eternal;\r\n\r\n  subscriptions: Subscription[] = [];\r\n  newaffSubs: Subscription[] = [];\r\n  constructor(\r\n    public backgroundServices: BackgroundsService,\r\n    private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n  ngOnInit(): void {\r\n    this.subscriptions.push(this.startingYear.subscribe(year => {\r\n      this.currentStartingYear = year;\r\n      this.affYearChanged.next(this.affYear);\r\n      this.ref.detectChanges();\r\n      this.ref.markForCheck();\r\n    }));\r\n  }\r\n\r\n  private currentLanguage?: Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string };\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscriptions.push(this.exp.choice.subscribe(_ => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.exp.completed.subscribe(() => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.rle.changed.subscribe(() => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.rle.complete.subscribe(_ => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.language.subscribe(lang => {\r\n      this.currentLanguage = lang;\r\n      this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n      this.checkForComplete();\r\n    }));\r\n  }\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions, ...this.newaffSubs].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  hasHideButton: boolean = false;\r\n  visible: boolean = true;\r\n  toggleVisibility(newState: boolean): void {\r\n    this.visible = newState;\r\n  }\r\n\r\n  checkForComplete() {\r\n    this.ref.detectChanges();  \r\n    if (this.isComplete) {\r\n      //this should probaly emit all the completed info\r\n      this.complete.emit(this.experience);\r\n      this.affYearChanged.next(this.affYear);\r\n      this.hasHideButton = true;\r\n    } else {\r\n      this.hasHideButton = false;\r\n      this.changed.emit();\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  currentBackgroundChanged(_: Event) {\r\n    this.backgroundChanged.emit(this.currentBackground);\r\n    this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  changeAffChanged(_: Event) {\r\n    switch(this.changeAffState) {\r\n      case 'off':\r\n        this.changeAffState = 'on';\r\n        break;\r\n      case 'on':\r\n      default:\r\n        this.changeAffState = 'off';\r\n        break;\r\n    }\r\n    this.ref.detectChanges();  \r\n    switch(this.changeAffState) {\r\n      case 'on':\r\n        this.newaffSubs.push(this.newaff.changed.subscribe(_ => {\r\n          this.checkForComplete();\r\n        }));\r\n        this.newaffSubs.push(this.newaff.complete.subscribe(() => {\r\n          this.affiliationChanged.emit(this.newaff.currentAffiliation);\r\n          this.checkForComplete();\r\n        }));\r\n        this.newaffSubs.push(this.newaff.affiliationChanged.subscribe((_) => {\r\n          this.checkForComplete();\r\n        }));\r\n        break;\r\n      case 'off':\r\n      default:\r\n        this.newaffSubs.forEach(sub => sub.unsubscribe());\r\n        break;\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n}\r\n","<div [hidden]=\"hidden\">\r\n    <h1><label for=\"toggleVisibilityStage1\">Stage 1 - Early Childhood</label><input type=\"button\" title=\"toggleVisibilityStage1\" [value]=\"isComplete ? 'hide' : 'show'\" [hidden]=\"!isComplete\" id=\"toggleVisibilityStage1\" name=\"toggleVisibilityStage1\" (click)=\"toggleVisibility(!visible)\" *ngIf=\"hasHideButton\"/></h1>\r\n    <div [hidden]=\"!visible\">\r\n        <p>Select an early childhood background for your character.</p>\r\n\r\n        <span [class.incomplete]=\"currentBackgroundIndex === undefined\"><form>\r\n            <label for=\"bkg\"><h3>Background</h3></label>\r\n            <select title=\"background\" name=\"background\" id=\"bkg\" [(ngModel)]=\"currentBackgroundIndex\" (change)=\"currentBackgroundChanged($event)\">\r\n                <option hidden disabled selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n                <option *ngFor=\"let bkg of backgrounds\" class=\"opt\" [ngValue]=\"backgrounds.indexOf(bkg)\">{{ bkg.Name }}</option>\r\n            </select>\r\n        </form></span>\r\n        \r\n        <div [hidden]=\"!currentBackground\">\r\n            {{ currentBackground?.Citation | citation }}\r\n            <h4>Subtotal: {{subtotal}}</h4>\r\n            <app-exp [values]=\"fixedBackgroundExperience\" #exp />\r\n\r\n            <app-random-life-event #rle\r\n                [stage]=\"1\"/>\r\n        </div>\r\n\r\n        <ng-container *ngIf=\"currentBackground\">\r\n        <h3><label for=\"changeAff\">Change affiliation?</label><input type=\"checkbox\" id=\"changeAff\" name=\"changeAff\" [value]=\"changeAffState\" unchecked #changeAff (change)=\"changeAffChanged($event)\"/></h3>\r\n        <p>This decision is optional.  Characters affiliation change will happen at {{affYear}} if elected to do so.<wbr />  For affiliation change rules {{affChangeCitation|citation}}</p>\r\n        <app-newaff #newaff\r\n            *ngIf=\"changeAffState === 'on'\"\r\n            [excludedAffiliations]=\"exAff\"\r\n            [currentYear]=\"affYear\" />\r\n        </ng-container>\r\n    </div>\r\n</div>","import { ChangeDetectorRef, Component, EventEmitter, Input, Output, ViewChild, AfterViewInit, OnDestroy, ElementRef, OnInit } from '@angular/core';\r\nimport { Observable, ReplaySubject, Subscription } from 'rxjs';\r\nimport { AffiliationInfo } from 'src/app/affiliation/affiliation';\r\nimport { BackgroundInfo } from 'src/app/background/background';\r\nimport { BackgroundsService } from 'src/app/background/backgrounds.service';\r\nimport { Archtype, Book, Citation, Eternal, Experience, Requirement, Skill, Statistic } from 'src/app/utils/common';\r\nimport { ExpComponent } from 'src/app/utils/exp/exp.component';\r\nimport { NewaffComponent } from '../newaff/newaff.component';\r\nimport { RandomLifeEventComponent } from '../random-life-event/random-life-event.component';\r\n\r\n@Component({\r\n  selector: 'app-stage2',\r\n  templateUrl: './stage2.component.html',\r\n  styleUrls: ['./stage2.component.scss']\r\n})\r\nexport class Stage2Component implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() hidden: boolean = false;\r\n  @Input({ required: true }) startingYear!: Observable<Eternal>;\r\n  @Input({ required: true }) archtype!: Archtype | undefined;\r\n  @Input({ required: true }) affiliation!: AffiliationInfo;\r\n  @Input({ required: true }) language!: Observable<Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string }>\r\n\r\n  @Output() backgroundChanged = new EventEmitter<BackgroundInfo>();\r\n  @Output() complete = new EventEmitter<Experience[]>();\r\n  @Output() changed = new EventEmitter<never>();\r\n  @Output() affiliationChanged = new EventEmitter<AffiliationInfo>();\r\n  @Output() affYearChanged = new ReplaySubject<Eternal>();\r\n\r\n  @ViewChild('exp') exp!: ExpComponent;\r\n  @ViewChild('changeAff') changeAff!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('newaff') newaff!: NewaffComponent;\r\n  @ViewChild('rle') rle!: RandomLifeEventComponent;\r\n\r\n  changeAffState = 'off';\r\n\r\n  affChangeCitation: Citation = {\r\n    Book: Book.ATimeOfWar,\r\n    Page: 53\r\n  }\r\n\r\n  get affYear() {\r\n    return (this.currentStartingYear + (this.currentBackground?.Duration ?? 0)) as Eternal;\r\n  }\r\n\r\n  get currentAffiliation(): AffiliationInfo {\r\n    return this.newaff?.currentAffiliation ?? this.affiliation;\r\n  }\r\n\r\n  get isComplete(): boolean {\r\n    if(this.hidden) return false;\r\n    const check = this.exp.isComplete && this.rle.isComplete;\r\n    if(this.changeAffState === 'off') return check;\r\n    return (this.newaff?.isComplete ?? false) && check;\r\n  }\r\n\r\n  get experience(): Experience[] {\r\n    return [...this.exp.experience, ...this.rle.experience];\r\n  }\r\n\r\n  get affiliationExperience(): Experience[] {\r\n    return this.changeAffState === 'off' ? this.affiliation.Experience : this.newaff.experience\r\n  }\r\n\r\n  get requirments(): Requirement[] {\r\n    return this.currentBackground?.Prereq ? [this.currentBackground.Prereq] : [];\r\n  }\r\n\r\n  get affiliationRequirments(): Requirement[] {\r\n    return this.changeAffState === 'off' ? [] : this.newaff.requirments;\r\n  }\r\n\r\n  get exAff() : AffiliationInfo[] {\r\n    return this.affiliation ? [this.affiliation] : [];\r\n  }\r\n\r\n  private _cache: { [year:number]: BackgroundInfo[] } = {};\r\n  get backgrounds(): BackgroundInfo[] {\r\n    if(isNaN(this.currentStartingYear)) return [];\r\n    if(this.currentStartingYear === undefined) return [];\r\n    if(this.currentStartingYear in this._cache) \r\n      return this._cache[this.currentStartingYear];\r\n    else {\r\n      return (this._cache[this.currentStartingYear] = this.backgroundServices.At(this.currentStartingYear, 2));\r\n    }\r\n  }\r\n\r\n  private _fixedBkgExp: Experience[] = [];\r\n  set fixedBackgroundExperience(values: Experience[]) {\r\n    this.ref.markForCheck();  \r\n    this._fixedBkgExp = values.map(exp => JSON.parse(JSON.stringify(exp))).map(exp => {\r\n      if('Or' in exp || 'Pick' in exp || 'Set' in exp || 'If' in exp) return exp;\r\n      switch(exp.Kind) {\r\n        case Statistic.Skill:\r\n          switch(exp.Skill) {\r\n            case Skill.Streetwise:\r\n            case Skill.Protocol:\r\n              if(exp.Subskill === '!') {\r\n                exp.Subskill = this.currentAffiliation.Protocol.Subskill;\r\n              }\r\n              return exp;\r\n            case Skill.Language:\r\n              if(exp.Subskill === '!' && !!this.currentLanguage) {\r\n                exp.Subskill = this.currentLanguage.Subskill;\r\n              }\r\n              return exp;\r\n            default:\r\n              return exp;\r\n          }\r\n        default:\r\n          return exp;\r\n      }\r\n    });\r\n    this.ref.detectChanges();  \r\n  }\r\n  get fixedBackgroundExperience(): Experience[] {\r\n    if(this._fixedBkgExp.length === 0 && this.currentBackground) {\r\n      this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n    }\r\n    return this._fixedBkgExp;\r\n  }\r\n\r\n  get currentBackground(): BackgroundInfo | undefined {\r\n    return this.currentBackgroundIndex !== undefined ? this.backgrounds[this.currentBackgroundIndex] : undefined;\r\n  }\r\n\r\n  get subtotal():number {\r\n    return this.currentBackground ? this.currentBackground.Experience.reduce((a, b) => a+('Pick' in b ? b.Pick.Count : 1)*b.Quantity, 0) : 0;\r\n  }\r\n  currentStartingYear!: Eternal;\r\n\r\n  currentBackgroundIndex?: number;\r\n  subscriptions: Subscription[] = [];\r\n  newaffSubs: Subscription[] = [];\r\n  constructor(\r\n    public backgroundServices: BackgroundsService,\r\n    private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n  ngOnInit(): void {\r\n    this.subscriptions.push(this.language.subscribe(lang => {\r\n      this.currentLanguage = lang;\r\n      this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.startingYear.subscribe(year => {\r\n      this.currentStartingYear = year;\r\n      this.affYearChanged.next(this.affYear);\r\n      this.ref.detectChanges();\r\n      this.ref.markForCheck();\r\n    }));\r\n  }\r\n\r\n  private currentLanguage?: Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string };\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscriptions.push(this.exp.choice.subscribe(_ => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.exp.completed.subscribe(() => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.rle.changed.subscribe(() => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.rle.complete.subscribe(_ => {\r\n      this.checkForComplete();\r\n    }));\r\n  }\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions, ...this.newaffSubs].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  hasHideButton: boolean = false;\r\n  visible: boolean = true;\r\n  toggleVisibility(newState: boolean): void {\r\n    this.visible = newState;\r\n  }\r\n\r\n  checkForComplete() {\r\n    this.ref.detectChanges();  \r\n    if (this.isComplete) {\r\n      //this should probaly emit all the completed info\r\n      this.complete.emit(this.experience);\r\n      this.affYearChanged.next(this.affYear);\r\n      this.hasHideButton = true;\r\n    } else {\r\n      this.hasHideButton = false;\r\n      this.changed.emit();\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  currentBackgroundChanged(_: Event) {\r\n    this.backgroundChanged.emit(this.currentBackground);\r\n    this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  changeAffChanged(_: Event) {\r\n    switch(this.changeAffState) {\r\n      case 'off':\r\n        this.changeAffState = 'on';\r\n        break;\r\n      case 'on':\r\n      default:\r\n        this.changeAffState = 'off';\r\n        break;\r\n    }\r\n    this.ref.detectChanges();  \r\n    switch(this.changeAffState) {\r\n      case 'on':\r\n        this.newaffSubs.push(this.newaff.changed.subscribe(_ => {\r\n          this.checkForComplete();\r\n        }));\r\n        this.newaffSubs.push(this.newaff.complete.subscribe(() => {\r\n          this.affiliationChanged.emit(this.newaff.currentAffiliation);\r\n          this.checkForComplete();\r\n        }));\r\n        this.newaffSubs.push(this.newaff.affiliationChanged.subscribe((_) => {\r\n          this.checkForComplete();\r\n        }));\r\n        break;\r\n      case 'off':\r\n      default:\r\n        this.newaffSubs.forEach(sub => sub.unsubscribe());\r\n        break;\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n}\r\n","<div [hidden]=\"hidden\">\r\n    <h1><label for=\"toggleVisibilityStage2\">Stage 2 - Late Childhood</label><input type=\"button\" title=\"toggleVisibilityStage2\" [value]=\"isComplete ? 'hide' : 'show'\" id=\"toggleVisibilityStage2\" name=\"toggleVisibilityStage2\" (click)=\"toggleVisibility(!visible)\" *ngIf=\"hasHideButton\"/></h1>\r\n    <div [hidden]=\"!visible\">\r\n        <p>Select a late childhood background for your character.</p>\r\n        \r\n        <span [class.incomplete]=\"currentBackgroundIndex === undefined\"><form>\r\n            <label for=\"bkg\"><h3>Background</h3></label>\r\n            <select title=\"background\" name=\"background\" id=\"bkg\" [(ngModel)]=\"currentBackgroundIndex\" (change)=\"currentBackgroundChanged($event)\">\r\n                <option hidden disabled selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n                <option *ngFor=\"let bkg of backgrounds\" class=\"opt\" [ngValue]=\"backgrounds.indexOf(bkg)\">{{ bkg.Name }}</option>\r\n            </select>\r\n        </form></span>\r\n\r\n        <div [hidden]=\"!currentBackground\">\r\n            {{ currentBackground?.Citation | citation }}\r\n            <h4>Subtotal: {{subtotal}}</h4>\r\n            <app-exp [values]=\"fixedBackgroundExperience\" #exp />\r\n\r\n            <app-random-life-event #rle\r\n                [stage]=\"2\"/>\r\n        </div>\r\n\r\n        <ng-container *ngIf=\"currentBackground\">\r\n            <h3><label for=\"changeAff\">Change affiliation?</label><input type=\"checkbox\" id=\"changeAff\" name=\"changeAff\" [value]=\"changeAffState\" unchecked #changeAff (change)=\"changeAffChanged($event)\"/></h3>\r\n            <p>This decision is optional.  Characters affiliation change will happen at {{affYear}} if elected to do so.<wbr />  For affiliation change rules {{affChangeCitation|citation}}</p>\r\n            <app-newaff #newaff\r\n                *ngIf=\"changeAffState === 'on'\"\r\n                [excludedAffiliations]=\"exAff\"\r\n                [currentYear]=\"affYear\" />\r\n        </ng-container>\r\n    </div>\r\n</div>","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { AffiliationInfo } from 'src/app/affiliation/affiliation';\r\nimport { Archtype, Book, Citation, EnumMap, Eternal, Experience, Requirement, Skill, Statistic } from 'src/app/utils/common';\r\nimport { ExpComponent } from 'src/app/utils/exp/exp.component';\r\nimport { NewaffComponent } from '../newaff/newaff.component';\r\nimport { RandomLifeEventComponent } from '../random-life-event/random-life-event.component';\r\nimport { EducationInfo, EducationService } from 'src/app/education/education.service';\r\nimport { Observable, ReplaySubject, Subscription } from 'rxjs';\r\nimport { EducationType } from 'src/app/education/education';\r\nimport { SkillField } from 'src/app/education/field';\r\n\r\n@Component({\r\n  selector: 'app-stage3',\r\n  templateUrl: './stage3.component.html',\r\n  styleUrls: ['./stage3.component.scss']\r\n})\r\nexport class Stage3Component implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input({ required: true }) startingYear!: Observable<Eternal>;\r\n  @Input({ required: true }) endingYear!: Observable<Eternal>;\r\n  @Input({ required: true }) archtype!: Archtype | undefined;\r\n  @Input({ required: true }) affiliation!: AffiliationInfo;\r\n  @Input({ required: true }) language!: Observable<Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string }>\r\n\r\n  @Output() backgroundChanged = new EventEmitter<EducationInfo>();\r\n  @Output() complete = new EventEmitter<Experience[]>();\r\n  @Output() changed = new EventEmitter<never>();\r\n  @Output() affiliationChanged = new EventEmitter<AffiliationInfo>();\r\n  @Output() affYearChanged = new ReplaySubject<Eternal>();\r\n\r\n  @ViewChild('exp') exp!: ExpComponent;\r\n  @ViewChild('firstFieldExp') firstFieldExp!: ExpComponent;\r\n  @ViewChild('secondFieldExp') secondFieldExp!: ExpComponent;\r\n  @ViewChild('lastFieldExp') lastFieldExp!: ExpComponent;\r\n  @ViewChild('basic') basic!: ElementRef<HTMLSelectElement>;\r\n  @ViewChild('nextEdu') nextEdu!: ElementRef<HTMLSelectElement>;\r\n  @ViewChild('lastEdu') lastEdu!: ElementRef<HTMLSelectElement>;\r\n\r\n  @ViewChild('changeAff') changeAff!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('newaff') newaff!: NewaffComponent;\r\n  @ViewChild('rle') rle!: RandomLifeEventComponent;\r\n\r\n  Basic = EducationType.Basic;\r\n  Advanced = EducationType.Advanced;\r\n  Special = EducationType.Special;\r\n\r\n  get EducationFields(): { [value in EducationType]: SkillField[] }  {\r\n    return {\r\n      [EducationType.Basic]: this.currentBackground?.[EducationType.Basic]?.Options ?? [],\r\n      [EducationType.Advanced]: this.currentBackground?.[EducationType.Advanced]?.Options ?? [],\r\n      [EducationType.Special]: this.currentBackground?.[EducationType.Special]?.Options ?? []\r\n    }\r\n  }\r\n\r\n  get affYear(): Eternal {\r\n    return [\r\n      EducationType.Basic, \r\n      ...(this.nextEdu ? [EducationType[this.nextEdu.nativeElement.value as keyof typeof EducationType]] : []),\r\n      ...(this.lastEdu ? [EducationType[this.lastEdu.nativeElement.value as keyof typeof EducationType]] : []) \r\n    ].reduce((sofar, current) => (sofar + (this.currentBackground?.[current as EducationType]?.Duration ?? 0)),this.currentStartingYear as number) as Eternal;\r\n  }\r\n\r\n\r\n  EduCitation: Citation = {\r\n    Book: Book.ATimeOfWar,\r\n    Page: 70\r\n  }\r\n\r\n  affChangeCitation: Citation = {\r\n    Book: Book.ATimeOfWar,\r\n    Page: 53\r\n  }\r\n\r\n  Stage = 3;\r\n  get isComplete(): boolean {\r\n    const check = this.exp?.isComplete && this.rle?.isComplete && this.firstFieldExp?.isComplete && (this.nextEdu?.nativeElement.value !== 'Complete' ? this.secondFieldExp.isComplete : true);\r\n    if(this.changeAffState === 'off') return check;\r\n    return (this.newaff?.isComplete ?? false) && check;\r\n  }\r\n\r\n  get exAff() : AffiliationInfo[] {\r\n    return this.affiliation ? [this.affiliation] : [];\r\n  }\r\n\r\n  get experience(): Experience[] {\r\n    return [...this.exp.experience, ...(this.firstFieldExp?.experience ?? []), ...(this.secondFieldExp?.experience ?? []), ...this.rle.experience];\r\n  }\r\n\r\n  get Requirments(): Requirement[] {\r\n    return [...(this.currentBackground?.Prereq ? [this.currentBackground.Prereq, ...(EnumMap(EducationType)\r\n      .filter((edu: EducationType) => this.educationIndex[edu] !== undefined)\r\n      .map((edu: EducationType) => { return { index: this.educationIndex[edu]!, edu: edu }})\r\n      .map(value => this.currentBackground![value.edu]?.Options[value.index].Prereq)\r\n      .filter(req => !!req).map<Requirement>(req => req!))] : [])];\r\n  }\r\n\r\n  get currentBackground(): EducationInfo | undefined {\r\n    return this.currentBackgroundIndex !== undefined ? this.backgrounds[this.currentBackgroundIndex] : undefined;\r\n  }\r\n\r\n  get currentAffiliation(): AffiliationInfo {\r\n    return this.newaff?.currentAffiliation ?? this.affiliation;\r\n  }\r\n\r\n  private FixExp(exp: Experience): Experience {\r\n    if('Or' in exp || 'Pick' in exp || 'Set' in exp || 'If' in exp) return exp;\r\n    switch(exp.Kind) {\r\n      case Statistic.Skill:\r\n        switch(exp.Skill) {\r\n          case Skill.Streetwise:\r\n          case Skill.Protocol:\r\n            if(exp.Subskill === '!') {\r\n              exp.Subskill = this.currentAffiliation.Protocol.Subskill;\r\n            }\r\n            return exp;\r\n          case Skill.Language:\r\n            if(exp.Subskill === '!' && !!this.currentLanguage) {\r\n              exp.Subskill = this.currentLanguage.Subskill;\r\n            }\r\n            return exp;\r\n          default:\r\n            return exp;\r\n        }\r\n      default:\r\n        return exp;\r\n    }\r\n  }\r\n\r\n  private _fixedBkgExp: Experience[] = [];\r\n  set fixedBackgroundExperience(values: Experience[]) {\r\n    this.ref.markForCheck();  \r\n    this._fixedBkgExp = values.map(exp => JSON.parse(JSON.stringify(exp))).map<Experience>(exp => this.FixExp(exp));\r\n    this.ref.detectChanges();  \r\n  }\r\n  get fixedBackgroundExperience(): Experience[] {\r\n    if(this._fixedBkgExp.length === 0 && this.currentBackground) {\r\n      this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n    }\r\n    return this._fixedBkgExp;\r\n  }\r\n\r\n  private _fixedBasicExp: Experience[] = [];\r\n  set fixedBasicExperience(values: Experience[]) {\r\n    this.ref.markForCheck();  \r\n    this._fixedBasicExp = values.map(exp => JSON.parse(JSON.stringify(exp))).map<Experience>(exp => this.FixExp(exp));\r\n    this.ref.detectChanges();  \r\n  }\r\n  get fixedBasicExperience(): Experience[] {\r\n    if(this._fixedBasicExp.length === 0 \r\n      && this.currentBackground \r\n      && EducationType.Basic in this.currentBackground \r\n      && this.currentBackground[EducationType.Basic] \r\n      && this.currentBackground[EducationType.Basic].Options\r\n      && this.educationIndex[EducationType.Basic] !== undefined\r\n      && this.educationIndex[EducationType.Basic] >= 0) {\r\n      this.fixedBasicExperience = this.currentBackground[EducationType.Basic].Options[this.educationIndex[EducationType.Basic]].Skills.map(skill => { return <Experience>{ ...skill, Quantity: 30 }}) ?? [];\r\n    }\r\n    return this._fixedBasicExp;\r\n  }\r\n\r\n  private _fixedAdvExp: Experience[] = [];\r\n  set fixedAdvExperience(values: Experience[]) {\r\n    this.ref.markForCheck();  \r\n    this._fixedAdvExp = values.map(exp => JSON.parse(JSON.stringify(exp))).map<Experience>(exp => this.FixExp(exp));\r\n    this.ref.detectChanges();  \r\n  }\r\n  get fixedAdvExperience(): Experience[] {\r\n    const eduType: EducationType = EducationType[this.nextEdu.nativeElement.value as keyof typeof EducationType]\r\n    if(this._fixedAdvExp.length === 0 \r\n      && this.currentBackground \r\n      && eduType in this.currentBackground \r\n      && this.currentBackground[eduType] !== undefined\r\n      && this.currentBackground[eduType]!.Options\r\n      && this.educationIndex[EducationType.Advanced] !== undefined\r\n      && this.educationIndex[EducationType.Advanced]! >= 0\r\n      ) {\r\n      this.fixedAdvExperience = this.currentBackground[eduType]!.Options[this.educationIndex[EducationType.Advanced]].Skills.map(skill => { return <Experience>{ ...skill, Quantity: 30 }}) ?? [];\r\n    }\r\n    return this._fixedAdvExp;\r\n  }\r\n\r\n  private _fixedSpecExp: Experience[] = [];\r\n  set fixedSpecExperience(values: Experience[]) {\r\n    this.ref.markForCheck();  \r\n    this._fixedSpecExp = values.map(exp => JSON.parse(JSON.stringify(exp))).map<Experience>(exp => this.FixExp(exp));\r\n    this.ref.detectChanges();  \r\n  }\r\n  get fixedSpecExperience(): Experience[] {\r\n    const eduType: EducationType = EducationType[this.lastEdu.nativeElement.value as keyof typeof EducationType]\r\n    if(this._fixedSpecExp.length === 0 \r\n      && this.currentBackground \r\n      && eduType in this.currentBackground \r\n      && this.currentBackground[eduType] !== undefined\r\n      && this.currentBackground[eduType]!.Options\r\n      && this.educationIndex[EducationType.Special] !== undefined\r\n      && this.educationIndex[EducationType.Special]! >= 0\r\n      ) {\r\n      this.fixedSpecExperience = this.currentBackground[eduType]!.Options[this.educationIndex[EducationType.Special]].Skills.map(skill => { return <Experience>{ ...skill, Quantity: 30 }}) ?? [];\r\n    }\r\n    return this._fixedSpecExp;\r\n  }\r\n\r\n  private _cache: { [year:number]: EducationInfo[] } = {};\r\n  get backgrounds(): EducationInfo[] {\r\n    if(isNaN(this.currentStartingYear)) return [];\r\n    if(this.currentStartingYear === undefined) return [];\r\n    if(this.currentStartingYear in this._cache) \r\n      return this._cache[this.currentStartingYear];\r\n    else {\r\n      return (this._cache[this.currentStartingYear] = this.educationService.At(this.currentStartingYear));\r\n    }\r\n  }\r\n\r\n  currentBackgroundIndex?: number;\r\n  subscriptions: Subscription[] = [];\r\n  newaffSubs: Subscription[] = [];\r\n\r\n  educationIndex: { [values in EducationType]?: number } = {}\r\n\r\n  private currentLanguage?: Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string };\r\n  changeAffState = 'off';\r\n\r\n  get subtotal():number {\r\n    return this.currentBackground ? this.currentBackground.Experience.reduce((a, b) => a+('Pick' in b ? b.Pick.Count : 1)*b.Quantity, 0) : 0;\r\n  }\r\n\r\n  get EducationLevels(): EducationType[] {\r\n    if(!this.currentBackground) return [];\r\n    return EnumMap(EducationType).filter(edu => edu in this.currentBackground!);\r\n  }\r\n\r\n  constructor(\r\n    public educationService: EducationService,\r\n    private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.subscriptions.push(this.language.subscribe(lang => {\r\n      this.currentLanguage = lang;\r\n      this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.endingYear.subscribe(year => {\r\n      this.currentEndingYear = year;\r\n      this.affYearChanged.next(this.affYear);\r\n      this.ref.detectChanges();\r\n      this.ref.markForCheck();\r\n    }));\r\n    this.subscriptions.push(this.startingYear.subscribe(year => {\r\n      this.currentStartingYear = year;\r\n      this.affYearChanged.next(this.affYear);\r\n      this.ref.detectChanges();\r\n      this.ref.markForCheck();\r\n    }));\r\n  }\r\n\r\n  currentEndingYear!: Eternal;\r\n  currentStartingYear!: Eternal;\r\n  ngAfterViewInit(): void {\r\n\r\n    this.subscriptions.push(this.exp.choice.subscribe(_ => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.exp.completed.subscribe(() => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.rle.changed.subscribe(() => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.rle.complete.subscribe(_ => {\r\n      this.checkForComplete();\r\n    }));\r\n  }\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions, ...this.newaffSubs].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  hasHideButton: boolean = false;\r\n  visible: boolean = true;\r\n  toggleVisibility(newState: boolean): void {\r\n    this.visible = newState;\r\n  }\r\n\r\n  checkForComplete() {\r\n    this.ref.detectChanges();  \r\n    if (this.isComplete) {\r\n      //this should probaly emit all the completed info\r\n      this.complete.emit(this.experience);\r\n      this.affYearChanged.next(this.affYear);\r\n      this.hasHideButton = true;\r\n    } else {\r\n      this.hasHideButton = false;\r\n      this.changed.emit();\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  currentBackgroundChanged(_: Event) {\r\n    this.backgroundChanged.emit(this.currentBackground);\r\n    this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n    \r\n    [this.lastEdu, this.nextEdu, this.basic].filter(edu => edu).forEach(edu => edu.nativeElement.selectedIndex === 0);\r\n    this.update(EducationType.Basic);\r\n  }\r\n\r\n  EduChanged(_:Event, selected: string, level: EducationType) {\r\n    const eduType: EducationType = EducationType[selected as keyof typeof EducationType]\r\n\r\n    this.backgroundChanged.emit(this.currentBackground);\r\n    const newexp =  this.currentBackground![eduType]!.Options[this.educationIndex[level]!].Skills.map(skill => { return <Experience>{ ...skill, Quantity: 30 }});\r\n    switch(level) {\r\n      case EducationType.Basic:\r\n        this.fixedBasicExperience = newexp;\r\n        break;\r\n      case EducationType.Advanced:\r\n        this.fixedAdvExperience = newexp;\r\n        break;\r\n      case EducationType.Special:\r\n        this.fixedSpecExperience = newexp;\r\n        break\r\n    }\r\n\r\n    this.checkForComplete(); \r\n  }\r\n\r\n  changeAffChanged(_: Event) {\r\n    switch(this.changeAffState) {\r\n      case 'off':\r\n        this.changeAffState = 'on';\r\n        break;\r\n      case 'on':\r\n      default:\r\n        this.changeAffState = 'off';\r\n        break;\r\n    }\r\n    this.ref.detectChanges();  \r\n    switch(this.changeAffState) {\r\n      case 'on':\r\n        this.newaffSubs.push(this.newaff.changed.subscribe(_ => {\r\n          this.checkForComplete();\r\n        }));\r\n        this.newaffSubs.push(this.newaff.complete.subscribe(() => {\r\n          this.affiliationChanged.emit(this.newaff.currentAffiliation);\r\n          this.checkForComplete();\r\n        }));\r\n        this.newaffSubs.push(this.newaff.affiliationChanged.subscribe((_) => {\r\n          this.checkForComplete();\r\n        }));\r\n        break;\r\n      case 'off':\r\n      default:\r\n        this.newaffSubs.forEach(sub => sub.unsubscribe());\r\n        break;\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  eduLvl(lvl: number | EducationType) : string {\r\n    return EducationType[lvl].toString();\r\n  }\r\n\r\n  asEduLvl(lvl: number ) : EducationType {\r\n    return lvl;\r\n  }\r\n\r\n  excludeEduOpt(fields: SkillField[], toExclude: SkillField): SkillField[] {\r\n    return fields.filter(field => field.Name !== toExclude?.Name ?? '');\r\n  }\r\n\r\n  update(host: EducationType){\r\n    const spec = () => {\r\n      this.educationIndex[EducationType.Special] = undefined;\r\n      this.fixedSpecExperience = [];\r\n    }\r\n    const adv = () => {\r\n      this.educationIndex[EducationType.Advanced] = undefined;\r\n      this.fixedAdvExperience = [];\r\n      spec();\r\n    }\r\n    const basic = () => {\r\n      this.educationIndex[EducationType.Basic] = undefined;\r\n      this.fixedBasicExperience = [];\r\n      adv();\r\n    }\r\n    this.ref.markForCheck();\r\n    switch(host) {\r\n      case EducationType.Special:\r\n        spec();\r\n        break;\r\n      case EducationType.Advanced:\r\n        adv();\r\n        break;\r\n      case EducationType.Basic:\r\n        basic();\r\n        break;\r\n    }\r\n    this.ref.detectChanges();  \r\n  }\r\n}\r\n","<h1><label for=\"toggleVisibilityStage3\">Stage 3 - Higher Education</label><input type=\"button\"\r\n        title=\"toggleVisibilityStage3\" [value]=\"isComplete ? 'hide' : 'show'\" id=\"toggleVisibilityStage3\"\r\n        name=\"toggleVisibilityStage3\" (click)=\"toggleVisibility(!visible)\" *ngIf=\"hasHideButton\" /></h1>\r\n<div [hidden]=\"!visible\">\r\n    <p>Select an education background for your character.</p>\r\n\r\n    <span [class.incomplete]=\"currentBackgroundIndex === undefined\">\r\n        <form>\r\n            <label for=\"bkg\">\r\n                <h3>Background</h3>\r\n            </label>\r\n            <select title=\"background\" name=\"background\" id=\"bkg\" [(ngModel)]=\"currentBackgroundIndex\"\r\n                (change)=\"currentBackgroundChanged($event)\">\r\n                <option hidden selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n                <option *ngFor=\"let bkg of backgrounds\" class=\"opt\" [ngValue]=\"backgrounds.indexOf(bkg)\"\r\n                    [disabled]=\"(currentStartingYear + bkg[Basic]!.Duration) > currentEndingYear\">{{ bkg.Name }}\r\n                </option>\r\n            </select>\r\n        </form>\r\n    </span>\r\n\r\n    <div [hidden]=\"!currentBackground\">\r\n        {{ currentBackground ? (currentBackground.Citation | citation) : '' }}\r\n\r\n        <h4>Subtotal: {{subtotal}}</h4>\r\n        <app-exp [values]=\"fixedBackgroundExperience\" #exp />\r\n        <p>Now select the fields for each level of education. For rules {{ EduCitation | citation }}</p>\r\n    </div>\r\n    <div *ngIf=\"currentBackground\">\r\n        <div [class.incomplete]=\"basic.selectedIndex === 0\">\r\n            <label for=\"lvl-1\">\r\n                <h3>{{eduLvl(Basic)}}</h3>\r\n            </label>\r\n            <select #basic [title]=\"eduLvl(Basic)+'-1'\" [name]=\"eduLvl(Basic)+'-1'\" id=\"lvl-1\"\r\n                [(ngModel)]=\"educationIndex[Basic]\" (change)=\"EduChanged($event, eduLvl(Basic), Basic)\">\r\n                <option hidden selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n                <option *ngFor=\"let edu of EducationFields[Basic]\" class=\"opt\"\r\n                    [ngValue]=\"EducationFields[Basic].indexOf(edu)\">{{ edu.Name }}</option>\r\n            </select>\r\n        </div>\r\n        <p>This will take {{currentBackground[Basic]?.Duration}} year{{currentBackground[Basic]?.Duration! > 1 ? 's' :\r\n            ''}} to complete.</p>\r\n        <h4>Subtotal: {{fixedBasicExperience.length * 30}}</h4>\r\n        <app-exp [values]=\"fixedBasicExperience\" #firstFieldExp />\r\n        <div [hidden]=\"!firstFieldExp.isComplete || educationIndex[Basic] === undefined\">\r\n            <p>The next field can be either <b>{{eduLvl(Basic)}}</b> or <b>{{eduLvl(Advanced)}}</b><wbr />, or you can finish by selecting\r\n                <b>Complete</b>.\r\n            </p>\r\n            <span [class.incomplete]=\"nextEdu.selectedIndex === 0\">\r\n                <select title=\"nextEdu\" name=\"nextEdu\" id=\"nextEdu\" #nextEdu (change)=\"update(Advanced)\">\r\n                    <option hidden selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n                    <option *ngFor=\"let next of [Basic, Advanced]\" class=\"opt\" [ngValue]=\"eduLvl(next)\"\r\n                        [disabled]=\"(currentStartingYear + currentBackground[Basic]!.Duration + currentBackground[next]!.Duration) > currentEndingYear\">\r\n                        {{eduLvl(next)}}</option>\r\n                    <option [ngValue]=\"'Complete'\">Complete</option>\r\n                </select>\r\n            </span>\r\n\r\n            <!-- Here is where a user can select a second field -->\r\n            <ng-container *ngIf=\"nextEdu.value === eduLvl(Basic); else ifAdv\">\r\n                <div [class.incomplete]=\"adv1.selectedIndex === 0\">\r\n                    <select #adv1 title=\"Basic-2\" [name]=\"eduLvl(Basic)+'-2'\" id=\"lvl-basic-2\"\r\n                        [(ngModel)]=\"educationIndex[Advanced]\"\r\n                        (change)=\"EduChanged($event, nextEdu.value, Advanced)\">\r\n                        <option hidden selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n                        <option\r\n                            *ngFor=\"let edu of excludeEduOpt(EducationFields[Basic], currentBackground[Basic]!.Options[educationIndex[Basic]!])\"\r\n                            class=\"opt\" [ngValue]=\"EducationFields[Basic].indexOf(edu)\">{{ edu.Name }}</option>\r\n                    </select>\r\n                </div>\r\n                <p>This will take {{currentBackground[Basic]?.Duration}} year{{currentBackground[Basic]?.Duration! > 1 ?\r\n                    's' : ''}} to complete.</p>\r\n                <h4>Subtotal: {{fixedAdvExperience.length * 30}}</h4>\r\n                <app-exp [values]=\"fixedAdvExperience\" #secondFieldExp />\r\n\r\n                <!-- Here is where a user can select their final advanced field -->\r\n                <ng-container *ngIf=\"secondFieldExp.isComplete && adv1.selectedIndex !== 0\">\r\n                    <p>The the last field must be <b>{{eduLvl(Advanced)}}</b><wbr />, or you can finish by selecting\r\n                        <b>Complete</b>.\r\n                    </p>\r\n                    <span [class.incomplete]=\"lastEdu.selectedIndex === 0\">\r\n                        <select title=\"lastEdu-1\" name=\"lastEdu-1\" id=\"lastEdu-1\" #lastEdu (change)=\"update(Special)\">\r\n                            <option hidden selected value [ngValue]=\"undefined\"> -- select an option --\r\n                            </option>\r\n                            <option *ngFor=\"let next of [Advanced]\" class=\"opt\" [ngValue]=\"eduLvl(next)\"\r\n                                [disabled]=\"(currentStartingYear + currentBackground[Basic]!.Duration + currentBackground[next]!.Duration) > currentEndingYear\">\r\n                                {{eduLvl(next)}}</option>\r\n                            <option [ngValue]=\"'Complete'\">Complete</option>\r\n                        </select>\r\n                    </span>\r\n\r\n                    <ng-container *ngIf=\"lastEdu.value === eduLvl(Advanced)\">\r\n                        <div [class.incomplete]=\"last1.selectedIndex === 0\">\r\n                            <select #last1 title=\"Last-Adv-3\" [name]=\"eduLvl(Advanced)+'-3'\" id=\"Last-lvl-3\"\r\n                                [(ngModel)]=\"educationIndex[Special]\"\r\n                                (change)=\"EduChanged($event, lastEdu.value, Special)\">\r\n                                <option hidden selected value [ngValue]=\"undefined\"> -- select an option --\r\n                                </option>\r\n                                <option *ngFor=\"let edu of EducationFields[Advanced]\" class=\"opt\"\r\n                                    [ngValue]=\"EducationFields[Advanced].indexOf(edu)\">{{ edu.Name }}\r\n                                </option>\r\n                            </select>\r\n                        </div>\r\n                        <p>This will take {{currentBackground[Advanced]?.Duration}}\r\n                            year{{currentBackground[Advanced]?.Duration! > 1 ? 's' : ''}} to complete.</p>\r\n                        <h4>Subtotal: {{fixedSpecExperience.length * 30}}</h4>\r\n                        <app-exp [values]=\"fixedSpecExperience\" #lastFieldExp />\r\n                    </ng-container>\r\n                </ng-container>\r\n            </ng-container>\r\n\r\n            <!-- Here is where a user can select a second field -->\r\n            <ng-template #ifAdv>\r\n                <ng-container *ngIf=\"nextEdu.value === eduLvl(Advanced)\">\r\n                    <div [class.incomplete]=\"adv2.selectedIndex === 0\">\r\n                        <select #adv2 title=\"Advanced-2\" [name]=\"eduLvl(Advanced)+'-2'\" id=\"lvl-adv-2\"\r\n                            [(ngModel)]=\"educationIndex[asEduLvl(Advanced)]\"\r\n                            (change)=\"EduChanged($event, nextEdu.value, Advanced)\">\r\n                            <option hidden selected value [ngValue]=\"undefined\"> -- select an option --\r\n                            </option>\r\n                            <option *ngFor=\"let edu of EducationFields[Advanced]\" class=\"opt\"\r\n                                [ngValue]=\"EducationFields[Advanced].indexOf(edu)\">{{ edu.Name }}</option>\r\n                        </select>\r\n                    </div>\r\n                    <p>This will take {{currentBackground[Advanced]?.Duration}}\r\n                        year{{currentBackground[Advanced]?.Duration! > 1 ? 's' : ''}} to complete.</p>\r\n                    <h4>Subtotal: {{fixedAdvExperience.length * 30}}</h4>\r\n                    <app-exp [values]=\"fixedAdvExperience\" #secondFieldExp />\r\n\r\n                    <!-- Here is where a user can select their final advanced field -->\r\n                    <ng-container *ngIf=\"secondFieldExp.isComplete  && adv2.selectedIndex !== 0\">\r\n                        <ng-container *ngIf=\"currentBackground[Special]; else elseBlock\">\r\n                            <p>The last field can be either <b>{{eduLvl(Basic)}}</b> or <b>{{eduLvl(Special)}}</b><wbr />, or you can finish by selecting\r\n                                <b>Complete</b>.\r\n                            </p>\r\n                        </ng-container>\r\n                        <ng-template #elseBlock>\r\n                            <p>The the last field must be <b>{{eduLvl(Basic)}}</b><wbr />, or you can finish by selecting\r\n                                <b>Complete</b>.\r\n                            </p>\r\n                        </ng-template>\r\n                        <select title=\"lastEdu-2\" name=\"lastEdu-2\" id=\"lastEdu-2\" #lastEdu (change)=\"update(Special)\">\r\n                            <option hidden selected value [ngValue]=\"undefined\"> -- select an option --\r\n                            </option>\r\n                            <option *ngFor=\"let next of (currentBackground[Special] ? [Basic, Special] : [Basic])\"\r\n                                class=\"opt\" [ngValue]=\"eduLvl(next)\"\r\n                                [disabled]=\"(currentStartingYear + currentBackground[Basic]!.Duration + currentBackground[next]!.Duration) > currentEndingYear\">\r\n                                {{eduLvl(next)}}</option>\r\n                            <option [ngValue]=\"'Complete'\">Complete</option>\r\n                        </select>\r\n\r\n                        <ng-container *ngIf=\"lastEdu.value === eduLvl(Basic)\">\r\n                            <div [class.incomplete]=\"last1.selectedIndex === 0\">\r\n                                <select #last1 title=\"basic-3\" [name]=\"eduLvl(Basic)+'-3'\" id=\"lvl-3-basic\"\r\n                                    [(ngModel)]=\"educationIndex[asEduLvl(Special)]\"\r\n                                    (change)=\"EduChanged($event, lastEdu.value, Special)\">\r\n                                    <option hidden selected value [ngValue]=\"undefined\"> -- select an option --\r\n                                    </option>\r\n                                    <option\r\n                                        *ngFor=\"let edu of excludeEduOpt(EducationFields[Basic], currentBackground[Basic]!.Options[educationIndex[Basic]!])\"\r\n                                        class=\"opt\" [ngValue]=\"EducationFields[Basic].indexOf(edu)\">{{ edu.Name }}\r\n                                    </option>\r\n                                </select>\r\n                            </div>\r\n                            <p>This will take {{currentBackground[Basic]?.Duration}}\r\n                                year{{currentBackground[Basic]?.Duration! > 1 ? 's' : ''}} to complete.</p>\r\n                            <h4>Subtotal: {{fixedSpecExperience.length * 30}}</h4>\r\n                            <app-exp [values]=\"fixedSpecExperience\" #lastFieldExp />\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"lastEdu.value === eduLvl(Special)\">\r\n                            <div [class.incomplete]=\"last1.selectedIndex === 0\">\r\n                                <select #last1 title=\"spec-3\" [name]=\"eduLvl(Special)+'-3'\" id=\"lvl-3\"\r\n                                    [(ngModel)]=\"educationIndex[asEduLvl(Special)]\"\r\n                                    (change)=\"EduChanged($event, lastEdu.value, Special)\">\r\n                                    <option hidden selected value [ngValue]=\"undefined\"> -- select an option --\r\n                                    </option>\r\n                                    <option *ngFor=\"let edu of EducationFields[Special]\" class=\"opt\"\r\n                                        [ngValue]=\"EducationFields[Special].indexOf(edu)\">{{ edu.Name }}\r\n                                    </option>\r\n                                </select>\r\n                            </div>\r\n                            <p>This will take {{currentBackground[Special]?.Duration}}\r\n                                year{{currentBackground[Special]?.Duration! > 1 ? 's' : ''}} to complete.</p>\r\n                            <h4>Subtotal: {{fixedSpecExperience.length * 30}}</h4>\r\n                            <app-exp [values]=\"fixedSpecExperience\" #lastFieldExp />\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </ng-container>\r\n\r\n            </ng-template>\r\n        </div>\r\n    </div>\r\n\r\n    <div [hidden]=\"!currentBackground\">\r\n        <app-random-life-event #rle [stage]=\"3\" />\r\n    </div>\r\n\r\n    <ng-container *ngIf=\"currentBackground\">\r\n        <h3><label for=\"changeAff\">Change affiliation?</label><input type=\"checkbox\" id=\"changeAff\" name=\"changeAff\"\r\n                [value]=\"changeAffState\" unchecked #changeAff (change)=\"changeAffChanged($event)\" /></h3>\r\n        <p>This decision is optional. Characters affiliation change will happen at {{affYear}} if elected to do so.<wbr />  For affiliation change rules {{affChangeCitation|citation}}\r\n        </p>\r\n        <app-newaff #newaff *ngIf=\"changeAffState === 'on'\" [excludedAffiliations]=\"exAff\" [currentYear]=\"affYear\" />\r\n    </ng-container>\r\n</div>","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { AffiliationInfo } from 'src/app/affiliation/affiliation';\r\nimport { BackgroundInfo } from 'src/app/background/background';\r\nimport { Archtype, Book, Citation, Eternal, Experience, Requirement, Skill, Statistic } from 'src/app/utils/common';\r\nimport { ExpComponent } from 'src/app/utils/exp/exp.component';\r\nimport { NewaffComponent } from '../newaff/newaff.component';\r\nimport { RandomLifeEventComponent } from '../random-life-event/random-life-event.component';\r\nimport { Observable, ReplaySubject, Subscription } from 'rxjs';\r\nimport { BackgroundsService } from 'src/app/background/backgrounds.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-stage4',\r\n  templateUrl: './stage4.component.html',\r\n  styleUrls: ['./stage4.component.scss']\r\n})\r\nexport class Stage4Component implements OnInit, AfterViewInit, OnDestroy{\r\n  @Input({ required: true }) startingYear!: Observable<Eternal>;\r\n  @Input({ required: true }) endingYear!: Observable<Eternal>;\r\n  @Input({ required: true }) archtype!: Archtype | undefined;\r\n  @Input({ required: true }) affiliation!: AffiliationInfo;\r\n  @Input({ required: true }) language!: Observable<Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string }>\r\n\r\n  @Output() backgroundChanged = new EventEmitter<BackgroundInfo>();\r\n  @Output() complete = new EventEmitter<Experience[]>();\r\n  @Output() changed = new EventEmitter<never>();\r\n  @Output() affiliationChanged = new EventEmitter<AffiliationInfo>();\r\n  @Output() affYearChanged = new ReplaySubject<Eternal>();\r\n\r\n  @ViewChild('exp') exp!: ExpComponent;\r\n  @ViewChild('changeAff') changeAff!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('newaff') newaff!: NewaffComponent;\r\n  @ViewChild('rle') rle!: RandomLifeEventComponent;\r\n\r\n  changeAffState = 'off';\r\n  get isComplete(): boolean {\r\n    const check = this.exp.isComplete && this.rle.isComplete;\r\n    if(this.changeAffState === 'off') return check;\r\n    return (this.newaff?.isComplete ?? false) && check;\r\n  }\r\n\r\n  affChangeCitation: Citation = {\r\n    Book: Book.ATimeOfWar,\r\n    Page: 53\r\n  }\r\n  \r\n  get exAff() : AffiliationInfo[] {\r\n    return this.affiliation ? [this.affiliation] : [];\r\n  }\r\n  \r\n  get affYear() {\r\n    return (this.currentStartingYear + (this.currentBackground?.Duration ?? 0)) as Eternal ;\r\n  }\r\n\r\n\r\n  get experience(): Experience[] {\r\n    return [...this.exp.experience, ...this.rle.experience];\r\n  }\r\n\r\n  get Requirments(): Requirement[] {\r\n    return [];\r\n  }\r\n\r\n  currentBackgroundIndex?: number;\r\n  get currentBackground(): BackgroundInfo | undefined {\r\n    return this.currentBackgroundIndex !== undefined ? this.backgrounds[this.currentBackgroundIndex] : undefined;\r\n  }\r\n\r\n  private _cache: { [year:number]: BackgroundInfo[] } = {};\r\n  get backgrounds(): BackgroundInfo[] {\r\n    if(isNaN(this.currentStartingYear)) return [];\r\n    if(this.currentStartingYear === undefined) return [];\r\n    if(this.currentStartingYear in this._cache) \r\n      return this._cache[this.currentStartingYear];\r\n    else {\r\n      return (this._cache[this.currentStartingYear] = this.backgroundService.At(this.currentStartingYear, 4));\r\n    }\r\n  }\r\n\r\n  get currentAffiliation(): AffiliationInfo {\r\n    return this.newaff?.currentAffiliation ?? this.affiliation;\r\n  }\r\n  private currentLanguage?: Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string };\r\n\r\n  private FixExp(exp: Experience): Experience {\r\n    if('Or' in exp || 'Pick' in exp || 'Set' in exp || 'If' in exp) return exp;\r\n    switch(exp.Kind) {\r\n      case Statistic.Skill:\r\n        switch(exp.Skill) {\r\n          case Skill.Streetwise:\r\n          case Skill.Protocol:\r\n            if(exp.Subskill === '!') {\r\n              exp.Subskill = this.currentAffiliation.Protocol.Subskill;\r\n            }\r\n            return exp;\r\n          case Skill.Language:\r\n            if(exp.Subskill === '!' && !!this.currentLanguage) {\r\n              exp.Subskill = this.currentLanguage.Subskill;\r\n            }\r\n            return exp;\r\n          default:\r\n            return exp;\r\n        }\r\n      default:\r\n        return exp;\r\n    }\r\n  }\r\n\r\n  get subtotal():number {\r\n    return this.currentBackground ? this.currentBackground.Experience.reduce((a, b) => a+('Pick' in b ? b.Pick.Count : 1)*b.Quantity, 0) : 0;\r\n  }\r\n\r\n\r\n  private _fixedBkgExp: Experience[] = [];\r\n  set fixedBackgroundExperience(values: Experience[]) {\r\n    this.ref.markForCheck();  \r\n    this._fixedBkgExp = values.map(exp => JSON.parse(JSON.stringify(exp))).map<Experience>(exp => this.FixExp(exp));\r\n    this.ref.detectChanges();  \r\n  }\r\n  get fixedBackgroundExperience(): Experience[] {\r\n    if(this._fixedBkgExp.length === 0 && this.currentBackground) {\r\n      this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n    }\r\n    return this._fixedBkgExp;\r\n  }\r\n\r\n  subscriptions: Subscription[] = [];\r\n  newaffSubs: Subscription[] = [];\r\n\r\n  hasHideButton: boolean = false;\r\n  visible: boolean = true;\r\n\r\n  currentEndingYear!: Eternal;\r\n  currentStartingYear!: Eternal;\r\n\r\n  constructor(\r\n    public backgroundService: BackgroundsService,\r\n    private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  toggleVisibility(newState: boolean): void {\r\n    this.visible = newState;\r\n  }\r\n\r\n  currentBackgroundChanged(_: Event) {\r\n    this.backgroundChanged.emit(this.currentBackground);\r\n    this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n\r\n    this.checkForComplete();\r\n\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  checkForComplete() {\r\n    this.ref.detectChanges();  \r\n    if (this.isComplete) {\r\n      //this should probaly emit all the completed info\r\n      this.complete.emit(this.experience);\r\n      this.affYearChanged.next(this.affYear);\r\n      this.hasHideButton = true;\r\n    } else {\r\n      this.hasHideButton = false;\r\n      this.changed.emit();\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.subscriptions.push(this.language.subscribe(lang => {\r\n      this.currentLanguage = lang;\r\n      this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.endingYear.subscribe(year => {\r\n      this.currentEndingYear = year;\r\n      this.affYearChanged.next(this.affYear);\r\n      this.ref.detectChanges();\r\n      this.ref.markForCheck();\r\n    }));\r\n    this.subscriptions.push(this.startingYear.subscribe(year => {\r\n      this.currentStartingYear = year;\r\n      this.affYearChanged.next(this.affYear);\r\n      this.ref.detectChanges();\r\n      this.ref.markForCheck();\r\n    }));\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscriptions.push(this.exp.choice.subscribe(_ => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.exp.completed.subscribe(() => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.rle.changed.subscribe(() => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.rle.complete.subscribe(_ => {\r\n      this.checkForComplete();\r\n    }));\r\n  }\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions, ...this.newaffSubs].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  changeAffChanged(_: Event) {\r\n    switch(this.changeAffState) {\r\n      case 'off':\r\n        this.changeAffState = 'on';\r\n        break;\r\n      case 'on':\r\n      default:\r\n        this.changeAffState = 'off';\r\n        break;\r\n    }\r\n    this.ref.detectChanges();  \r\n    switch(this.changeAffState) {\r\n      case 'on':\r\n        this.newaffSubs.push(this.newaff.changed.subscribe(_ => {\r\n          this.checkForComplete();\r\n        }));\r\n        this.newaffSubs.push(this.newaff.complete.subscribe(() => {\r\n          this.affiliationChanged.emit(this.newaff.currentAffiliation);\r\n          this.checkForComplete();\r\n        }));\r\n        this.newaffSubs.push(this.newaff.affiliationChanged.subscribe((_) => {\r\n          this.checkForComplete();\r\n        }));\r\n        break;\r\n      case 'off':\r\n      default:\r\n        this.newaffSubs.forEach(sub => sub.unsubscribe());\r\n        break;\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n}\r\n","<h1><label for=\"toggleVisibilityStage4\">Stage 4 - Higher Education</label><input type=\"button\" title=\"toggleVisibilityStage4\" [value]=\"isComplete ? 'hide' : 'show'\" id=\"toggleVisibilityStage4\" name=\"toggleVisibilityStage4\" (click)=\"toggleVisibility(!visible)\" *ngIf=\"hasHideButton\"/></h1>\r\n<div [hidden]=\"!visible\">\r\n    <p>Select a background for your character.</p>\r\n\r\n    <span [class.incomplete]=\"currentBackgroundIndex === undefined\"><form>\r\n        <label for=\"bkg\"><h3>Background</h3></label>\r\n        <select title=\"background\" name=\"background\" id=\"bkg\" [(ngModel)]=\"currentBackgroundIndex\" (change)=\"currentBackgroundChanged($event)\">\r\n            <option hidden disabled selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n            <option *ngFor=\"let bkg of backgrounds\" class=\"opt\" [ngValue]=\"backgrounds.indexOf(bkg)\" [disabled]=\"(currentStartingYear + bkg.Duration) > currentEndingYear\">{{ bkg.Name }}</option>\r\n        </select>\r\n    </form></span>\r\n\r\n    <div [hidden]=\"!currentBackground\">\r\n        {{ currentBackground ? (currentBackground.Citation | citation) : '' }}\r\n\r\n        <h4>Subtotal: {{subtotal}}</h4>\r\n        <app-exp [values]=\"fixedBackgroundExperience\" #exp />\r\n\r\n        <div [hidden]=\"!currentBackground\">\r\n            <app-random-life-event #rle\r\n                [stage]=\"4\"/>\r\n        </div>\r\n    </div>\r\n\r\n    <ng-container *ngIf=\"currentBackground\">\r\n        <h3><label for=\"changeAff\">Change affiliation?</label><input type=\"checkbox\" id=\"changeAff\" name=\"changeAff\" [value]=\"changeAffState\" unchecked #changeAff (change)=\"changeAffChanged($event)\"/></h3>\r\n        <p>This decision is optional.  Characters affiliation change will happen at {{affYear}} if elected to do so.<wbr />  For affiliation change rules {{affChangeCitation|citation}}</p>\r\n        <app-newaff #newaff\r\n            *ngIf=\"changeAffState === 'on'\"\r\n            [excludedAffiliations]=\"exAff\"\r\n            [currentYear]=\"affYear\" />\r\n    </ng-container>\r\n</div>\r\n","import { Injectable } from '@angular/core';\nimport { FieldService } from './field.service';\nimport { Education, EducationType, EduInfo } from './education';\nimport { Attribute, Book, EnumMap, Eternal, Requirement, Skill, Stat, Statistic, Trait } from '../utils/common';\nimport { SkillField } from './field';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EducationService {\n  Educations: Education[] = [];\n\n  constructor(public fieldService: FieldService) {\n    const asOpts = (names: string[]): (Pick<SkillField, 'Name'> & Partial<SkillField>)[] => {\n      return names.map(name => { return { Name: name } });\n    }\n\n    const uniExtraReq: Requirement = { Or: [\n      { Stage: 2, Name: 'Preparatory School' },\n      { Stage: 1, Name: 'Nobility' },\n      { Stage: 1, Name: 'White Collar' }\n    ]}\n\n    this.Educations.push(\n      new Education(2398, { Name: 'Technical College',\n        Cost: 600,\n        Experience: [\n          { Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Quantity: 100 },\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 100 },\n          { Kind: Statistic.Trait, Trait: Trait.Equipped, Quantity: 150 },\n          { Kind: Statistic.Skill, Skill: Skill.Computers, Quantity: 20 },\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*', Quantity: 30 },\n          {\n            Set: {\n              Options: [\n                ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att } }),\n                ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait } }),\n                ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill } })\n              ]\n            }, Quantity: 200\n          }\n        ],\n        [EducationType.Basic]: {\n          Duration: 1, Options: asOpts([\n            'Communications', 'Pilot - Aerospace (Civilian)', 'Pilot - Aircraft (Civilian)',\n            'Pilot - DropShip', 'Pilot - Exoskeleton', 'Technician - Civilian'])\n        },\n        [EducationType.Advanced]: {\n          Duration: 2, Options: asOpts([\n            'Cartographer', 'Engineer', 'Merchant Marine', 'Pilot - IndustrialMech',\n            'Pilot - JumpShip', 'Technician - Aerospace', \"Technician - 'Mech\", 'Technician - Vehicle'\n          ])\n        },\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 72\n        }\n      }), new Education(2398, { Name: 'Trade School',\n        Cost: 560,\n        Experience: [\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 50 },\n          { Or: EnumMap(Attribute).filter(att => att !== Attribute.Intelligence).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: att } }), Quantity: 100 },\n          { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 50 },\n          { Kind: Statistic.Trait, Trait: Trait.Equipped, Quantity: 100 },\n          { Pick: { Count: 3, Options: EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill } }) }, Quantity: 20 },\n          {\n            Set: {\n              Options: [\n                ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att } }),\n                ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait } }),\n                ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill } })\n              ]\n            }, Quantity: 200\n          }\n        ],\n        [EducationType.Basic]: {\n          Duration: 1, Options: asOpts([\n            'General Studies', 'Merchant'])\n        },\n        [EducationType.Advanced]: {\n          Duration: 2, Options: asOpts([\n            'Analysis', 'Anthropologist', 'Archaeologist', 'Cartographer', 'Communications',\n            'HPG Technician', 'Journalist', 'Manager', \"Medical Assistant\", 'Merchant Marine'\n          ])\n        },\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 72\n        }\n      }), new Education(2398, { Name: 'University',\n      Cost: 710,\n      Prereq: { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 },\n      Experience: [\n        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 150 },\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75 },\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75, If: uniExtraReq },\n        { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Quantity: 25 },\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 25 },\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: -100, If: uniExtraReq },\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 200 },\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 200, If: uniExtraReq },\n        { Kind: Statistic.Trait, Trait: Trait.Equipped, Quantity: 50 },\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: 75 },\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -100, If: uniExtraReq },\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -200 },\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -200, If: uniExtraReq },\n        { Kind: Statistic.Skill, Skill: Skill.Computers, Quantity: 25 },\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*', Quantity: 20 },\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 25 },\n        { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!', Quantity: 20 },\n        { Set: { Options: [\n          ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att }}),\n          ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\n          ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill }})\n        ]}, Quantity: 220 }\n      ],\n      [EducationType.Basic]: { Duration: 1, Options: asOpts([\n        'Cartographer', 'Communications', 'General Studies', 'Manager', 'Scientist', 'Technician - Civilian'])},\n      [EducationType.Advanced]: { Duration: 2, Options: asOpts([\n        'Analysis', 'Anthropologist', 'Archaeologist', 'Detective', 'Engineer', 'HPG Technician', \n        'Planetary Surveyor', \"Medical Assistant\", 'Politician', 'Technician - Aerospace', 'Technician - Vehicle'])},\n      [EducationType.Special]: { Duration: 2, Options: asOpts([\n        'Doctor', 'Lawyer', 'Military Scientist', \"Technician - 'Mech\", \"Technician - Military\"])},\n      Citation: {\n        Book: Book.ATimeOfWar,\n        Page: 72,\n        Notes: ['Additional exp found in Prereq section is not currently applied.'] } //TODO fix this\n      })\n    )\n  }\n\n  public At(when: number): EducationInfo[] {\n    //We want to make sure we use the most current version of the Fields\n    const fields = this.fieldService.At(when);\n    const edui = this.Educations.flatMap<EduInfo>(edu => edu.At((when - 2398) as Eternal) ?? []);\n    return edui.map<EducationInfo>(edu => {\n      const names: { [value in EducationType]: string[] } = {\n        [EducationType.Basic]: [],\n        [EducationType.Advanced]: [],\n        [EducationType.Special]: []\n      }\n      const partial: Omit<EduInfo, EducationType> = { ...edu };\n      const types: Partial<Record<EducationType, {\n        Duration: number,\n        Options: SkillField[]\n      }>> = {};\n      EnumMap(EducationType).forEach((type: EducationType) => {\n        if (type in edu && edu[type] !== undefined) {\n          const temp = edu[type];\n\n          names[type] = (edu[type]?.Options ?? []).flatMap(_edu => _edu.Name);\n          if (temp) {\n            types[type] = { Duration: temp.Duration, Options: fields.filter(field => names[type].includes(field.Name)) }\n          }\n        };\n      });\n      return {\n        ...partial,\n        ...types\n      }\n    });\n  }\n}\n\nexport type EducationInfo = Omit<EduInfo, EducationType> & Partial<Record<EducationType, {\n  Duration: number,\n  Options: SkillField[]\n}>>\n","import { Subject } from \"rxjs\";\nimport { Citation, Eternal, Experience, Requirement, Skill } from \"../utils/common\";\nimport { SkillField } from \"./field\";\n\nexport class Education {\n    private timeline: {\n        [Date in Eternal]?: Array<(Record<'Kind', EducationEvent> & Partial<EduInfo>)>\n    } = {}\n\n    constructor(\n        private when: number,\n        private info: EduInfo) {\n        const date: Eternal = (when-2398) as Eternal\n        if(date > 0) {\n            this.timeline[0] = [{\n                Kind: EducationEvent.Disallow\n            }];\n        }\n        this.timeline[date] = [{\n            Kind: EducationEvent.Allowed,\n            ...info\n        }];\n    }\n\n    public RemoveField(when: number, type: EducationType, name: string, citation?: Citation): Education {\n        this.timeline[(when-2398) as Eternal] = [...(this.timeline[(when-2398) as Eternal] ?? []), {\n            Kind: EducationEvent.FieldRemoved,\n            [type]: { Options: [{ Name: name }]},\n            Citation: citation\n        }];\n        return this;\n    }\n\n    public AddField(when: number, type: EducationType, field: SkillField, citation?: Citation): Education {\n        this.timeline[(when-2398) as Eternal] = [...(this.timeline[(when-2398) as Eternal] ?? []), {\n            Kind: EducationEvent.FieldAdded,\n            [type]: { Options: [field]},\n            Citation: citation\n        }];\n        return this;\n    }\n\n    public At(when: Eternal): EduInfo | undefined {\n        const importantDates = Object.keys(this.timeline)\n            .filter(key => (+key) <= when)\n            .sort((a, b) => (+a) - (+b))\n            .map(key => (+key) as Eternal)\n            .filter(date => \n                this.timeline[date]?.some(event => \n                    event.Kind === EducationEvent.Allowed || event.Kind === EducationEvent.Disallow))\n            .reverse();\n\n        const latest = importantDates.pop();\n        if(latest === undefined) throw new Error(); //this means dates is empty and latest is undefined, which means there is no defined founding, which is bad.\n        if(!(this.timeline[latest]?.some(date => date.Kind === EducationEvent.Allowed))) {\n            //this means that the most recent education event is that it disallowed, which means if that date is before now (which it must be because above) then there is no field to return\n            return undefined;\n        }\n\n        //build the education between 'latest' and 'when'\n        const dates = Object.keys(this.timeline)\n            .filter(key => (+key) >= latest && (+key) <= when)\n            .sort((a, b) => (+a) - (+b))\n            .map(key => (+key) as Eternal);\n\n        //this is the actual data, just unprocssed\n        const events = dates.flatMap(date => this.timeline[date]?.filter(event => event.Kind === EducationEvent.Allowed || event.Kind === EducationEvent.Modify))\n        const initial = [...dates].shift();\n\n        if(initial === undefined) throw new Error();\n        const start = this.timeline[initial]?.filter(date => date.Kind === EducationEvent.Allowed)[0];\n\n        const remove = (sofar: { Duration: number, Options: Pick<SkillField, 'Name'>[] } | undefined, values: Pick<SkillField, 'Name'>[]): typeof sofar => {\n            if(!sofar) return undefined;\n            if(values.length === 0) return sofar;\n            const names: string[] = values.map(value => value.Name);\n            return {\n                Duration: sofar!.Duration,\n                Options: sofar.Options.filter(field => !names.includes(field.Name))\n            }\n        }\n\n        const add = (sofar: { Duration: number, Options: Pick<SkillField, 'Name'>[] } | undefined, values: Pick<SkillField, 'Name'>[]): typeof sofar => {\n            if(!sofar) return undefined;\n            if(values.length === 0) return sofar;\n            return {\n                Duration: sofar!.Duration,\n                Options: [...sofar.Options, ...values]\n            }\n        }\n\n        const process = (sofar: ReturnType<typeof this.At>): ReturnType<typeof this.At> => {\n            const current = events.shift();\n            if(!current) return sofar;\n\n            switch(current.Kind) {\n                case EducationEvent.Allowed:\n                case EducationEvent.Modify:\n                    return process({\n                        Name: current.Name ?? sofar!.Name!,\n                        Prereq: current.Prereq ?? sofar!.Prereq,\n                        Cost: current.Cost ?? sofar!.Cost!,\n                        Experience: current.Experience ?? sofar!.Experience!,\n                        Citation: current.Citation ?? sofar!.Citation,\n                        [EducationType.Basic]: (sofar!)[EducationType.Basic],\n                        [EducationType.Advanced]: (sofar!)[EducationType.Advanced],\n                        [EducationType.Special]: (sofar!)[EducationType.Special],\n                    });\n                case EducationEvent.Disallow:\n                    return undefined;\n                case EducationEvent.FieldAdded:\n                    return process({\n                        Name: sofar!.Name!,\n                        Prereq: sofar!.Prereq,\n                        Cost: sofar!.Cost!,\n                        Experience: sofar!.Experience!,\n                        Citation: sofar!.Citation,\n                        [EducationType.Basic]: add((sofar!)[EducationType.Basic], EducationType.Basic in current ? current[EducationType.Basic]?.Options ?? [] : []),\n                        [EducationType.Advanced]: add((sofar!)[EducationType.Advanced], EducationType.Advanced in current ? current[EducationType.Advanced]?.Options ?? [] : []),\n                        [EducationType.Special]: add((sofar!)[EducationType.Special], EducationType.Special in current ? current[EducationType.Special]?.Options ?? [] : []),\n                    });\n                case EducationEvent.FieldRemoved:\n                    return process({\n                        Name: sofar!.Name!,\n                        Prereq: sofar!.Prereq,\n                        Cost: sofar!.Cost!,\n                        Experience: sofar!.Experience!,\n                        Citation: sofar!.Citation,\n                        [EducationType.Basic]: remove((sofar!)[EducationType.Basic], EducationType.Basic in current ? current[EducationType.Basic]?.Options ?? [] : []),\n                        [EducationType.Advanced]: remove((sofar!)[EducationType.Advanced], EducationType.Advanced in current ? current[EducationType.Advanced]?.Options ?? [] : []),\n                        [EducationType.Special]: remove((sofar!)[EducationType.Special], EducationType.Special in current ? current[EducationType.Special]?.Options ?? [] : []),\n                    });\n            }\n        }\n\n        const ret = process({ \n            Name: start!.Name!,\n            Prereq: start!.Prereq,\n            Cost: start!.Cost!,\n            Experience: start!.Experience!,\n            Citation: start!.Citation,\n            [EducationType.Basic]: (start!)[EducationType.Basic],\n            [EducationType.Advanced]: (start!)[EducationType.Advanced],\n            [EducationType.Special]: (start!)[EducationType.Special],\n        });\n        return ret;\n    }\n}\n\nexport enum EducationType {\n    Basic, Advanced, Special\n}\n\ntype _EduInfo = {\n    Name: string,\n    Cost: number,\n    Experience: Experience[],\n    Prereq?: Requirement,\n    Citation?: Citation\n}\n\nexport type EduInfo = _EduInfo & Partial<Record<EducationType, {\n    Duration: number,\n    Options: (Pick<SkillField, 'Name'> & Partial<SkillField>)[]\n}>>\n\nenum EducationEvent {\n    'Allowed', 'Disallow', 'Modify', 'FieldAdded', 'FieldRemoved'\n}","import { Injectable } from '@angular/core';\nimport { Field, SkillField } from './field';\nimport { Attribute, Book, Communications, Driving, EnumMap, Eternal, MedTech, Navigation, Piloting, Skill, Statistic, Surgery, Technician, Tracking, Trait } from '../utils/common';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FieldService {\n  Fields: Field[] = [];\n  constructor() { \n    this.Fields.push(\n      new Field(2398, { Name: 'Anthropology',\n        Prereq: { And: [{ Field: 'General Studies' }, \n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Anthropologist' },\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: /History of $1/ },\n          { Kind: Statistic.Skill, Skill: Skill.Investigation },\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '*' },\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '*' },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '*' } ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82 }\n      }), new Field(2398, { Name: 'Archaeologist',\n        Prereq: { And: [{ Field: 'General Studies' }, \n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Archaeologist' },\n          { Kind: Statistic.Skill, Skill: Skill.Appraisal },\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: 'Geology' },\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: /History of $1/ },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Ground },\n          { Kind: Statistic.Skill, Skill: Skill.Perception } ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82 }\n      }), new Field(2398, { Name: 'Cartographer',\n        Prereq: { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 },\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Cartographer' },\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Air },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Ground },\n          { Kind: Statistic.Skill, Skill: Skill.Perception },\n          { Kind: Statistic.Skill, Skill: Skill.SensorOperations } ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82 }\n      }), new Field(2398, { Name: 'Communications',\n        Prereq: { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 },\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Acting },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Communications' },\n          { Kind: Statistic.Skill, Skill: Skill.Communications, Subskill: Communications.Conventional },\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '*' },\n          { Kind: Statistic.Skill, Skill: Skill.SensorOperations } ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82 }\n      }), new Field(2398, { Name: 'Doctor',\n        Prereq: { And: [{ Or: ['Medical Assistant', 'Scientist'].map(req => { return { Field: req }})},\n          { Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Op:'>=', Level: 4 },\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 5 },\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Op:'>=', Level: 3 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Administration },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Doctor' },\n          { Kind: Statistic.Skill, Skill: Skill.MedTech, Subskill: MedTech.General },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!' },\n          { Kind: Statistic.Skill, Skill: Skill.Surgery, Subskill: Surgery.General } ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82,\n          Notes: ['Added subskill General for MedTech as none was provided.', \n                  'Added subskill General for Surgery as none was provided.']}\n      }), new Field(2398, { Name: 'Engineer',\n        Prereq: { And: [\n          { Or: ['Civilian', 'Military'].map(req => { return { Field: `Technician - ${req}` }})},\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Appraisal },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Engineer' },\n          { Kind: Statistic.Skill, Skill: Skill.Perception },\n          { Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: Technician.Nuclear },\n          { Or: EnumMap(Technician).filter(sub => sub !== Technician.Nuclear).map<SkillType>(sub => { return {\n            Kind:Statistic.Skill, Skill: Skill.Technician, Subskill: sub }})} ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82,\n          Notes: ['Removed subskill Nuclear for Technician so it is not duplicated.']}\n      }), new Field(2398, { Name: 'General Studies',\n        Prereq: { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 3 },\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: '*' },\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*' },\n          { Kind: Statistic.Skill, Skill: Skill.Perception },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!' } ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82,\n          Notes: ['Ignored part that reads \"at least one other Skill related to those shown below\" because is was unclear.']}\n      }), new Field(2398, { Name: 'HPG Technician',\n        Prereq: { And:[\n          { Or: [\n              ...['ComStar', 'Word of Blake'].map(aff => { return { Affiliation: aff}}), \n                                                                  { IsClanner: true }]},\n          { Field: 'Communications' }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Administration },\n          { Kind: Statistic.Skill, Skill: Skill.Communications, Subskill: Communications.Conventional },\n          { Kind: Statistic.Skill, Skill: Skill.Communications, Subskill: Communications.BlackBox },\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          { Kind: Statistic.Skill, Skill: Skill.Cryptography } ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82 }\n      }), new Field(2398, { Name: 'Journalist',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Op:'>=', Level: 4 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Acting },\n          { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: 'Writing' },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Journalist' },\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          { Kind: Statistic.Skill, Skill: Skill.Investigation },\n          { Kind: Statistic.Skill, Skill: Skill.Perception } ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82 }\n      }), new Field(2398, { Name: 'Lawyer',\n        Prereq: { And: [{ Field: 'General Studies'},\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Op:'>=', Level: 4 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Op:'>=', Level: 5 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Acting },\n          { Kind: Statistic.Skill, Skill: Skill.Administration },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Lawyer' },\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: 'Law' },\n          { Kind: Statistic.Skill, Skill: Skill.Negotiation },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '*' }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82 }\n      }), new Field(2398, { Name: 'Manager',\n        Prereq: { And: [{ Field: 'General Studies'},\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Op:'>=', Level: 3 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Administration },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Management' },\n          { Kind: Statistic.Skill, Skill: Skill.Leadership },\n          { Kind: Statistic.Skill, Skill: Skill.Negotiation },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!' },\n          { Kind: Statistic.Skill, Skill: Skill.Training }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82,\n          Notes: ['Reduced Intelligence requirment to 3 from 5.', 'Reduced Charisma requirment to 3 from 5.']}\n      }), new Field(2398, { Name: 'Medical Assistant',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'MedTech' },\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: 'Pharmacology' },\n          { Kind: Statistic.Skill, Skill: Skill.MedTech, Subskill: MedTech.General },\n          { Kind: Statistic.Skill, Skill: Skill.Perception }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82,\n          Notes: ['Added subskill General for MedTech as none was provided.']}\n      }), new Field(2398, { Name: 'Merchant',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Op:'>=', Level: 3 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Administration },\n          { Kind: Statistic.Skill, Skill: Skill.Appraisal },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Merchant' },\n          { Kind: Statistic.Skill, Skill: Skill.Negotiation },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '*' },\n          { Kind: Statistic.Skill, Skill: Skill.Streetwise, Subskill: '*' }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82,\n          Notes: ['Added subskill General for MedTech as none was provided.']}\n      }), new Field(2398, { Name: 'Merchant Marine',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Reflexes, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Trait, Trait: Trait.TDS, Op: '=', Level: 0 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Merchant Marine' },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '*' },\n          { Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: Technician.Aeronautics },\n          { Or: EnumMap(Technician).filter(sub => sub !== Technician.Aeronautics).map<SkillType>(sub => { return {\n            Kind:Statistic.Skill, Skill: Skill.Technician, Subskill: sub }})},\n          { Kind: Statistic.Skill, Skill: Skill.ZeroGOperations }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82,\n          Notes: ['Removed subskill Aeronautics for Technician so it is not duplicated.']}\n      }), new Field(2398, { Name: 'Pilot - Aerospace (Civilian)',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Reflexes, Op:'>=', Level: 4 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 3 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Aerospace Pilot' },\n          { Kind: Statistic.Skill, Skill: Skill.Communications, Subskill: Communications.Conventional },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Air },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Space },\n          { Kind: Statistic.Skill, Skill: Skill.Piloting, Subskill: Piloting.Aerospace },\n          { Kind: Statistic.Skill, Skill: Skill.SensorOperations }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82,\n          Notes: ['Removed subskill Aeronautics for Technician so it is not duplicated.']}\n      }), new Field(2398, { Name: 'Pilot - Aircraft (Civilian)',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Reflexes, Op:'>=', Level: 4 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Aircraft Pilot' },\n          { Kind: Statistic.Skill, Skill: Skill.Communications, Subskill: Communications.Conventional },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Air },\n          { Or: [Piloting.Aircraft, Piloting.VTOL].map<SkillType>(sub => { return { \n            Kind: Statistic.Skill, Skill: Skill.Piloting, Subskill: sub }})},\n          { Kind: Statistic.Skill, Skill: Skill.SensorOperations }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: 'Pilot - DropShip',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Op:'>=', Level: 4 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Trait, Trait: Trait.TDS, Op: '=', Level: 0 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'DropShip Pilot' },\n          { Kind: Statistic.Skill, Skill: Skill.Communications, Subskill: Communications.Conventional },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Space },\n          { Kind: Statistic.Skill, Skill: Skill.Piloting, Subskill: Piloting.Spacecraft },\n          { Kind: Statistic.Skill, Skill: Skill.SensorOperations },\n          { Kind: Statistic.Skill, Skill: Skill.ZeroGOperations }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: 'Pilot - Exoskeleton',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Strength, Op:'>=', Level: 5 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Body, Op:'>=', Level: 5 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Piloting, Subskill: Piloting.Battlesuit },\n          { Kind: Statistic.Skill, Skill: Skill.SensorOperations },\n          ...[Technician.Electronics, Technician.Mechanical, Technician.Myomer].map<SkillType>(sub => { return {\n            Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: sub }})],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: 'Pilot - IndustrialMech',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Reflexes, Op:'>=', Level: 3 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Piloting, Subskill: Piloting.Mech },\n          { Kind: Statistic.Skill, Skill: Skill.SensorOperations },\n          ...[Technician.Electronics, Technician.Mechanical, Technician.Myomer].map<SkillType>(sub => { return {\n            Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: sub\n          }})],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: 'Pilot - JumpShip',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 5 },\n                        { Field: 'Pilot - DropShip' },\n                        { Kind: Statistic.Trait, Trait: Trait.TDS, Op: '=', Level: 0 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Administration },\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.KFJump },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Space }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: 'Planetary Surveyor',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 6 },\n                        { Field: 'Scientist' }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Appraisal },\n          { Or: [{ Kind: Statistic.Skill, Skill: Skill.Driving, Subskill: Driving.Ground },\n                 { Kind: Statistic.Skill, Skill: Skill.Driving, Subskill: Driving.Sea }]},\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Ground },\n          { Kind: Statistic.Skill, Skill: Skill.Survival, Subskill: '*' },\n          { Kind: Statistic.Skill, Skill: Skill.Tracking, Subskill: Tracking.Wilds }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83,\n          Notes: ['Excluded subskill Rail for Driving skill choice.']}\n      }), new Field(2398, { Name: 'Politician',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Op:'>=', Level: 4 },\n                        { Field: 'Manager' }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Acting },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Politician' },\n          { Kind: Statistic.Skill, Skill: Skill.Leadership },\n          { Kind: Statistic.Skill, Skill: Skill.Negotiation },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!' }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: 'Scientist',\n        Prereq: { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 },\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Acting },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Politician' },\n          { Kind: Statistic.Skill, Skill: Skill.Leadership },\n          { Kind: Statistic.Skill, Skill: Skill.Negotiation },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!' }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: 'Technician - Aerospace',\n        Prereq: { And: [{ Or: ['Civilian', 'Military'].map(req => { return { Field: `Technician - ${req}` }})},\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          ...[Technician.Aeronautics, Technician.Nuclear, Technician.Jets].map<SkillType>(sub => { return {\n            Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: sub }}),\n            { Kind: Statistic.Skill, Skill: Skill.ZeroGOperations }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: 'Technician - Civilian',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Op:'>=', Level: 3 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Appraisal },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Technician' },\n          ...[Technician.Electronics, Technician.Mechanical, Technician.Nuclear].map<SkillType>(sub => { return {\n            Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: sub }}),\n            { Kind: Statistic.Skill, Skill: Skill.ZeroGOperations }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: \"Technician - 'Mech\",\n        Prereq: { And: [{ Or: ['Civilian', 'Military'].map(req => { return { Field: `Technician - ${req}` }})},\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 }]},\n        Skills: [Technician.Electronics, Technician.Jets, Technician.Mechanical, Technician.Myomer, Technician.Nuclear].map<SkillType>(sub => { return {\n          Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: sub }}),\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: \"Technician - Vehicle\",\n        Prereq: { And: [{ Or: ['Civilian', 'Military'].map(req => { return { Field: `Technician - ${req}` }})},\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          ...[Technician.Electronics, Technician.Mechanical, Technician.Nuclear].map<SkillType>(sub => { return {\n            Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: sub }})],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: \"Analysis\",\n      Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Op:'>=', Level: 4 },\n                      { Or: [{ Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 },\n                             { And: [{ Field: 'Police Officer'},\n                                     { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 3 }]}]}]},\n      Skills: [\n        { Kind: Statistic.Skill, Skill: Skill.Communications, Subskill: Communications.Conventional },\n        { Kind: Statistic.Skill, Skill: Skill.Computers },\n        { Kind: Statistic.Skill, Skill: Skill.Cryptography },\n        { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '*' },\n        { Kind: Statistic.Skill, Skill: Skill.SensorOperations },],\n      Citation: {\n        Book: Book.ATimeOfWar,\n        Page: 83 }\n      }), new Field(2398, { Name: \"Detective\", //CURRENTLY INCOMPLETE\n      Skills: [],\n      Citation: {\n        Book: Book.ATimeOfWar,\n        Page: 83, }\n      }), new Field(2398, { Name: \"Military Scientist\", //CURRENTLY INCOMPLETE\n      Skills: [],\n      Citation: {\n        Book: Book.ATimeOfWar,\n        Page: 83, }\n      }), new Field(2398, { Name: \"Technician - Military\", //CURRENTLY INCOMPLETE\n      Skills: [],\n      Citation: {\n        Book: Book.ATimeOfWar,\n        Page: 83, }\n      })\n    )\n  }\n\n  public At(when: number): SkillField[] {\n    return this.Fields.flatMap<SkillField>(field => field.At((when - 2398) as Eternal) ?? []);\n  }\n}\n\ntype SkillType = SkillField[\"Skills\"][keyof SkillField[\"Skills\"]];","import { Citation, Eternal, Experience, Requirement } from \"../utils/common\"\n\nexport class Field {\n    private timeline: {\n        [Date in Eternal]?: Array<(Record<'Kind', FieldEvent> & Partial<SkillField>)>\n    } = {}\n\n    constructor(\n        private when: number,\n        private field: SkillField) {\n        const date: Eternal = (when-2398) as Eternal\n        if(date > 0) {\n            this.timeline[0] = [{\n                Kind: FieldEvent.Disallow\n            }];\n        }\n        this.timeline[date] = [{\n            Kind: FieldEvent.Allowed,\n            ...field\n        }];\n    }\n\n    public At(when: Eternal): SkillField | undefined {\n        const importantDates = Object.keys(this.timeline)\n            .filter(key => (+key) <= when)\n            .sort((a, b) => (+a) - (+b))\n            .map(key => (+key) as Eternal)\n            .filter(date => \n                this.timeline[date]?.some(event => \n                    event.Kind === FieldEvent.Allowed || event.Kind === FieldEvent.Disallow))\n            .reverse();\n\n        const latest = importantDates.pop();\n        if(latest === undefined) throw new Error(); //this means dates is empty and latest is undefined, which means there is no defined founding, which is bad.\n        if(!(this.timeline[latest]?.some(date => date.Kind === FieldEvent.Allowed))) {\n            //this means that the most recent field event is that it disallowed, which means if that date is before now (which it must be because above) then there is no field to return\n            return undefined;\n        }\n\n        //build the field between 'latest' and 'when'\n        const dates = Object.keys(this.timeline)\n            .filter(key => (+key) >= latest && (+key) <= when)\n            .sort((a, b) => (+a) - (+b))\n            .map(key => (+key) as Eternal);\n\n        //this is the actual data, just unprocssed\n        const events = dates.flatMap(date => this.timeline[date]?.filter(event => event.Kind === FieldEvent.Allowed || event.Kind === FieldEvent.Modify))\n        const initial = [...dates].shift();\n\n        if(initial === undefined) throw new Error();\n        const start = this.timeline[initial]?.filter(date => date.Kind === FieldEvent.Allowed)[0];\n\n        const process = (sofar: ReturnType<typeof this.At>): ReturnType<typeof this.At> => {\n            const current = events.shift();\n            if(!current) return sofar;\n\n            switch(current.Kind) {\n                case FieldEvent.Allowed:\n                case FieldEvent.Modify:\n                    return process({\n                        Name: current.Name ?? sofar!.Name!,\n                        Prereq: current.Prereq ?? sofar!.Prereq,\n                        Skills: current.Skills ?? sofar!.Skills!,\n                        Citation: current.Citation ?? sofar!.Citation\n                    });\n                case FieldEvent.Disallow:\n                    return undefined;\n            }\n        }\n\n        const ret = process({ \n            Name: start!.Name!,\n            Prereq: start!.Prereq,\n            Skills: start!.Skills!,\n            Citation: start!.Citation\n        });\n        return ret;\n    }\n}\n\nexport type SkillField = {\n    Name: string,\n    Prereq?: Requirement,\n    Skills: Omit<Experience, 'Quantity' | 'Set' | 'If'>[],\n    Citation?: Citation\n}\n\nenum FieldEvent {\n    'Allowed', 'Disallow', 'Modify'\n}","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Archtype } from './common';\r\n\r\n@Pipe({\r\n  name: 'archtype'\r\n})\r\nexport class ArchtypePipe implements PipeTransform {\r\n\r\n  transform(value: number | Archtype): string {\r\n    const ret = Archtype[value].replace(/([A-Z]+)/g, ' $1').trim();\r\n    return ret;\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Book, Citation } from './common';\r\n\r\n@Pipe({\r\n  name: 'citation'\r\n})\r\nexport class CitationPipe implements PipeTransform {\r\n\r\n  transform(value: Citation | undefined): string {\r\n    if(!value) {\r\n      return 'No Citation given!'\r\n    } else {\r\n      const book = Book[value.Book].replace(/([A-Z])/g, ' $1').replace(/([0-9]+)/g, '-$1').trim();\r\n\r\n      return `See ${book}, pg: ${value.Page}`;\r\n    }\r\n  }\r\n\r\n}\r\n","export function EnumMap(values: object): number[] {\r\n    return [...Array(1+Math.max(...Object.values(values).map(v => +v).filter(v => +v))).keys()]\r\n}\r\n\r\nexport function clamp(number: number, min: number, max: number): number {\r\n    return Math.max(min, Math.min(number, max));\r\n}\r\n\r\nexport enum Statistic {\r\n    Attribute,\r\n    Trait,\r\n    Skill\r\n}\r\n\r\nexport enum Attribute {\r\n    Strength,\r\n    Body,\r\n    Dexterity,\r\n    Reflexes,\r\n    Intelligence,\r\n    Willpower,\r\n    Charisma,\r\n    Edge\r\n}\r\n\r\nexport enum Trait {\r\n    AlternativeID,\r\n    Ambidextrous,\r\n    AnimalEmpathy,\r\n    Attractive,\r\n    Citizenship,\r\n    Trueborn,\r\n    CombatSense,\r\n    Connections,\r\n    ExceptionalAttribute,\r\n    FastLearner,\r\n    Fit,\r\n    GTolerance,\r\n    GoodHearing,\r\n    GoodVision,\r\n    Gregarious,\r\n    Implant,\r\n    Prosthetic,\r\n    NaturalAptitude,\r\n    PainResistance,\r\n    Patient,\r\n    Phenotype,\r\n    PoisonResistance,\r\n    Property,\r\n    Rank,\r\n    SixthSense,\r\n    TechEmpathy,\r\n    ThickSkinned,\r\n    Title,\r\n    Bloodname,\r\n    Toughness,\r\n    AnimalAntipathy,\r\n    Bloodmark,\r\n    CombatParalysis,\r\n    Compulsion,\r\n    DarkSecret,\r\n    Enemy,\r\n    GlassJaw,\r\n    Gremlins,\r\n    Handicap,\r\n    Illiterate,\r\n    Impatient,\r\n    InForLife,\r\n    Introvert,\r\n    LostLimb,\r\n    PoorHearing,\r\n    PoorVision,\r\n    SlowLearner,\r\n    ThinSkinned,\r\n    TDS,\r\n    Unattractive,\r\n    Unlucky,\r\n    Equipped,\r\n    ExtraIncome,\r\n    Reputation,\r\n    Wealth,\r\n    CustomVehicle,\r\n    DesignQuirk,\r\n    VehicleLevel,\r\n    Mutation\r\n}\r\n\r\nexport enum Skill {\r\n    Acrobatics,\r\n    Acting,\r\n    Administration,\r\n    AnimalHandling,\r\n    Appraisal,\r\n    Archery,\r\n    Art,\r\n    Artillery,\r\n    Career,\r\n    Climbing,\r\n    Communications,\r\n    Computers,\r\n    Cryptography,\r\n    Demolitions,\r\n    Disguise,\r\n    Driving,\r\n    EscapeArtist,\r\n    Forgery,\r\n    Gunnery,\r\n    Interest,\r\n    Interrogation,\r\n    Investigation,\r\n    Language,\r\n    Leadership,\r\n    MartialArts,\r\n    MedTech,\r\n    MeleeWeapons,\r\n    Navigation,\r\n    Negotiation,\r\n    Perception,\r\n    Piloting,\r\n    Prestidigitation,\r\n    Protocol,\r\n    Running,\r\n    Science,\r\n    SecuritySystem,\r\n    SensorOperations,\r\n    SmallArms,\r\n    Stealth,\r\n    Streetwise,\r\n    SupportWeapons,\r\n    Surgery,\r\n    Survival,\r\n    Swimming,\r\n    Tactics,\r\n    Technician,\r\n    ThrownWeapons,\r\n    Tracking,\r\n    Training,\r\n    ZeroGOperations\r\n}\r\n\r\nexport enum Acrobatics {\r\n    FreeFall,\r\n    Gymnastics\r\n}\r\n\r\nexport enum AnimalHandling {\r\n    Herding, Riding, Training\r\n}\r\n\r\nexport enum Communications {\r\n    BlackBox,\r\n    Conventional,\r\n    HyperpuseGenerator\r\n}\r\n\r\nexport enum Driving {\r\n    Ground, Rail, Sea\r\n}\r\n\r\nexport enum Gunnery {\r\n    Aerospace, Air, Battlesuit, Ground, Mech, ProtoMech, Sea, Spacecraft, Turret\r\n}\r\n\r\nexport enum MedTech {\r\n    General, Veterinary\r\n}\r\n\r\nexport enum Navigation {\r\n    Ground, Air, Sea, Space, KFJump\r\n}\r\n\r\nexport enum Piloting {\r\n    Aerospace, Aircraft, Battlesuit, Ground, Mech, ProtoMech, Railcraft, Seacraft, Spacecraft, VTOL\r\n}\r\n\r\nexport enum Prestidigitation {\r\n    PickPocket, Quickdraw, SleightOfHand\r\n}\r\n\r\nexport enum SecuritySystem {\r\n    Electrical, Mechanical\r\n}\r\n\r\nexport enum Surgery {\r\n    General, Veterinary\r\n}\r\n\r\nexport enum Tactics {\r\n    Infantry, Land, Sea, Air, Space\r\n}\r\n\r\nexport enum Technician {\r\n    Aeronautics, Cybernetics, Electronics, Jets, Mechanical, Myomer, Nuclear, Weapons\r\n}\r\n\r\nexport enum ThrownWeapons {\r\n    Blades, Blunt, Spear\r\n}\r\n\r\nexport enum Tracking {\r\n    Urban, Wilds\r\n}\r\n\r\nexport type Stage = 0 | 1 | 2 | 3 | 4;\r\n\r\nexport enum Archtype {\r\n    Noble, Mechwarrior, Infantry, Tanker, Pilot, Explorer, ShipsOfficer, Mercenary, Pirate, Cop, Diplomat, CorpExec, Journalist, Scientist, Engineer, Technician, Academic, Artist, Entertainer, Thug\r\n}\r\n\r\nexport enum CreatureTrait {\r\n    Aggressive,\r\n    Cognition,\r\n    Armor,\r\n    BloodSucker,\r\n    BloodRage,\r\n    Camoflage,\r\n    ColdBlooded,\r\n    Domesticated,\r\n    ExceptionalAttack,\r\n    Flight,\r\n    GoodHearing,\r\n    GoodSmell,\r\n    GoodVision,\r\n    Hardy,\r\n    NightVision,\r\n    OffensiveAdaptation,\r\n    PackHunter,\r\n    Poisonous,\r\n    PoisonResistance,\r\n    Skittish,\r\n    Susceptible,\r\n    ToolUser,\r\n    CombatSense,\r\n    FastLearner,\r\n    Fit,\r\n    GTolerance,\r\n    PainResistance,\r\n    Patient,\r\n    ThickSkinned,\r\n    Toughness,\r\n    CombatParalysis,\r\n    Compulsion,\r\n    GlassJaw,\r\n    Handicap,\r\n    Impatient,\r\n    LostLimb,\r\n    PoorHearing,\r\n    PoorVision,\r\n    SlowLearner,\r\n    ThinSkinned\r\n}\r\n\r\nexport enum CreatureSkill {\r\n    Agility,\r\n    Language,\r\n    Melee,\r\n    Mimicry,\r\n    Climbing,\r\n    Perception,\r\n    Running,\r\n    Stealth,\r\n    Swimming,\r\n    Tracking,\r\n    Survival\r\n}\r\n\r\nexport enum PlantTrait {\r\n    Armor, Camouflage, ExceptionalAttack, Hardy, Poisonous, PoisonResistance, Susceptible\r\n}\r\n\r\nexport enum PlantSkill {\r\n    Melee, Perception\r\n}\r\n\r\ntype AttStat\r\n    = Record<'Kind', Statistic.Attribute>\r\n    & Record<'Attribute', Attribute>\r\n\r\ntype __Skill<S extends Skill> = (Record<'Skill', S> & Record<'Kind', Statistic.Skill>)\r\n\r\ntype _Skill<S extends Skill> = __Skill<S> &\r\n    ( S extends Skill.Acrobatics ? Record<'Subskill', Acrobatics>\r\n    : S extends Skill.AnimalHandling ? Record<'Subskill', AnimalHandling>\r\n    : S extends Skill.Communications ? Record<'Subskill', Communications>\r\n    : S extends Skill.Driving ? Record<'Subskill', Driving>\r\n    : S extends Skill.Gunnery ? Record<'Subskill', Gunnery>\r\n    : S extends Skill.MedTech ? Record<'Subskill', MedTech>\r\n    : S extends Skill.Navigation ? Record<'Subskill', Navigation>\r\n    : S extends Skill.Piloting ? Record<'Subskill', Piloting>\r\n    : S extends Skill.Prestidigitation ? Record<'Subskill', Prestidigitation>\r\n    : S extends Skill.SecuritySystem ? Record<'Subskill', SecuritySystem>\r\n    : S extends Skill.Surgery ? Record<'Subskill', Surgery>\r\n    : S extends Skill.Tactics ? Record<'Subskill', Tactics>\r\n    : S extends Skill.Technician ? Record<'Subskill', Technician>\r\n    : S extends Skill.ThrownWeapons ? Record<'Subskill', ThrownWeapons>\r\n    : S extends Skill.Tracking ? Record<'Subskill', Tracking>\r\n    : S extends (Skill.Language | Skill.Career | Skill.Protocol | Skill.Streetwise | Skill.Survival | Skill.Art | Skill.Interest) ? (Record<'Subskill', string | RegExp>)\r\n    : __Skill<S>) \r\n\r\ntype SkillStat = _Skill<Skill> & Partial<Record<'Speciality', string>>\r\n\r\ntype __Trait<T extends Trait> = Record<'Trait', T> & Record<'Kind', Statistic.Trait>\r\n\r\ntype _Trait<T extends Trait> = __Trait<T> &\r\n    ( T extends Trait.ExceptionalAttribute ? Omit<AttStat, 'Kind'>\r\n    : T extends Trait.NaturalAptitude ? Omit<SkillStat, 'Kind' | 'Subskill' | 'Speciality'>\r\n    : T extends Trait.Compulsion ? Record<'Trigger', string>\r\n    : __Trait<T>) \r\n\r\ntype TraitStat = _Trait<Trait>\r\n\r\nexport type Stat = (AttStat | SkillStat | TraitStat)\r\n\r\nexport type Experience = \r\n    ( Stat \r\n    | Record<'Or', Stat[]> \r\n    | Record<'Pick', { Count: number, Options: (Stat & Partial<Record<'Limit', number>>)[] }> \r\n    | Record<'Set', { Options: (Stat & Partial<Record<'Limit', number>>)[] }>\r\n    ) & Record<'Quantity', number> & Partial<Record<'If', Requirement>>\r\n\r\ntype Enumerate<N extends number, Acc extends number[] = []> = Acc['length'] extends N\r\n    ? Acc[number]\r\n    : Enumerate<N, [...Acc, Acc['length']]>\r\n  \r\nexport type Range<F extends number, T extends number> = Exclude<Enumerate<T>, Enumerate<F>>\r\n\r\n//Year 0 is 2398\r\nexport type Eternal = Range<0 , 747>\r\n\r\nexport enum Book {\r\n    ATimeOfWar,\r\n    ATimeOfWarCompanion,\r\n    EraDigestAgeOfWar,\r\n    EraDigestGoldenCentury,\r\n    EraReport2750,\r\n    EraReport3052,\r\n    EraReport3062, \r\n    EraReport3145,\r\n    HouseArano,\r\n    FieldManual3085,\r\n    BestGuess\r\n}\r\n\r\nexport type Citation = Record<'Book', Book> & Record<'Page', Range<0 , 500>> & Partial<Record<'Notes', string[]>>\r\n\r\nexport type Ops = '>' | '>=' | '=' | '<' | '<=';\r\n\r\nexport type OneOrBoth<A, B> = A | B | ( A & B );\r\n\r\nexport type AnyOfRec<options extends string | number | symbol, type> = Record<options extends Omit<options, infer A> ? A : options, type>\r\n\r\ntype __Requirement \r\n    = (Stat & Record<'Op', Omit<Ops, '='>> & Record<'Level', number>)\r\n    | (Record<'Stage', Stage> & (Record<'Name', string>))\r\n    | (Record<'Field', string>)\r\n    | (Record<'IsClanner', boolean>)\r\n    | (Record<'Affiliation', string>)\r\n    | Record<'Or', (__Requirement | Record<'Not', __Requirement>)[]>\r\n    | Record<'And', (__Requirement | Record<'Not', __Requirement>)[]>\r\ntype _Requirement = __Requirement & Partial<Record<'Strict', true>>\r\nexport type Requirement = _Requirement | Record<'Not', _Requirement>","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Experience } from './common';\r\nimport { StatPipe } from './stat.pipe';\r\n\r\n@Pipe({\r\n  name: 'exp'\r\n})\r\nexport class ExpPipe implements PipeTransform {\r\n  statPipe: StatPipe;\r\n  constructor() {\r\n    this.statPipe = new StatPipe();\r\n  }\r\n\r\n  transform(value: Experience | undefined): string {\r\n    if(!value) return 'undefined';\r\n    if('Or' in value) {\r\n      return 'Or?!'\r\n    } else if('Pick' in value) {\r\n      return 'Pick?!'\r\n    } else if('Set' in value) {\r\n      return 'Set?!'\r\n    } else if ('If' in value) {\r\n      return 'If?!'\r\n    } else {\r\n      return `${this.statPipe.transform(value)} ${ value.Quantity > 0 ? '+' : '' }${value.Quantity} EXP`;\r\n    }\r\n  }\r\n\r\n}\r\n","import {  AfterViewInit, ChangeDetectorRef, Component, ContentChildren, EventEmitter, Input, OnDestroy, Output, QueryList, ViewChildren } from '@angular/core';\r\nimport { Experience, Stat, Statistic, Trait } from '../common';\r\nimport { OrExpComponent } from '../or-exp/or-exp.component';\r\nimport { StarExpComponent } from '../star-exp/star-exp.component';\r\nimport { Subscription } from 'rxjs';\r\nimport { PickExpComponent } from '../pick-exp/pick-exp.component';\r\nimport { SetExpComponent } from '../set-exp/set-exp.component';\r\n\r\n@Component({\r\n  selector: 'app-exp',\r\n  templateUrl: './exp.component.html',\r\n  styleUrls: ['./exp.component.scss']\r\n})\r\nexport class ExpComponent implements AfterViewInit, OnDestroy {\r\n  @Input({ required: true }) values!: Experience[];\r\n  @ViewChildren(OrExpComponent) orChoices!: QueryList<OrExpComponent>;\r\n  @ViewChildren(StarExpComponent) starChoices!: QueryList<StarExpComponent>;\r\n  @ViewChildren(PickExpComponent) pickChoices!: QueryList<PickExpComponent>;\r\n  @ViewChildren(SetExpComponent) setChoices!: QueryList<PickExpComponent>;\r\n  @Output() choice = new EventEmitter<Record<'add',Experience[]> & Record<'remove', Experience[]>>();\r\n  @Output() completed = new EventEmitter<never>();\r\n\r\n  get isComplete(): boolean {\r\n    const toCheck = [\r\n      ...(this.orChoices ?? []), \r\n      ...(this.starChoices ?? []),\r\n      ...(this.pickChoices ?? []),\r\n      ...(this.setChoices ?? [])];\r\n    return toCheck.map(choice => choice.isComplete).reduce((a, b) => a && b, true);\r\n  }\r\n\r\n  get experience(): Experience[] {\r\n    return [\r\n      ...this.values.filter(exp => this.isStd(exp)), \r\n      // if we try to access these values at the wrong time then or and star might not be initialized yet\r\n      ...[\r\n        ...(this.orChoices ?? []), \r\n        ...(this.starChoices ?? []),\r\n        ...(this.pickChoices ?? []),\r\n        ...(this.setChoices ?? [])\r\n      ]\r\n        //we will filter out incomplete choices as that will ensure all remaining have a defined experience property\r\n        .flatMap(choice => choice.experience!)\r\n        .filter(exp => !!exp)\r\n    ]\r\n  }\r\n\r\n  private subscriptions: Subscription[] = [];\r\n  private orSubs: Subscription[] = [];\r\n  private starSubs: Subscription[] = [];\r\n  private pickSubs: Subscription[] = [];\r\n  private setSubs: Subscription[] = [];\r\n\r\n  constructor(private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscriptions.push(this.orChoices.changes.subscribe((choice: QueryList<OrExpComponent>) => {\r\n      [...this.orSubs].forEach(_ => {\r\n        this.orSubs.shift()?.unsubscribe();\r\n      });\r\n      choice.forEach(or => {\r\n        this.orSubs.push(or.choice.subscribe(change => {\r\n          this.sendUpdate(change);\r\n        }));\r\n      });\r\n    }));\r\n    this.subscriptions.push(this.starChoices.changes.subscribe((choice: QueryList<StarExpComponent>) => {\r\n      [...this.starSubs].forEach(_ => {\r\n        this.starSubs.shift()?.unsubscribe();\r\n      });\r\n      choice.forEach(star => {\r\n        this.starSubs.push(star.choice.subscribe(change => {\r\n          this.sendUpdate(change);\r\n        }));\r\n      });\r\n    }));\r\n    this.subscriptions.push(this.pickChoices.changes.subscribe((choice: QueryList<PickExpComponent>) => {\r\n      [...this.pickSubs].forEach(_ => {\r\n        this.pickSubs.shift()?.unsubscribe();\r\n      });\r\n      choice.forEach(pick => {\r\n        this.pickSubs.push(pick.choice.subscribe(change => {\r\n          this.sendUpdate(change);\r\n        }));\r\n      });\r\n      choice.forEach(pick => {\r\n        this.pickSubs.push(pick.completed.subscribe(() => {\r\n          if (this.isComplete) this.completed.emit();\r\n\r\n          this.ref.detectChanges();\r\n          this.ref.markForCheck();\r\n        }));\r\n      });\r\n    }));\r\n    this.subscriptions.push(this.setChoices.changes.subscribe((choice: QueryList<SetExpComponent>) => {\r\n      [...this.setSubs].forEach(_ => {\r\n        this.setSubs.shift()?.unsubscribe();\r\n      });\r\n      choice.forEach(set => {\r\n        this.setSubs.push(set.choice.subscribe(change => {\r\n          this.sendUpdate(change);\r\n        }));\r\n      });\r\n    }));\r\n  }\r\n\r\n  private sendUpdate(change: Record<'add',Experience[]> & Record<'remove', Experience[]>) {\r\n    this.choice.emit(change);\r\n    if (this.isComplete) this.completed.emit();\r\n\r\n    this.ref.detectChanges();\r\n    this.ref.markForCheck();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions, ...this.orSubs, ...this.starSubs, ...this.pickSubs, ...this.setSubs].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  isOr(exp: Experience): Stat[] | undefined {\r\n    return 'Or' in exp ? exp.Or : undefined;\r\n  }\r\n\r\n  isPick(exp: Experience): { Count: number, Options: Stat[], Quantity: number } | undefined {\r\n    return 'Pick' in exp ? { ...exp.Pick, Quantity: exp.Quantity } : undefined;\r\n  }\r\n\r\n  isSet(exp: Experience): { Options: ((Stat & Partial<Record<'Limit', number>>))[], Quantity: number } | undefined {\r\n    return 'Set' in exp ? { ...exp.Set, Quantity: exp.Quantity } : undefined;\r\n  }\r\n\r\n  isStar(exp: Experience): Stat | undefined {\r\n    if ('Or' in exp) return undefined;//TODO figure out if this case is correct\r\n    if ('Pick' in exp) return undefined;//TODO figure out if this case is correct\r\n    if ('Set' in exp) return undefined;\r\n    if ('If' in exp) return undefined;\r\n    switch(exp.Kind) {\r\n      case Statistic.Attribute:\r\n        return undefined;//TODO figure out if this case is correct or even possible\r\n      case Statistic.Skill:\r\n        if ('Subskill' in exp && (exp.Subskill === '*' || exp.Subskill instanceof RegExp)) return {...exp};\r\n        if ('Speciality' in exp && exp.Speciality === '*') return {...exp};\r\n        return undefined;\r\n      case Statistic.Trait:\r\n        switch(exp.Trait) {\r\n          case Trait.Compulsion:\r\n            if ('Trigger' in exp && exp.Trigger === '*') return {...exp};\r\n            else return undefined;\r\n          default:\r\n            return undefined;\r\n        }\r\n      default:\r\n        return undefined;\r\n    }\r\n  }\r\n\r\n  isIf(exp: Experience): { exp: Experience, isActive: boolean } | undefined{\r\n    return ('If' in exp) ? { \r\n      exp: exp, \r\n      isActive: false //TODO implement this\r\n    } : undefined;\r\n  }\r\n\r\n  isStd(exp: Experience): boolean {\r\n    return !(this.isOr(exp) || this.isStar(exp) || this.isPick(exp) || this.isSet(exp) || this.isIf(exp));\r\n  }\r\n}\r\n","<ul>\r\n    <ng-container *ngFor=\"let exp of values\">\r\n        <li *ngIf=\"isOr(exp); let or\" [class.incomplete]=\"!orChoices.isComplete\">\r\n            <app-or-exp #orChoices\r\n                [options]=\"or ?? []\"\r\n                [quantity]=\"exp.Quantity\"/>\r\n        </li>\r\n        <li *ngIf=\"isStar(exp)\" [class.incomplete]=\"!starChoices.isComplete\">\r\n            <app-star-exp #starChoices\r\n                [exp]=\"exp\"/>\r\n        </li>\r\n        <ng-container *ngIf=\"isPick(exp); let pick\">\r\n            <app-pick-exp #pickChoices\r\n                [count]=\"pick!.Count\"\r\n                [options]=\"pick!.Options\"\r\n                [quantity]=\"pick!.Quantity\"\r\n                 />\r\n        </ng-container>\r\n        <ng-container *ngIf=\"isSet(exp); let set\">\r\n            <app-set-exp #setChoices\r\n                [limit]=\"set.Quantity\"\r\n                [options]=\"set.Options\"\r\n                [enlist]=\"true\" />\r\n        </ng-container>\r\n        <li *ngIf=\"isStd(exp)\">\r\n            {{ exp | exp }}\r\n        </li>\r\n    </ng-container>\r\n</ul>","import { ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, Output, ViewChild } from '@angular/core';\r\nimport { Experience, Stat } from '../common';\r\nimport { StatPipe } from '../stat.pipe';\r\n\r\n@Component({\r\n  selector: 'app-or-exp',\r\n  templateUrl: './or-exp.component.html',\r\n  styleUrls: ['./or-exp.component.scss']\r\n})\r\nexport class OrExpComponent  {\r\n  @Input({ required: true }) options!: Stat[];\r\n  @Input({ required: true }) quantity!: number;\r\n  @Input() showQuantity: boolean = true;\r\n  @Input() showLabel: boolean = true;\r\n  @Input() assignedIndex?: number;\r\n  @Input() disabledOptionIndexes: number[] = [];\r\n  \r\n  @ViewChild('or') or!: ElementRef<HTMLSelectElement>\r\n  \r\n  @Output() choice = new EventEmitter<Record<'add',Experience[]> & Record<'remove', Experience[]>>();\r\n\r\n  get selectedIndex(): number {\r\n    return this._currentIndex;\r\n  }\r\n\r\n  get selectedValue(): Stat | undefined {\r\n    return this._currentValue;\r\n  }\r\n\r\n  get disabledIndexes(): boolean[] {\r\n    return Array.from({length: this.options.length}, (_, i) => i).map(i => this.disabledOptionIndexes.includes(i));\r\n  }\r\n\r\n  readonly labelArgs: {\r\n    value: string,\r\n    index: number\r\n  } = {\r\n    value: '/',\r\n    index: 1\r\n  };\r\n\r\n  private _currentIndex = 0;\r\n  private _currentValue: Stat | undefined = undefined;\r\n\r\n  statPipe: StatPipe;\r\n  constructor(private ref: ChangeDetectorRef) {\r\n    this.statPipe = new StatPipe();\r\n  }\r\n\r\n  get experience(): Experience | undefined {\r\n    return this.selectedIndex === 0 ? undefined : { ...this.options[this.selectedIndex-1], Quantity: this.quantity}\r\n  }\r\n\r\n  get isComplete(): boolean {\r\n    return !!this.experience;\r\n  }\r\n\r\n  set selectedIndex(value: number) {\r\n    this._currentIndex = value;\r\n    this.ref.detectChanges();\r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  set selectedValue(value: Stat) {\r\n    this._currentValue = value;\r\n    this.ref.detectChanges();\r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  private lastIndex = 0;\r\n  onOrChanged(e: Event) {\r\n    const src: HTMLSelectElement = e.target as HTMLSelectElement;\r\n    this.ref.markForCheck(); \r\n    this.selectedIndex = src.selectedIndex;\r\n    this.selectedValue = this.options[this.selectedIndex-1];\r\n    this.choice.emit({\r\n      add: this.experience ? [this.experience] : [],\r\n      remove: this.lastIndex === 0 ? [] : [{ ...this.options[this.lastIndex-1], Quantity: -this.quantity}]\r\n    });\r\n\r\n    this.lastIndex = this.selectedIndex;\r\n    \r\n    const transform = this.statPipe.transform(this.selectedValue!, this.showLabel ? undefined : this.labelArgs);\r\n    this.or.nativeElement.value = transform;\r\n    src.value = transform;\r\n\r\n    this.ref.detectChanges();\r\n  }\r\n}\r\n","<span>\r\n    <select title=\"or\" #or (change)=\"onOrChanged($event)\" [required]=\"true\" [selectedIndex]=\"selectedIndex\"\r\n        [value]=\"selectedValue\">\r\n        <option hidden selected [value]=\"undefined\" class=\"incomplete\">\r\n            <!-- I have no idea whats going on here,\r\n             but sometimes the option that is selected is this one,\r\n             and not the actual selected item? -->\r\n            {{selectedValue ? (showLabel ? (options[selectedIndex - 1] | stat) : (options[selectedIndex - 1] | stat :\r\n            labelArgs )) : ' -- select an option -- '}}\r\n        </option>\r\n        <option *ngFor=\"let stat of options\" [ngValue]=\"stat\"\r\n            [value]=\"showLabel ? (stat | stat) : (stat | stat : labelArgs )\"\r\n            [disabled]=\"disabledIndexes[options.indexOf(stat)]\">\r\n            {{ showLabel ? (stat | stat) : (stat | stat : labelArgs ) }}\r\n        </option>\r\n    </select><ng-container *ngIf=\"showQuantity\"><span> {{quantity > 0 ? '+' : ''}}{{quantity}} EXP</span></ng-container>\r\n</span>","import { AfterViewInit, ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, OnInit, Output, QueryList, ViewChildren } from '@angular/core';\r\nimport { Attribute, Acrobatics, AnimalHandling, Communications, Driving, EnumMap, Experience, Gunnery, MedTech, Navigation, Piloting, Prestidigitation, SecuritySystem, Skill, Stat, Statistic, Surgery, Tactics, Technician, ThrownWeapons, Tracking, Trait } from '../common';\r\nimport { StatPipe } from '../stat.pipe';\r\nimport { Subscription } from 'rxjs';\r\nimport { StarExpComponent } from '../star-exp/star-exp.component';\r\nimport { OrExpComponent } from '../or-exp/or-exp.component';\r\n\r\n@Component({\r\n  selector: 'app-pick-exp',\r\n  templateUrl: './pick-exp.component.html',\r\n  styleUrls: ['./pick-exp.component.scss']\r\n})\r\nexport class PickExpComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  @Input({ required: true }) count!: Exclude<number, 0>;\r\n  @Input({ required: true }) options!: Stat[];\r\n  @Input({ required: true }) quantity!: number;\r\n  @Input() enlist: boolean = true;\r\n  @Input() showQuantity: boolean = true;\r\n  @Input() disabledOptionIndexes: number[] = [];\r\n\r\n  @Output() choice = new EventEmitter<Record<'add',Experience[]> & Record<'remove', Experience[]>>();\r\n  @Output() completed = new EventEmitter<never>();\r\n\r\n  @ViewChildren(StarExpComponent) starChoices!: QueryList<StarExpComponent>;\r\n  @ViewChildren(OrExpComponent) orChoices!: QueryList<OrExpComponent>;\r\n\r\n  readonly labelArgs: {\r\n    value: string,\r\n    index: number\r\n  } = {\r\n    value: '/',\r\n    index: 0\r\n  };\r\n\r\n  get isComplete(): boolean {\r\n    const subIndexes = [...(this.starChoices ?? []), ...(this.orChoices ?? [])].map<number>(component => component.assignedIndex!);\r\n    return this.indexes\r\n      .filter(index => !subIndexes.includes(index))\r\n      .reduce((sofar, index) => sofar && !!this.pickedOption[index] && !this.needsExtra(this.pickedOption[index]), true)\r\n      && [...(this.starChoices ?? []), ...(this.orChoices ?? [])].reduce((sofar, component) => sofar && component.isComplete, true);\r\n  }\r\n\r\n  get experience(): Experience[] {\r\n    const orIndex = this.indexes.filter(i => (this.orChoices ?? []).map(or => or.assignedIndex).includes(i));\r\n    const starIndex= this.indexes.filter(i => (this.starChoices ?? []).map(star => star.assignedIndex).includes(i));\r\n    const otherIndex = this.indexes.filter(i => !orIndex.includes(i) && !starIndex.includes(i));\r\n\r\n    return [\r\n      ...((this.orChoices ?? []).filter(or => orIndex.includes(or.assignedIndex ?? -1)).map<Experience[]>(or => or.experience ? [or.experience] : [])),\r\n      ...((this.starChoices ?? []).filter(star => starIndex.includes(star.assignedIndex ?? -1)).map<Experience[]>(star => star.experience ? [star.experience] : [])),\r\n      ...((otherIndex.map<Experience[]>(index => this.pickedOption[index] ? [this.asExp(this.pickedOption[index]!)] : [])))\r\n    ].flatMap(exp => exp).filter(exp => !this.needsExtra(exp));\r\n  }\r\n\r\n  get indexes(): number[] {\r\n    return [...Array(this.count).keys()]\r\n  }\r\n\r\n  _cachedSubOptions:{ [any: number]: Stat[] } = {};\r\n  get cachedSubOptions(): { [any: number]: Stat[] } {\r\n    return this._cachedSubOptions;\r\n  }\r\n  \r\n  pickedOption: { [any: number]: Stat | undefined } = {};\r\n  disabledIndexes: { [any: number]: number[] } = {};\r\n  maxPickedCounts: { [any: string]: number } = {};\r\n\r\n  private subscriptions: Subscription[] = [];\r\n  private starSubs: Subscription[] = [];\r\n  private orSubs: Subscription[] = [];\r\n\r\n  private statPipe: StatPipe;\r\n  private _precalcualted: { [any:string]: Stat[] };\r\n\r\n  constructor(private ref: ChangeDetectorRef) {\r\n    this.statPipe = new StatPipe();\r\n    this._precalcualted = {};\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions, ...this.orSubs, ...this.starSubs].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscriptions.push(this.orChoices.changes.subscribe((choice: QueryList<OrExpComponent>) => {\r\n      [...this.orSubs].forEach(_ => {\r\n        this.orSubs.shift()?.unsubscribe();\r\n      });\r\n      choice.forEach(or => {\r\n        this.orSubs.push(or.choice.subscribe(change => {\r\n          this.sendUpdate(change);\r\n        }));\r\n      });\r\n    }));\r\n    this.subscriptions.push(this.starChoices.changes.subscribe((choice: QueryList<StarExpComponent>) => {\r\n      [...this.starSubs].forEach(_ => {\r\n        this.starSubs.shift()?.unsubscribe();\r\n      });\r\n      choice.forEach(star => {\r\n        this.starSubs.push(star.choice.subscribe(change => {\r\n          this.sendUpdate(change);\r\n        }));\r\n      });\r\n    }));\r\n\r\n    this.ref.detectChanges();\r\n    this.ref.markForCheck();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.options.map(opt => JSON.stringify(opt)).forEach(opt => {\r\n      this.maxPickedCounts[opt] = opt in this.maxPickedCounts ? this.maxPickedCounts[opt] + 1 : 1;\r\n    });\r\n    this.indexes.forEach(i => {\r\n      this.pickedOption[i] = undefined;\r\n      this.disabledIndexes[i] = [...this.disabledOptionIndexes];\r\n    });\r\n\r\n    this.ref.detectChanges();\r\n    this.ref.markForCheck();\r\n  }\r\n\r\n  private sendUpdate(change: Record<'add',Experience[]> & Record<'remove', Experience[]>) {\r\n    this.ref.detectChanges();\r\n\r\n    const noneNeedExtra = change.add.length > 0 && !change.add.map((exp) => this.needsExtra(exp as Stat)).reduce((sofar, current) => sofar || current, false);\r\n    if(noneNeedExtra) {\r\n      this.choice.emit(change);\r\n    }\r\n    if (this.isComplete) this.completed.emit();\r\n\r\n    this.indexes.forEach(index => {\r\n      this.pickedOption[index] = this.pickedOption[index];\r\n    })\r\n\r\n    this.ref.markForCheck();\r\n  }\r\n\r\n  needsExtra(stat: Stat | Experience| undefined): boolean {\r\n    if (stat === undefined) return false;\r\n    if ('Quantity' in stat) {\r\n      if('Or' in stat || 'Pick' in stat || 'Set' in stat || 'If' in stat) {\r\n        return false;\r\n      }\r\n      const asStat: Stat & Partial<Experience> = { ...stat };\r\n      delete asStat.Quantity;\r\n      return this.needsExtra(asStat);\r\n    }\r\n    const transformed = this.statPipe.transform(stat);\r\n    if (transformed.slice(-1) === '/' || transformed.slice(-2) === '/*') {\r\n      switch (stat.Kind) {\r\n        case Statistic.Trait:\r\n          switch (stat.Trait) {\r\n            case Trait.Compulsion:\r\n              return 'Trigger' in stat ? stat.Trigger.length === 0 : true\r\n            case Trait.ExceptionalAttribute:\r\n              return !('Attribute' in stat);\r\n            case Trait.NaturalAptitude:\r\n              return !('Skill' in stat);\r\n            default:\r\n              return false;\r\n          }\r\n        case Statistic.Skill:\r\n          const expectSpeciality = stat.Speciality && stat.Speciality.length === 0;\r\n          switch (stat.Skill) {\r\n            case Skill.Acrobatics:\r\n            case Skill.AnimalHandling:\r\n            case Skill.Communications:\r\n            case Skill.Driving:\r\n            case Skill.Gunnery:\r\n            case Skill.MedTech:\r\n            case Skill.Navigation:\r\n            case Skill.Piloting:\r\n            case Skill.Prestidigitation:\r\n            case Skill.SecuritySystem:\r\n            case Skill.Surgery:\r\n            case Skill.Tactics:\r\n            case Skill.Technician:\r\n            case Skill.ThrownWeapons:\r\n            case Skill.Tracking:\r\n              return !('Subskill' in stat) && !expectSpeciality;\r\n            // Skills which usually have * for subskill\r\n            case Skill.Language:\r\n            case Skill.Career:\r\n            case Skill.Protocol:\r\n            case Skill.Streetwise:\r\n            case Skill.Survival:\r\n            case Skill.Art:\r\n            case Skill.Interest:\r\n              if('Subskill' in stat && stat.Subskill instanceof RegExp) return true;\r\n              return !('Subskill' in stat \r\n                      && typeof stat.Subskill === 'string' \r\n                      && stat.Subskill.length > 0 \r\n                      && stat.Subskill !== '*') \r\n                    && !expectSpeciality;\r\n            default:\r\n              return false;\r\n          }\r\n        default:\r\n          return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  extraType(stat: Stat | undefined): 'dropdown' | 'text' | 'none' {\r\n    if (!stat) return 'none';\r\n    switch (stat.Kind) {\r\n      case Statistic.Trait:\r\n        switch (stat.Trait) {\r\n          case Trait.Compulsion:\r\n            return 'text';\r\n          case Trait.ExceptionalAttribute:\r\n          case Trait.NaturalAptitude:\r\n            return 'dropdown';\r\n          default:\r\n            return 'none';\r\n        }\r\n      case Statistic.Skill:\r\n        switch (stat.Skill) {\r\n          case Skill.Acrobatics:\r\n          case Skill.AnimalHandling:\r\n          case Skill.Communications:\r\n          case Skill.Driving:\r\n          case Skill.Gunnery:\r\n          case Skill.MedTech:\r\n          case Skill.Navigation:\r\n          case Skill.Piloting:\r\n          case Skill.Prestidigitation:\r\n          case Skill.SecuritySystem:\r\n          case Skill.Surgery:\r\n          case Skill.Tactics:\r\n          case Skill.Technician:\r\n          case Skill.ThrownWeapons:\r\n          case Skill.Tracking:\r\n            return 'dropdown';\r\n          // Skills which usually have * for subskill\r\n          case Skill.Language:\r\n          case Skill.Career:\r\n          case Skill.Protocol:\r\n          case Skill.Streetwise:\r\n          case Skill.Survival:\r\n          case Skill.Art:\r\n          case Skill.Interest:\r\n          case Skill.Science:\r\n            return 'text';\r\n          default:\r\n            return 'none';\r\n        }\r\n      default:\r\n        return 'none';\r\n    }\r\n  }\r\n\r\n  asExp(stat: Stat): Experience {\r\n    const ret = { ...stat, Quantity: this.quantity };\r\n    return ret;\r\n  }\r\n\r\n  \r\n  asOpts(stat:Stat | undefined): Stat[] {\r\n    if(!stat) return [];\r\n    const json = JSON.stringify(stat)\r\n    if(json in this._precalcualted) return this._precalcualted[json];\r\n    switch (stat.Kind) {\r\n      case Statistic.Trait:\r\n        switch (stat.Trait) {\r\n          case Trait.ExceptionalAttribute:\r\n            this._precalcualted[json] = EnumMap(Attribute).map(att => { return { ...stat, Attribute: att }});\r\n            break;\r\n          case Trait.NaturalAptitude:\r\n            this._precalcualted[json] = EnumMap(Skill).map<Stat & { Kind: Statistic.Trait, Trait: Trait.NaturalAptitude, Skill: Skill }>((skill : Skill) => { return { Kind: Statistic.Trait, Trait: Trait.NaturalAptitude, Skill: skill }});\r\n            break;\r\n          default:\r\n            return [];\r\n        }\r\n        break;\r\n      case Statistic.Skill:\r\n        switch (stat.Skill) {\r\n          case Skill.Acrobatics:\r\n            return EnumMap(Acrobatics).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.AnimalHandling:\r\n            return EnumMap(AnimalHandling).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Communications:\r\n            return EnumMap(Communications).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Driving:\r\n            return EnumMap(Driving).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Gunnery:\r\n            return EnumMap(Gunnery).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.MedTech:\r\n            return EnumMap(MedTech).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Navigation:\r\n            return EnumMap(Navigation).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Piloting:\r\n            return EnumMap(Piloting).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Prestidigitation:\r\n            return EnumMap(Prestidigitation).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.SecuritySystem:\r\n            return EnumMap(SecuritySystem).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Surgery:\r\n            return EnumMap(Surgery).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Tactics:\r\n            return EnumMap(Tactics).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Technician:\r\n            return EnumMap(Technician).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.ThrownWeapons:\r\n            return EnumMap(ThrownWeapons).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Tracking:\r\n            return EnumMap(Tracking).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          default:\r\n            return [];\r\n        }\r\n      default:\r\n        return [];\r\n    }\r\n    return this._precalcualted[json];\r\n  }\r\n\r\n  onPickerChoice(e: Record<'add',Experience[]> & Record<'remove', Experience[]>, index: number) {\r\n    const added = [...e.add].map<Stat>(item => { return <Stat>{...item}});\r\n    const removed = [...e.remove].map<Stat>(item => { return <Stat>{...item}});\r\n    [...added, ...removed].forEach(item => {\r\n      if('Quantity' in item) delete item.Quantity;\r\n    });\r\n\r\n    this.pickedOption[index] = added[0];\r\n\r\n    if(this.needsExtra(this.pickedOption[index])) {\r\n      this.ref.markForCheck();\r\n      this.cachedSubOptions[index] = this.asOpts(this.pickedOption[index]);\r\n      this.ref.detectChanges();\r\n    }\r\n\r\n    this.pickedOption[index] = added[0];\r\n\r\n    const nonspecial: {\r\n      json: string,\r\n      delta: number\r\n    }[] = [];\r\n    const special: {\r\n      json: string,\r\n      delta: number\r\n    }[] = [];\r\n\r\n    const cal = (values: Stat[], delta: number): {\r\n      json: string,\r\n      delta: number\r\n    }[] => {\r\n      return values.map(value => { return {\r\n        json: JSON.stringify(value),\r\n        delta: delta\r\n      }})\r\n    };\r\n    [...cal(added, -1), ...cal(removed, 1)].forEach(item => {\r\n      switch(item.delta) {\r\n        case 1:\r\n          if(item.json in this.maxPickedCounts) {\r\n            if(this.maxPickedCounts[item.json] > 0) {\r\n              nonspecial.push(item);\r\n            } else {\r\n              special.push(item);\r\n            }\r\n          } else {\r\n            //Maybe its json for some reason?\r\n            const json = JSON.parse(item.json);\r\n            console.log('que');\r\n          }\r\n          break;\r\n        case -1:\r\n          if(item.json in this.maxPickedCounts) {\r\n            if(this.maxPickedCounts[item.json] > 1) {\r\n              nonspecial.push(item);\r\n            } else {\r\n              special.push(item);\r\n            }\r\n          } else {\r\n            console.log('wat');\r\n          }\r\n          break;\r\n        default:\r\n          throw new Error('This should not happen!');\r\n      };\r\n    });\r\n    [...nonspecial, ...special].forEach(item => this.maxPickedCounts[item.json] += item.delta);\r\n    if(special.length > 0) {\r\n      this.indexes.forEach(index => {\r\n        const choice = JSON.stringify(this.pickedOption[index]);\r\n        const filter = (key: string) => {\r\n          if(key === choice) {\r\n            return true\r\n          }\r\n          return this.maxPickedCounts[key] > 0;\r\n        }\r\n        const options = [...new Set([...Object.keys(this.maxPickedCounts)])].map(json => !filter(json))\r\n        const disabledIndexes = Array.from({length: options.length}, (_, i) => i).filter(i => options[i]);\r\n        this.disabledIndexes[index] = [...new Set([...this.disabledOptionIndexes, ...disabledIndexes])]\r\n      });\r\n    }\r\n\r\n    this.sendUpdate({\r\n      add: e.add.map(x => { return { ...x }}),\r\n      remove: e.remove.map(x => { return { ...x }}),\r\n    });\r\n  }\r\n\r\n  isIndexComplete(index: number): boolean {\r\n    const subIndexes = [...(this.starChoices ?? []), ...(this.orChoices ?? [])].filter(component => component.assignedIndex === index);\r\n    if(subIndexes.length === 0) {\r\n      return (!!this.pickedOption[index]) && (!this.needsExtra(this.pickedOption[index]));\r\n    }\r\n    return (!!this.pickedOption[index]) \r\n        && ((subIndexes.length > 0)\r\n          ? (subIndexes.reduce((sofar, current) => sofar && current.isComplete, true)) \r\n          : (true));\r\n  }\r\n}\r\n","<ng-template #body let-i>\r\n    <app-or-exp #pickerChoices\r\n        (choice)=\"onPickerChoice($event, i)\"\r\n        [options]=\"options\"\r\n        [quantity]=\"quantity\"\r\n        [showLabel]=\"true\"\r\n        [showQuantity]=\"false\"\r\n        [disabledOptionIndexes]=\"disabledIndexes[i]\"/>\r\n    <span>\r\n        <ng-container *ngIf=\"extraType(pickedOption[i]) === 'text'\">\r\n            <app-star-exp #starChoices\r\n                [assignedIndex]=\"i\"\r\n                [showLabel]=\"false\"\r\n                [showQuantity]=\"false\"\r\n                [exp]=\"asExp(pickedOption[i]!)\" />\r\n        </ng-container>\r\n        <ng-container *ngIf=\"extraType(pickedOption[i]) === 'dropdown'\">\r\n            <app-or-exp #orChoices\r\n                [assignedIndex]=\"i\"\r\n                [options]=\"cachedSubOptions[i]\"\r\n                [quantity]=\"quantity\"\r\n                [showLabel]=\"false\"\r\n                [showQuantity]=\"false\" />\r\n        </ng-container>\r\n    </span>\r\n    <ng-container *ngIf=\"showQuantity\">\r\n        {{quantity > 0 ? '+' : ''}}{{quantity}} EXP\r\n    </ng-container>\r\n</ng-template>\r\n\r\n<ng-template #listloop>\r\n    <ng-container *ngFor=\"let i of indexes\">\r\n        <li [class.incomplete]=\"!isIndexComplete(i)\">\r\n            <ng-container *ngTemplateOutlet=\"body; context: {$implicit: i}\" />\r\n        </li>\r\n    </ng-container>\r\n</ng-template>\r\n\r\n<ng-container *ngIf=\"!enlist; else listloop\">\r\n    <ng-container *ngFor=\"let i of indexes\">\r\n        <ng-container *ngTemplateOutlet=\"body; context: {$implicit: i}\" [class.incomplete]=\"!isIndexComplete(i)\" />\r\n    </ng-container>\r\n</ng-container>\r\n\r\n\r\n\r\n","import { Injectable } from '@angular/core';\nimport { Range } from 'src/app/utils/common';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RngService {\n\n  constructor() { }\n\n Roll(): Range<1, 7> {\n  return Math.round(Math.random() * 5 + 1) as Range<1, 7>;\n } \n}","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\nimport { Experience, Stat, Statistic, clamp } from '../common';\nimport { PickExpComponent } from '../pick-exp/pick-exp.component';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-set-exp',\n  templateUrl: './set-exp.component.html',\n  styleUrls: ['./set-exp.component.scss']\n})\nexport class SetExpComponent implements OnInit, OnDestroy, AfterViewInit {\n  @Input({ required: true}) limit!: Exclude<number, 0>;\n  @Input({ required: true}) options!: (Stat & { Limit?: number })[];\n  @Input() enlist: boolean = true;\n  @Input() disabledOptionIndexes: number[] = [];\n\n  @ViewChild('picker') picker!: PickExpComponent;\n  @ViewChild('speciality') speciality!: ElementRef<HTMLInputElement>;\n  @ViewChild('counter') counter!: ElementRef<HTMLInputElement>;\n  @ViewChild('recSetExp') recSetExp?: SetExpComponent;\n\n  @Output() choice = new EventEmitter<Record<'add',Experience[]> & Record<'remove', Experience[]>>();\n\n  private _propertLimit?: number;\n  get properLimit(): number {\n    return this._propertLimit ?? this.limit;\n  }\n\n  get nextDisabledOptions(): number[] {\n    const pickers = (this.picker.pickedOption[0] ? [this.picker.options.map(opt => JSON.stringify(opt)).indexOf(JSON.stringify(this.picker.pickedOption[0]))] : []).filter(i => i >= 0);\n    return [...new Set([...this.disabledOptionIndexes, ...pickers])];\n  }\n\n  set properLimit(value: number) {\n    this._propertLimit = Math.sign(this.limit) > 0 ? Math.min(this.limit, value) : Math.max(this.limit, value);\n  }\n\n  _quantity: number = 0;\n  get quantity(): number {\n    return this._quantity;\n  }\n\n  set quantity(value: number) {\n    this._quantity = clamp(value, this.min, this.max);\n    this.ref.detectChanges();\n    this.ref.markForCheck();\n\n    if(this.recSetExp) {\n      this.recsub?.unsubscribe();\n      this.recsub = undefined;\n      this.recsub = this.recSetExp.choice.subscribe(values => {\n        this.choice.emit(values);\n      });\n    }\n  }\n\n  get min(): number {\n    return Math.min(this.properLimit, Math.sign(this.properLimit));\n  }\n\n  get max(): number {\n    return Math.max(this.properLimit, Math.sign(this.properLimit));\n  }\n\n  get remaining(): number {\n    const current = this.limit - this.quantity;\n\n    return Math.sign(this.limit) > 0 ? clamp(current, 0, Math.max(this.limit, Math.sign(this.limit))) : clamp(current, Math.min(this.limit, Math.sign(this.limit)), 0);\n  }\n\n  get unspent(): number {\n    return this.remaining + (this.recSetExp?.unspent ?? 0);\n  }\n\n  get total(): number {\n    return this.quantity + (this.recSetExp?.total ?? 0);\n  }\n\n  get subtotal(): number {\n    return !!this.recSetExp ? this.total - this.quantity : 0;\n  }\n\n  get selfComplete(): boolean {\n    const validQuantity = this.quantity >= this.min && this.max >= this.quantity;\n    const pickerComplete = (this.picker?.isComplete ?? false);\n    return validQuantity && pickerComplete\n  }\n\n  get isComplete(): boolean {\n    const recursiveComplete = ((!!this.recSetExp) ? (this.recSetExp?.isComplete!) : (this.remaining === 0));\n    return this.selfComplete && recursiveComplete;\n  }\n\n  get experience(): Experience[] {\n    return [...this.picker.experience.map(exp => {\n      const skill = this.isSkill(exp);\n      const speciality = this.speciality?.nativeElement.value\n      if(skill && speciality !== undefined) return this.handleSpeciality(skill, speciality);\n      else return exp;\n    }), ...(this.recSetExp?.experience ?? [])];\n  }\n\n  private subscriptions: Subscription[] = [];\n  private recsub: Subscription | undefined;\n  constructor(private ref: ChangeDetectorRef) {\n\n  }\n\n  ngOnInit(): void {\n    this.quantity = Math.sign(this.properLimit) > 0 ? this.max : this.min;\n  }\n\n  ngAfterViewInit(): void {\n    this.subscriptions.push(\n      this.picker.choice.subscribe(changes => {\n        const value = this.hasLimit(changes.add[0]);\n        if(value) {\n          this.properLimit = value.Limit;\n          this.quantityChanged();\n        }\n        this.onChange();\n      }),\n      this.picker.completed.subscribe(() => {\n        this.onChange();\n      })\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n    this.recsub?.unsubscribe();\n  }\n\n  quantityChanged(_?:Event){\n    if(isNaN(this.counter.nativeElement.valueAsNumber)) {\n      this.ref.markForCheck();\n      this.counter.nativeElement.valueAsNumber = this.quantity;\n      this.ref.detectChanges();\n      return;\n    }\n    this.ref.markForCheck();\n    const clamped = clamp(this.counter.nativeElement.valueAsNumber, this.min, this.max);\n    this.counter.nativeElement.valueAsNumber = clamped;\n    this.quantity = clamped;\n\n  \n    if(this.total !== this.limit) {\n      const diff = this.limit - this.total;\n      if(this.recSetExp) {\n        this.recSetExp.quantity += diff\n      } else {\n        this.quantity += diff;\n      }\n    }\n    this.ref.detectChanges();\n\n    this.onChange();\n  }\n\n  private previous: Experience[] = [];\n  onChange() {\n    if(this.isComplete) this.choice.emit({\n      add: this.experience,\n      remove: this.previous\n    });\n\n    this.previous = this.experience.map(exp => { return { ...exp, Quantity: -exp.Quantity }})\n    this.ref.detectChanges();\n    this.ref.markForCheck();\n  }\n\n  isSkill(exp: Experience): (Experience & { Kind: Statistic.Skill }) | undefined {\n    if('Kind' in exp && exp.Kind === Statistic.Skill) return exp;\n    return undefined;\n  }\n\n  hasLimit(stat: Experience & { Limit?: number }): (Experience & Record<'Limit', number>) | undefined {\n    return stat.Limit !== undefined ? { ...stat, Limit: stat.Limit } : undefined\n  }\n\n  handleSpeciality(skill: (Experience & { Kind: Statistic.Skill }), speciality:string ): (Experience & { Kind: Statistic.Skill }) {\n    if('Speciality' in skill) {\n      if(speciality.length > 0) {\n        skill.Speciality = speciality;\n      } else {\n        delete skill.Speciality;\n      }\n    } else {\n      if(speciality.length > 0) {\n        Object.assign(skill, { Speciality:speciality });\n      } else {\n        //If the Speciality property is missing and we dont have an input value just return as there is nothing to do.\n      }\n    }\n    return skill;\n  }\n\n  specialityBlur(_:Event) {\n    const speciality = this.speciality.nativeElement.value;\n    const skill = this.isSkill(this.experience[0])!;\n\n    this.handleSpeciality(skill, speciality);\n\n    this.onChange();\n  }\n}\n","<ng-template #body>\r\n    <div [class.incomplete]=\"!selfComplete\">\r\n        <app-pick-exp #picker class=\"picker\"\r\n            [count]=\"1\"\r\n            [options]=\"options\"\r\n            [quantity]=\"quantity\"\r\n            [showQuantity]=\"false\"\r\n            [enlist]=\"false\"\r\n            [disabledOptionIndexes]=\"disabledOptionIndexes\"/>\r\n        <input \r\n            type=\"text\" title=\"spec\" id=\"spec\" name=\"spec\" placeholder=\"add speciality?\" class=\"speciality\"\r\n            (blur)=\"specialityBlur($event)\"\r\n            disabled\r\n            #speciality\r\n            *ngIf=\"picker.experience.length !== 0 && isSkill(picker.experience[0])\" />\r\n        <input type=\"number\" title=\"quantity\" id=\"quantity\" name=\"quantity\" placeholder=\"0\" class=\"counter\" #counter\r\n            [maxLength]=\"4\" [valueAsNumber]=\"quantity\" [min]=\"min\" \r\n            [max]=\"(picker.experience.length !== 0 && hasLimit(picker.experience[0])) ? (hasLimit(picker.experience[0])?.Limit ?? max) : max\" \r\n            (change)=\"quantityChanged($event)\"/> EXP\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template #rec>\r\n    <app-set-exp #recSetExp *ngIf=\"remaining !== 0\"\r\n        [limit]=\"remaining\"\r\n        [options]=\"options\"\r\n        [enlist]=\"enlist\"\r\n        [disabledOptionIndexes]=\"nextDisabledOptions\" />\r\n</ng-template>\r\n\r\n<ng-template #nonlist>\r\n    <ng-container *ngIf=\"quantity!==0\">\r\n        <ng-container *ngTemplateOutlet=\"body\" />\r\n        <ng-container *ngTemplateOutlet=\"rec\" />\r\n    </ng-container>\r\n</ng-template>\r\n\r\n<ng-container *ngIf=\"enlist; else nonlist\">\r\n    <ng-container *ngIf=\"quantity!==0\">\r\n        <li>\r\n            <ng-container *ngTemplateOutlet=\"body\" />\r\n        </li>\r\n        <li *ngIf=\"remaining !== 0\">\r\n            <ng-container *ngTemplateOutlet=\"rec\" />\r\n        </li>\r\n    </ng-container>\r\n</ng-container>","import { ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, Output, ViewChild } from '@angular/core';\r\nimport { Experience, Skill, Stat, Statistic, Trait } from '../common';\r\n\r\n@Component({\r\n  selector: 'app-star-exp',\r\n  templateUrl: './star-exp.component.html',\r\n  styleUrls: ['./star-exp.component.scss']\r\n})\r\nexport class StarExpComponent {\r\n  @Input({ required: true }) exp!: Experience;\r\n  @Input() showLabel: boolean = true;\r\n  @Input() showQuantity: boolean = true;\r\n  @Input() assignedIndex?: number;\r\n\r\n  @ViewChild('compulsionTrigger') compulsionTrigger!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('subskill') subskill!: ElementRef<HTMLInputElement>\r\n  @Output() choice = new EventEmitter<Record<'add',Experience[]> & Record<'remove', Experience[]>>();\r\n\r\n  get isComplete(): boolean {\r\n    if(!this.experience) return false;\r\n    if ('Or' in this.experience || 'Pick' in this.experience || 'Set' in this.experience || 'If' in this.experience) return false;\r\n    if (this.experience.Kind === Statistic.Trait && this.experience.Trait === Trait.Compulsion && ('Trigger' in this.experience)) \r\n      return  this.experience.Trigger.length > 0;\r\n    else if (this.experience.Kind === Statistic.Skill && ('Subskill' in this.experience) && typeof this.experience.Subskill === 'string') {\r\n      return this.experience.Subskill.length > 0 && this.experience.Subskill !== '*';\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  get value(): string {\r\n    if(this.trigger) return this.compulsionTrigger.nativeElement.value;\r\n    if(this.skill) return this.subskill.nativeElement.value;\r\n    return '';\r\n  }\r\n\r\n  set value(newVal: string) {\r\n    if(this.trigger) this.compulsionTrigger.nativeElement.value = newVal;\r\n    if(this.skill) this.subskill.nativeElement.value = newVal;\r\n  }\r\n\r\n  get trigger(): boolean {\r\n    if ('Or' in this.exp || 'Pick' in this.exp || 'Set' in this.exp || 'If' in this.exp) return false;\r\n    switch(this.exp.Kind) {\r\n      case Statistic.Trait:\r\n        switch(this.exp.Trait) {\r\n          case Trait.Compulsion:\r\n            return true;\r\n          default:\r\n            return false;\r\n        }\r\n      default:\r\n        return false;\r\n    }\r\n  }\r\n\r\n  get skill(): (Stat & { Kind: Statistic.Skill }) | undefined {\r\n    if ('Or' in this.exp || 'Pick' in this.exp || 'Set' in this.exp || 'If' in this.exp) return undefined;\r\n    if (this.exp.Kind !== Statistic.Skill) return undefined;\r\n    return {...this.exp};\r\n  }\r\n\r\n  get quantity(): string {\r\n    return this.exp.Quantity > 0 ? `+${this.exp.Quantity}` : `${this.exp.Quantity}`;\r\n  }\r\n\r\n  get skillName(): string {\r\n    if ('Or' in this.exp || 'Pick' in this.exp || 'Set' in this.exp || 'If' in this.exp) return '';\r\n    if (this.exp.Kind !== Statistic.Skill) return '';\r\n    return Object.values(Skill)[this.exp.Skill.valueOf()].toString().replace(/([A-Z]+)/g, ' $1').replace(/([A-Z])([A-Z])/g, '$1-$2').trim();\r\n  }\r\n\r\n  constructor(private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  compulsionBlur(e: Event) {\r\n    if ('Or' in this.exp || 'Pick' in this.exp || 'Set' in this.exp || 'If' in this.exp) return;\r\n    if (this.exp.Kind !== Statistic.Trait) return;\r\n\r\n    this.onBlur({\r\n      Kind: Statistic.Trait,\r\n      Trait: Trait.Compulsion,\r\n      Trigger: this.compulsionTrigger.nativeElement.value,\r\n      Quantity: this.exp.Quantity\r\n    });\r\n  }\r\n\r\n  subskillBlur(e: Event) {\r\n    if ('Or' in this.exp || 'Pick' in this.exp || 'Set' in this.exp || 'If' in this.exp) return;\r\n    if (this.exp.Kind !== Statistic.Skill) return;\r\n\r\n    this.onBlur({\r\n      Kind: Statistic.Skill,\r\n      Skill: this.exp.Skill,\r\n      Subskill: this.subskill.nativeElement.value.replace(/(.+)/, 'Substring' in this.exp && this.exp.Substring instanceof RegExp ? this.exp.Substring.source : '$1'),\r\n      Quantity: this.exp.Quantity\r\n    })\r\n  }\r\n\r\n  public experience: Experience | undefined = undefined;\r\n  oldExp?: Experience;\r\n  onBlur(newExp: Experience) {\r\n    if (JSON.stringify(this.oldExp) === JSON.stringify(newExp)) return;\r\n    if (this.value.length === 0) return;\r\n    this.ref.markForCheck();\r\n    this.experience = newExp;\r\n    this.choice.emit({\r\n      add: [newExp],\r\n      remove: this.oldExp ? [{...this.oldExp, Quantity: -this.oldExp}] : []\r\n    });\r\n    this.oldExp = newExp;\r\n    this.ref.detectChanges();\r\n  }\r\n}\r\n","<span *ngIf=\"trigger\">\r\n    <label *ngIf=\"showLabel\" for=\"compulsion\">Compulsion/</label>\r\n    <input id=\"compulsion\" type=\"text\"\r\n        placeholder=\"fill in a compulsion trigger...\" (blur)=\"compulsionBlur($event)\" #compulsionTrigger\r\n        [required]=\"true\" [minLength]=\"1\" />\r\n    <ng-container *ngIf=\"showQuantity\">{{quantity}} EXP</ng-container>\r\n</span>\r\n<span *ngIf=\"skill\">\r\n    <label *ngIf=\"showLabel\" for=\"skill\">{{skillName}}/</label>\r\n    <input id=\"skill\" type=\"text\"\r\n        placeholder=\"fill in a subskill...\" (blur)=\"subskillBlur($event)\" #subskill [required]=\"true\"\r\n        [minLength]=\"1\" />\r\n    <ng-container *ngIf=\"showQuantity\">{{quantity}} EXP</ng-container>\r\n</span>","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Acrobatics, AnimalHandling, Communications, Attribute, Skill, Stat, Statistic, Trait, Driving, Gunnery, MedTech, Navigation, Piloting, Prestidigitation, SecuritySystem, Surgery, Tactics, Technician, ThrownWeapons, Tracking } from './common';\r\n\r\n@Pipe({\r\n  name: 'stat'\r\n})\r\nexport class StatPipe implements PipeTransform {\r\n\r\n  transform(value: Stat | undefined, split?:{\r\n    value: string,\r\n    index: number\r\n  }): string {\r\n    if(!value) return 'undefined';\r\n\r\n    if(split) {\r\n      return this.transform(value).split(split.value)[split.index];\r\n    }\r\n\r\n    switch(value.Kind) {\r\n      case Statistic.Attribute:\r\n        const atts = Object.values(Attribute);\r\n        return atts[value.Attribute.valueOf()].toString();\r\n      case Statistic.Skill:\r\n        const skill = Object.values(Skill)[value.Skill.valueOf()].toString().replace(/([A-Z]+)/g, ' $1').replace(/([A-Z])([A-Z])/g, '$1-$2').trim();\r\n        const speciality = value.Speciality\r\n          ? `(${value.Speciality})`\r\n          : '';\r\n        const hasSubskillDefined = 'Subskill' in value;\r\n        switch(value.Skill) {\r\n          case Skill.Acrobatics:\r\n            const acrobatics = hasSubskillDefined ? Object.values(Acrobatics)[(value.Subskill as Acrobatics).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim() : '';\r\n            return `${skill}/${acrobatics} ${speciality}`.trim();\r\n          case Skill.AnimalHandling:\r\n            const animalHandling = hasSubskillDefined ? Object.values(AnimalHandling)[(value.Subskill as AnimalHandling).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim() : '';\r\n            return `${skill}/${animalHandling} ${speciality}`.trim();\r\n          case Skill.Communications:\r\n            const communications = hasSubskillDefined ? Object.values(Communications)[(value.Subskill as Communications).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim() : '';\r\n            return `${skill}/${communications} ${speciality}`.trim();\r\n          case Skill.Driving:\r\n            const driving = hasSubskillDefined ? Object.values(Driving)[(value.Subskill as Driving).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${driving} ${speciality}`.trim();\r\n          case Skill.Gunnery:\r\n            const gunnery = hasSubskillDefined ? Object.values(Gunnery)[(value.Subskill as Gunnery).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${gunnery} ${speciality}`.trim();\r\n          case Skill.MedTech:\r\n            const medTech = hasSubskillDefined ? Object.values(MedTech)[(value.Subskill as MedTech).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${medTech} ${speciality}`.trim();\r\n          case Skill.Navigation:\r\n            const navigation = hasSubskillDefined ? Object.values(Navigation)[(value.Subskill as Navigation).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${navigation} ${speciality}`.trim();\r\n          case Skill.Piloting:\r\n            const piloting = hasSubskillDefined ? Object.values(Piloting)[(value.Subskill as Piloting).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${piloting} ${speciality}`.trim();\r\n          case Skill.Prestidigitation:\r\n            const prestidigitation = hasSubskillDefined ? Object.values(Prestidigitation)[(value.Subskill as Prestidigitation).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${prestidigitation} ${speciality}`.trim();\r\n          case Skill.SecuritySystem:\r\n            const securitySystem = hasSubskillDefined ? Object.values(SecuritySystem)[(value.Subskill as SecuritySystem).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${securitySystem} ${speciality}`.trim();\r\n          case Skill.Surgery:\r\n            const surgery = hasSubskillDefined ? Object.values(Surgery)[(value.Subskill as Surgery).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${surgery} ${speciality}`.trim();\r\n          case Skill.Tactics:\r\n            const tactics = hasSubskillDefined ? Object.values(Tactics)[(value.Subskill as Tactics).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${tactics} ${speciality}`.trim();\r\n          case Skill.Technician:\r\n            const technician = hasSubskillDefined ? Object.values(Technician)[(value.Subskill as Technician).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${technician} ${speciality}`.trim();\r\n          case Skill.ThrownWeapons:\r\n            const thrownWeapons = hasSubskillDefined ? Object.values(ThrownWeapons)[(value.Subskill as ThrownWeapons).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${thrownWeapons} ${speciality}`.trim();\r\n          case Skill.Tracking:\r\n            const tracking = hasSubskillDefined ? Object.values(Tracking)[(value.Subskill as Tracking).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').replace(/([A-Z])([A-Z])/g, '$1-$2').trim() : '';\r\n            return `${skill}/${tracking} ${speciality}`.trim();\r\n          case Skill.Language:\r\n          case Skill.Career:\r\n          case Skill.Protocol:\r\n          case Skill.Streetwise:\r\n          case Skill.Survival:\r\n          case Skill.Art:\r\n          case Skill.Interest:\r\n            const requiredSubskill = 'Subskill' in value\r\n            ? `/${hasSubskillDefined ? value.Subskill : ''}`\r\n            : '/';\r\n            return `${skill}${requiredSubskill} ${speciality}`.trim();\r\n          default:\r\n            const subskill = 'Subskill' in value\r\n              ? `/${hasSubskillDefined ? value.Subskill : ''}`\r\n              : '';\r\n            return `${skill}${subskill} ${speciality}`.trim();\r\n        }\r\n      case Statistic.Trait:\r\n        const trait = Object.values(Trait)[value.Trait.valueOf()].toString().replace(/([A-Z]+)/g, ' $1').replace(/([A-Z])([A-Z])/g, '$1-$2').replace(/([I][-][D])/g, 'ID').trim();\r\n        switch(value.Trait) {\r\n          case Trait.Compulsion:\r\n            const compulstionTrigger = 'Trigger' in value ? value.Trigger : '';\r\n            return `${trait}/${compulstionTrigger}`;\r\n          case Trait.ExceptionalAttribute:\r\n            const exceptionalAttribute = 'Attribute' in value ? Object.values(Attribute)[value.Attribute] : '';\r\n            return `${trait}/${exceptionalAttribute}`;\r\n          case Trait.NaturalAptitude:\r\n            const naturalAptitude = 'Skill' in value ? Object.values(Skill)[value.Skill].toString().replace(/([A-Z]+)/g, ' $1').replace(/([A-Z])([A-Z])/g, '$1-$2').trim() : '';\r\n            return `${trait}/${naturalAptitude}`;\r\n          default: return trait;\r\n        }\r\n      default:\r\n        //Maybe its json for some reason?\r\n        let ret = 'ERROR'\r\n        try {\r\n          const json = JSON.parse(value);\r\n          ret = this.transform(json, split);\r\n        }\r\n        finally {\r\n          return ret;\r\n        }\r\n    }\r\n  }\r\n}\r\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\n\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"names":["Affiliation","constructor","founding","moduleInfo","timeline","Kind","AffiliationEvent","Founded","Update","when","update","Modified","RemoveRegion","name","citation","RegionRemoved","Name","Citation","AddRegion","subaff","RegionAdded","Subaffiliation","UpdateRegion","rename","RegionChanged","NewName","At","importantDates","Object","keys","filter","key","sort","a","b","map","date","some","event","Dissolved","reverse","latest","pop","undefined","Error","dates","activities","flatMap","shift","start","process","sofar","current","Cost","Experience","PrimaryLanguage","SecondaryLanguages","Subaffiliations","ArchtypeScore","Protocol","sub","ret","Statistic","Trait","Skill","Attribute","Book","EnumMap","Communications","AnimalHandling","AffiliationsService","Affiliations","CapellanPrimaryLanguage","Language","Subskill","CapellanSecondaryLanguages","lang","CapellanProtocol","FedSunsPrimaryLanguage","FedSunsSecondaryLanguages","FedSunsProtocol","DCProtocol","DCPrimaryLanguage","DCSecondaryLanguages","LyranPrimaryLanguage","LyranSecondaryLanguages","LyranProtocol","FWLPrimaryLanguage","FWLSecondaryLanguages","FWLProtocol","RotSProtocol","CanopianPrimaryLanguage","CanopianSecondaryLanguages","CanopianProtocol","capellan","Charisma","Quantity","Willpower","ExceptionalAttribute","Edge","Or","MartialArts","Perception","EraReport2750","Page","Patient","Reputation","Negotiation","Connections","Wealth","Intelligence","Introvert","Interest","Art","skill","Training","Citizenship","Compulsion","Trigger","BestGuess","Notes","EraReport3052","Set","EraReport3062","ATimeOfWar","FieldManual3085","EraReport3145","Survival","push","draconis","Equipped","ThickSkinned","MeleeWeapons","Riding","SmallArms","aff","factory","ɵfac","providedIn","RouterModule","routes","AppRoutingModule","forRoot","imports","i1","exports","Character","Option","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AppComponent_div_1_Template_input_click_3_listener","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","Start","AppComponent_div_2_Template_input_click_3_listener","_r6","ctx_r5","Save","ɵɵelement","ɵɵproperty","ctx_r2","character","AppComponent","ref","title","hadChar","console","log","char","vitals","characterName","Create","detectChanges","markForCheck","Load","e","File","target","files","characterChanged","ɵɵdirectiveInject","ChangeDetectorRef","selectors","viewQuery","AppComponent_Query","rf","ctx","ɵɵtemplate","AppComponent_div_1_Template","AppComponent_div_2_Template","AppComponent_Template_input_change_6_listener","$event","AppComponent_app_character_7_Template","ɵɵadvance","BrowserModule","CharacterComponent","Stage0Component","Stage1Component","Stage2Component","Stage3Component","Stage4Component","StatPipe","ExpPipe","ArchtypePipe","CitationPipe","CommonModule","FormsModule","OrExpComponent","DefaultExpComponent","AffComponent","SubaffComponent","StarExpComponent","ExpComponent","PickExpComponent","NewaffComponent","RandomLifeEventComponent","SetExpComponent","VitalsComponent","AppModule","bootstrap","declarations","Background","BackgroundEvent","Disallow","Allowed","enable","backgroundInfo","disable","Modify","events","initial","Prereq","Duration","Driving","MedTech","Navigation","Prestidigitation","Tactics","Tracking","BackgroundsService","Backgrounds","nobilityPrereqs","Array","wealth","property","Title","Property","sum","total","And","Op","Level","whiteCollarPrereqs","flexiXPStage2","quantity","Options","att","Limit","trait","Strength","Body","Reflexes","Fit","Illiterate","Toughness","Ground","Running","Wilds","Pick","Count","Dexterity","Career","IsClanner","Enemy","GlassJaw","Appraisal","Not","Stage","CombatSense","Leadership","General","Stealth","Streetwise","AnimalEmpathy","GoodHearing","Climbing","Bloodmark","Gregarious","Acting","Disguise","Infantry","Administration","Computers","stage","Subject","args","EventEmitter","Acrobatics","Gunnery","Piloting","SecuritySystem","Surgery","Technician","ThrownWeapons","ReplaySubject","ɵɵtextInterpolate1","ɵɵpipeBind1","exp_r8","ɵɵelementContainerStart","CharacterComponent_ng_container_10_span_1_Template","ɵɵelementContainerEnd","CharacterComponent_span_12_ng_container_1_Template_input_click_1_listener","_r13","ctx_r12","addRealLife","CharacterComponent_span_12_ng_container_1_Template_input_click_2_listener","ctx_r14","ctx_r9","RealLife","length","LatestStage3Or4","isComplete","CharacterComponent_span_12_ng_container_2_Template_input_click_1_listener","_r16","ctx_r15","removeRealLife","rl_r18","year","_r0","startingYearChanged","currentArchtype","ctx_r19","progress","CurrentLanguage","ctx_r20","CharacterComponent_span_12_ng_container_3_div_1_app_stage3_1_Template","CharacterComponent_span_12_ng_container_3_div_1_app_stage4_2_Template","CharacterComponent_span_12_ng_container_3_div_1_Template","ctx_r11","CharacterComponent_span_12_ng_container_1_Template","CharacterComponent_span_12_ng_container_2_Template","CharacterComponent_span_12_ng_container_3_Template","tmp_0_0","stageTwo","affYear","startingYear","ctx_r4","stageOne","affYearChanged","currentAffiliation","language","birthYearChanged","stageZero","stageThree","reduce","stageFour","last","archtypeChanged","subscriptions","stage3subs","stage4subs","characterExp","TotalExp","OrExperience","PickExperience","SetExperience","IfExperience","AttributeExperience","SkillExperience","FreeFall","Gymnastics","Herding","Archery","Artillery","BlackBox","Conventional","HyperpuseGenerator","Cryptography","Demolitions","Rail","Sea","EscapeArtist","Forgery","Aerospace","Air","Battlesuit","Mech","ProtoMech","Spacecraft","Turret","Interrogation","Investigation","Veterinary","KFJump","Space","Aircraft","Railcraft","Seacraft","VTOL","PickPocket","Quickdraw","SleightOfHand","Science","Electrical","Mechanical","SensorOperations","SupportWeapons","Swimming","Land","Aeronautics","Cybernetics","Electronics","Jets","Myomer","Nuclear","Weapons","Blades","Blunt","Spear","Urban","ZeroGOperations","TraitExperience","AlternativeID","Ambidextrous","Attractive","Trueborn","FastLearner","GTolerance","GoodVision","Implant","Prosthetic","NaturalAptitude","PainResistance","Phenotype","PoisonResistance","Rank","SixthSense","TechEmpathy","Bloodname","AnimalAntipathy","CombatParalysis","DarkSecret","Gremlins","Handicap","Impatient","InForLife","LostLimb","PoorHearing","PoorVision","SlowLearner","ThinSkinned","TDS","Unattractive","Unlucky","ExtraIncome","CustomVehicle","DesignQuirk","VehicleLevel","Mutation","processExp","exp","acrobatics","Speciality","handleanimal","communications","driving","gunnery","medtech","navigation","piloting","prestidigitation","securitysystem","surgery","tactics","technician","thrownweapons","tracking","RegExp","attribute","experience","component","affiliationExperience","forEach","atts","skills","subskill","traits","triggers","trigger","attributes","affNames","Math","floor","Requirments","orReqs","andReqs","notReqs","attributeRequirments","skillRequirments","traitRequirments","processAttReq","value","max","lower","min","upper","processSkillReq","processReq","req","source","requirments","ngAfterViewInit","alreadySubbed","changes","subscribe","unsubscribe","change","changed","complete","_","affiliationChanged","backgroundChanged","languageChanged","next","ngOnDestroy","ngOnInit","showHideItemizedExp","itemizedExp","nativeElement","unshift","index","CharacterComponent_Query","CharacterComponent_Template_input_change_8_listener","CharacterComponent_ng_container_10_Template","CharacterComponent_span_12_Template","CharacterComponent_app_stage2_13_Template","CharacterComponent_app_stage1_14_Template","_r1","yearOfBirth","Archtype","ɵɵtextInterpolate","archtype_r6","_startingYear","startingAge","_startingAge","archtypes","vals","maxBirthYear","_currentArchtype","val","targetExperience","nameChanged","emit","ageChanged","startAge","valueAsNumber","isNaN","startYearChanged","startYear","yearOfBirthChanged","birthYear","currentArchtypeChanged","archtype","selectedIndex","VitalsComponent_Query","VitalsComponent_Template_input_change_4_listener","VitalsComponent_Template_input_change_8_listener","VitalsComponent_Template_input_change_13_listener","VitalsComponent_Template_input_change_22_listener","VitalsComponent_Template_select_change_28_listener","VitalsComponent_option_32_Template","ctx_r1","affiliations","indexOf","aff_r4","currentAffiliationIndex","subaffiliations","affSubTotal","choice","completed","currentAffiliationChanged","AffComponent_Query","AffComponent_Template_select_ngModelChange_5_listener","AffComponent_Template_select_change_5_listener","AffComponent_option_9_Template","AffComponent_div_10_Template","ɵɵclassProp","tmp_7_0","ɵɵpureFunction0","_c2","affcompleted","subaffcompleted","gottenAffs","affliliationService","currentYear","exAffs","excludedAffiliations","exaff","includes","checkForComplete","subaffiliationChanged","NewaffComponent_Query","tmp_1_0","ctx_r0","subaff_r3","currentSubaffiliation","currentSubaffiliationIndex","subaffSubTotal","currentSubaffiliationChanged","SubaffComponent_Query","SubaffComponent_Template_select_ngModelChange_6_listener","SubaffComponent_Template_select_change_6_listener","SubaffComponent_option_9_Template","SubaffComponent_div_10_Template","tmp_8_0","_c1","outcome","Denominator","round","traitAndAttStats","anyStats","RandomLifeEventComponent_div_18_ng_template_2_ng_container_2_Template","RandomLifeEventComponent_div_18_ng_template_2_span_3_Template","ctx_r6","RandomLifeEventComponent_div_18_div_1_Template","RandomLifeEventComponent_div_18_ng_template_2_Template","ɵɵtemplateRefExtractor","_r5","currentRoll","setExp","acceptance","effectiveRoll","modifiers","Severity","rng","rerollCount","ATimeOfWarCompanion","setSubs","set","Roll","reroll","acceptRoll","numerator","denominator","ceil","RngService","RandomLifeEventComponent_Query","RandomLifeEventComponent_ng_container_8_Template","RandomLifeEventComponent_Template_input_click_15_listener","RandomLifeEventComponent_Template_input_click_17_listener","RandomLifeEventComponent_div_18_Template","RandomLifeEventComponent_div_19_Template","ɵɵtextInterpolate2","exp_r1","defaultExperienceCitation","defaultExperience","defaultRequirment","decls","vars","consts","template","DefaultExpComponent_Template","DefaultExpComponent_li_1_Template","Stage0Component_input_3_Template_input_click_0_listener","toggleVisibility","visible","languages","_language","default","affiliationRequirments","hasHideButton","langsel","add","newState","Stage0Component_Query","Stage0Component_input_3_Template","Stage0Component_ul_9_Template","Stage1Component_input_4_Template_input_click_0_listener","backgrounds","bkg_r7","exAff","Stage1Component_ng_container_26_Template_input_change_4_listener","_r12","changeAffChanged","Stage1Component_ng_container_26_app_newaff_11_Template","changeAffState","affChangeCitation","currentStartingYear","currentBackground","newaff","startingAffiliation","hidden","check","rle","_cache","backgroundServices","fixedBackgroundExperience","values","_fixedBkgExp","JSON","parse","stringify","currentLanguage","currentBackgroundIndex","subtotal","_currentBackgroundIndex","newaffSubs","currentBackgroundChanged","Stage1Component_Query","Stage1Component_input_4_Template","Stage1Component_Template_select_ngModelChange_13_listener","Stage1Component_Template_select_change_13_listener","Stage1Component_option_16_Template","Stage1Component_ng_container_26_Template","Stage2Component_input_4_Template_input_click_0_listener","Stage2Component_ng_container_26_Template_input_change_4_listener","Stage2Component_ng_container_26_app_newaff_11_Template","affiliation","Stage2Component_Query","Stage2Component_input_4_Template","Stage2Component_Template_select_ngModelChange_13_listener","Stage2Component_Template_select_change_13_listener","Stage2Component_option_16_Template","Stage2Component_ng_container_26_Template","EducationType","Stage3Component_input_3_Template_input_click_0_listener","_r7","bkg_r8","Basic","currentEndingYear","ctx_r10","EducationFields","edu_r17","ctx_r13","eduLvl","next_r18","edu_r23","ctx_r25","next_r27","ctx_r29","Advanced","edu_r31","Stage3Component_div_26_ng_container_37_ng_container_13_ng_container_18_Template_select_ngModelChange_2_listener","_r33","ctx_r32","educationIndex","Special","Stage3Component_div_26_ng_container_37_ng_container_13_ng_container_18_Template_select_change_2_listener","_r24","ɵɵreference","ctx_r34","EduChanged","Stage3Component_div_26_ng_container_37_ng_container_13_ng_container_18_option_6_Template","_r28","ctx_r26","fixedSpecExperience","Stage3Component_div_26_ng_container_37_ng_container_13_Template_select_change_11_listener","_r36","ctx_r35","Stage3Component_div_26_ng_container_37_ng_container_13_option_15_Template","Stage3Component_div_26_ng_container_37_ng_container_13_ng_container_18_Template","ctx_r22","ɵɵpureFunction1","_c10","Stage3Component_div_26_ng_container_37_Template_select_ngModelChange_2_listener","_r38","ctx_r37","Stage3Component_div_26_ng_container_37_Template_select_change_2_listener","ctx_r39","Stage3Component_div_26_ng_container_37_option_6_Template","Stage3Component_div_26_ng_container_37_ng_container_13_Template","_r19","excludeEduOpt","fixedAdvExperience","_r21","ctx_r42","edu_r45","ctx_r46","ctx_r48","ctx_r50","next_r53","ctx_r55","edu_r57","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_11_Template_select_ngModelChange_2_listener","_r59","ctx_r58","asEduLvl","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_11_Template_select_change_2_listener","_r49","ctx_r60","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_11_option_6_Template","_r54","ctx_r51","ctx_r62","edu_r64","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_12_Template_select_ngModelChange_2_listener","_r66","ctx_r65","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_12_Template_select_change_2_listener","ctx_r67","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_12_option_6_Template","_r61","ctx_r52","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_1_Template","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_template_2_Template","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_Template_select_change_4_listener","_r69","ctx_r68","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_option_8_Template","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_11_Template","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_12_Template","ctx_r44","_r47","ɵɵpureFunction2","_c11","Stage3Component_div_26_ng_template_38_ng_container_0_Template_select_ngModelChange_2_listener","_r71","ctx_r70","Stage3Component_div_26_ng_template_38_ng_container_0_Template_select_change_2_listener","ctx_r72","Stage3Component_div_26_ng_template_38_ng_container_0_option_6_Template","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_Template","_r41","ctx_r40","_r43","Stage3Component_div_26_ng_template_38_ng_container_0_Template","ctx_r16","Stage3Component_div_26_Template_select_ngModelChange_5_listener","_r74","ctx_r73","Stage3Component_div_26_Template_select_change_5_listener","ctx_r75","Stage3Component_div_26_option_9_Template","Stage3Component_div_26_Template_select_change_30_listener","ctx_r76","Stage3Component_div_26_option_34_Template","Stage3Component_div_26_ng_container_37_Template","Stage3Component_div_26_ng_template_38_Template","_r9","fixedBasicExperience","_r11","_r15","ctx_r78","Stage3Component_ng_container_30_Template_input_change_4_listener","_r81","ctx_r80","Stage3Component_ng_container_30_app_newaff_11_Template","nextEdu","lastEdu","firstFieldExp","secondFieldExp","edu","FixExp","_fixedBasicExp","Skills","_fixedAdvExp","eduType","_fixedSpecExp","educationService","EducationLevels","EduCitation","endingYear","basic","selected","level","newexp","lvl","toString","fields","toExclude","field","host","spec","adv","EducationService","Stage3Component_Query","Stage3Component_input_3_Template","Stage3Component_Template_select_ngModelChange_12_listener","Stage3Component_Template_select_change_12_listener","Stage3Component_option_15_Template","Stage3Component_div_26_Template","Stage3Component_ng_container_30_Template","Stage4Component_input_3_Template_input_click_0_listener","Stage4Component_ng_container_26_Template_input_change_4_listener","Stage4Component_ng_container_26_app_newaff_11_Template","backgroundService","Stage4Component_Query","Stage4Component_input_3_Template","Stage4Component_Template_select_ngModelChange_12_listener","Stage4Component_Template_select_change_12_listener","Stage4Component_option_15_Template","Stage4Component_ng_container_26_Template","Education","fieldService","Educations","asOpts","names","uniExtraReq","If","edui","partial","types","type","temp","_edu","ɵɵinject","FieldService","info","EducationEvent","RemoveField","FieldRemoved","AddField","FieldAdded","remove","Field","Fields","FieldEvent","transform","replace","trim","pure","book","v","clamp","number","CreatureTrait","CreatureSkill","PlantTrait","PlantSkill","statPipe","_r8","or_r7","_c0","_r10","pick_r12","set_r14","ExpComponent_ng_container_1_li_1_Template","ExpComponent_ng_container_1_li_2_Template","ExpComponent_ng_container_1_ng_container_3_Template","ExpComponent_ng_container_1_ng_container_4_Template","ExpComponent_ng_container_1_li_5_Template","isOr","isStar","isPick","isSet","isStd","toCheck","orChoices","starChoices","pickChoices","setChoices","orSubs","starSubs","pickSubs","or","sendUpdate","star","pick","isIf","isActive","ExpComponent_Query","ExpComponent_ng_container_1_Template","stat_r3","showLabel","ɵɵpipeBind2","labelArgs","disabledIndexes","options","_currentIndex","selectedValue","_currentValue","from","i","disabledOptionIndexes","showQuantity","lastIndex","onOrChanged","src","OrExpComponent_Query","OrExpComponent_Template_select_change_1_listener","OrExpComponent_option_7_Template","OrExpComponent_ng_container_8_Template","i_r5","ctx_r7","asExp","pickedOption","ctx_r8","cachedSubOptions","PickExpComponent_ng_template_0_Template_app_or_exp_choice_0_listener","restoredCtx","$implicit","onPickerChoice","PickExpComponent_ng_template_0_ng_container_3_Template","PickExpComponent_ng_template_0_ng_container_4_Template","PickExpComponent_ng_template_0_ng_container_5_Template","extraType","ɵɵelementContainer","PickExpComponent_ng_template_2_ng_container_0_ng_container_2_Template","isIndexComplete","i_r17","PickExpComponent_ng_template_2_ng_container_0_Template","indexes","ctx_r21","i_r20","PickExpComponent_ng_container_4_ng_container_1_ng_container_1_Template","PickExpComponent_ng_container_4_ng_container_1_Template","subIndexes","assignedIndex","needsExtra","orIndex","starIndex","otherIndex","count","_cachedSubOptions","enlist","maxPickedCounts","_precalcualted","opt","noneNeedExtra","stat","asStat","transformed","slice","expectSpeciality","json","added","item","removed","nonspecial","special","cal","delta","x","PickExpComponent_Query","PickExpComponent_ng_template_0_Template","PickExpComponent_ng_template_2_Template","PickExpComponent_ng_container_4_Template","_r2","random","SetExpComponent_ng_template_0_input_3_Template_input_blur_0_listener","specialityBlur","SetExpComponent_ng_template_0_input_3_Template","SetExpComponent_ng_template_0_Template_input_change_4_listener","_r14","quantityChanged","selfComplete","isSkill","hasLimit","tmp_11_0","remaining","nextDisabledOptions","SetExpComponent_ng_template_2_app_set_exp_0_Template","SetExpComponent_ng_template_4_ng_container_0_ng_container_1_Template","SetExpComponent_ng_template_4_ng_container_0_ng_container_2_Template","SetExpComponent_ng_template_4_ng_container_0_Template","SetExpComponent_ng_container_6_ng_container_1_li_3_ng_container_1_Template","SetExpComponent_ng_container_6_ng_container_1_ng_container_2_Template","SetExpComponent_ng_container_6_ng_container_1_li_3_Template","SetExpComponent_ng_container_6_ng_container_1_Template","properLimit","_propertLimit","limit","pickers","picker","sign","_quantity","recSetExp","recsub","unspent","validQuantity","pickerComplete","recursiveComplete","speciality","handleSpeciality","previous","onChange","counter","clamped","diff","assign","SetExpComponent_Query","SetExpComponent_ng_template_0_Template","SetExpComponent_ng_template_2_Template","SetExpComponent_ng_template_4_Template","SetExpComponent_ng_container_6_Template","styles","StarExpComponent_span_0_label_1_Template","StarExpComponent_span_0_Template_input_blur_2_listener","compulsionBlur","StarExpComponent_span_0_ng_container_4_Template","skillName","StarExpComponent_span_1_label_1_Template","StarExpComponent_span_1_Template_input_blur_2_listener","subskillBlur","StarExpComponent_span_1_ng_container_4_Template","compulsionTrigger","newVal","valueOf","onBlur","Substring","newExp","oldExp","StarExpComponent_Query","StarExpComponent_span_0_Template","StarExpComponent_span_1_Template","split","hasSubskillDefined","animalHandling","medTech","securitySystem","thrownWeapons","requiredSubskill","compulstionTrigger","exceptionalAttribute","naturalAptitude","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","err","error"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}