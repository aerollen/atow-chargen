{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/affiliation/affiliation.ts","./src/app/affiliation/affiliations.service.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/background/background.ts","./src/app/background/backgrounds.service.ts","./src/app/character/character.ts","./src/app/chargen/character/character.component.ts","./src/app/chargen/character/character.component.html","./src/app/chargen/character/vitals/vitals.component.ts","./src/app/chargen/character/vitals/vitals.component.html","./src/app/chargen/stages/newaff/aff/aff.component.ts","./src/app/chargen/stages/newaff/aff/aff.component.html","./src/app/chargen/stages/newaff/newaff.component.ts","./src/app/chargen/stages/newaff/newaff.component.html","./src/app/chargen/stages/newaff/subaff/subaff.component.ts","./src/app/chargen/stages/newaff/subaff/subaff.component.html","./src/app/chargen/stages/random-life-event/random-life-event.component.ts","./src/app/chargen/stages/random-life-event/random-life-event.component.html","./src/app/chargen/stages/stage0/default-exp/default-exp.component.ts","./src/app/chargen/stages/stage0/default-exp/default-exp.component.html","./src/app/chargen/stages/stage0/stage0.component.ts","./src/app/chargen/stages/stage0/stage0.component.html","./src/app/chargen/stages/stage1/stage1.component.ts","./src/app/chargen/stages/stage1/stage1.component.html","./src/app/chargen/stages/stage2/stage2.component.ts","./src/app/chargen/stages/stage2/stage2.component.html","./src/app/chargen/stages/stage3/stage3.component.ts","./src/app/chargen/stages/stage3/stage3.component.html","./src/app/chargen/stages/stage4/stage4.component.ts","./src/app/chargen/stages/stage4/stage4.component.html","./src/app/education/education.service.ts","./src/app/education/education.ts","./src/app/education/field.service.ts","./src/app/education/field.ts","./src/app/utils/archtype.pipe.ts","./src/app/utils/citation.pipe.ts","./src/app/utils/common.ts","./src/app/utils/exp.pipe.ts","./src/app/utils/exp/exp.component.ts","./src/app/utils/exp/exp.component.html","./src/app/utils/or-exp/or-exp.component.ts","./src/app/utils/or-exp/or-exp.component.html","./src/app/utils/pick-exp/pick-exp.component.ts","./src/app/utils/pick-exp/pick-exp.component.html","./src/app/utils/rng.service.ts","./src/app/utils/set-exp/set-exp.component.ts","./src/app/utils/set-exp/set-exp.component.html","./src/app/utils/star-exp/star-exp.component.ts","./src/app/utils/star-exp/star-exp.component.html","./src/app/utils/stat.pipe.ts","./src/main.ts"],"sourcesContent":["import { Citation, Eternal, Experience, Skill, Stat, Statistic, Archtype } from \"../utils/common\";\r\n\r\nexport class Affiliation {\r\n    private timeline: {\r\n        [Date in Eternal]?: Array<(Record<'Kind', AffiliationEvent> & Partial<{\r\n            Subaffiliation: Partial<Subaffiliation> & Pick<Subaffiliation, 'Name'>,\r\n            NewName?: string\r\n        } & AffiliationInfo>)>\r\n    } = {}\r\n\r\n    constructor(\r\n        private founding: number,\r\n        private moduleInfo: AffiliationInfo) {\r\n        this.timeline[(founding - 2398) as Eternal] = [{\r\n            Kind: AffiliationEvent.Founded,\r\n            ...moduleInfo\r\n        }];\r\n    }\r\n\r\n    public Update(when: number, update:Partial<AffiliationInfo>): Affiliation {\r\n        this.timeline[(when-2398) as Eternal] = [...(this.timeline[(when-2398) as Eternal] ?? []), {\r\n            Kind: AffiliationEvent.Modified,\r\n            ...update\r\n        }];\r\n        return this;\r\n    }\r\n\r\n    public RemoveRegion(when: number, name: string, citation?: Citation): Affiliation {\r\n        this.timeline[(when-2398) as Eternal] = [...(this.timeline[(when-2398) as Eternal] ?? []), {\r\n            Kind: AffiliationEvent.RegionRemoved,\r\n            Name: name,\r\n            Citation: citation\r\n        }];\r\n        return this;\r\n    }\r\n\r\n    public AddRegion(when: number, subaff: Subaffiliation): Affiliation {\r\n        this.timeline[(when-2398) as Eternal] = [...(this.timeline[(when-2398) as Eternal] ?? []), {\r\n            Kind: AffiliationEvent.RegionAdded,\r\n            Subaffiliation: subaff\r\n        }];\r\n        return this;\r\n    }\r\n\r\n    public UpdateRegion(when: number, update: (Partial<Subaffiliation> & Pick<Subaffiliation, 'Name'>), rename?: string): Affiliation {\r\n        this.timeline[(when-2398) as Eternal] = [...(this.timeline[(when-2398) as Eternal] ?? []), {\r\n            Kind: AffiliationEvent.RegionChanged,\r\n            Subaffiliation: update,\r\n            NewName: rename\r\n        }];\r\n        return this;\r\n    }\r\n\r\n    public At(when: Eternal): (AffiliationInfo & Record<'Subaffiliations', Subaffiliation[]>) | undefined {\r\n        const importantDates = Object.keys(this.timeline)\r\n            .filter(key => (+key) <= when)\r\n            .sort((a, b) => (+a) - (+b))\r\n            .map(key => (+key) as Eternal)\r\n            .filter(date => \r\n                this.timeline[date]?.some(event => \r\n                    event.Kind === AffiliationEvent.Founded || event.Kind === AffiliationEvent.Dissolved))\r\n            .reverse();\r\n        \r\n        const latest = importantDates.pop();\r\n        if(latest === undefined) throw new Error(); //this means dates is empty and latest is undefined, which means there is no defined founding, which is bad.\r\n        if(!(this.timeline[latest]?.some(date => date.Kind === AffiliationEvent.Founded || date.Kind === AffiliationEvent.Modified))) {\r\n            //this means that the most recent affiliation event is that it dissolved, which means if that date is before now (which it must be because above) then there is no affiliation to return\r\n            return undefined;\r\n        }\r\n\r\n        //build the affiliation between 'latest' and 'when'\r\n        const dates = Object.keys(this.timeline)\r\n            .filter(key => (+key) >= latest && (+key) <= when)\r\n            .sort((a, b) => (+a) - (+b))\r\n            .map(key => (+key) as Eternal);\r\n        \r\n        //this is the actual data, just unprocssed\r\n        const activities = dates.flatMap(date => this.timeline[date]?.filter(event => event.Kind === AffiliationEvent.RegionAdded || event.Kind === AffiliationEvent.RegionChanged || event.Kind === AffiliationEvent.RegionRemoved || event.Kind === AffiliationEvent.Modified ))\r\n        const founding = [...dates].shift();\r\n        if(founding === undefined) throw new Error();\r\n        const start = this.timeline[founding]?.filter(date => date.Kind === AffiliationEvent.Founded)[0];\r\n\r\n        const process = (sofar: ReturnType<typeof this.At>): ReturnType<typeof this.At> => {\r\n            const current = activities.shift();\r\n            if(!current) return sofar;\r\n\r\n            switch(current.Kind) {\r\n                case AffiliationEvent.Founded:\r\n                    return process(sofar);\r\n                case AffiliationEvent.Dissolved:\r\n                    return undefined;\r\n                case AffiliationEvent.Modified:\r\n                    return process({\r\n                        Name: current.Name ?? sofar?.Name,\r\n                        Cost: current.Cost ?? sofar?.Cost,\r\n                        Experience: current.Experience ?? sofar?.Experience,\r\n                        PrimaryLanguage: current.PrimaryLanguage ?? sofar?.PrimaryLanguage,\r\n                        SecondaryLanguages: current.SecondaryLanguages ?? sofar?.SecondaryLanguages,\r\n                        Subaffiliations: sofar?.Subaffiliations ?? [],\r\n                        Citation: current.Citation ?? sofar?.Citation,\r\n                        ArchtypeScore: { ...sofar?.ArchtypeScore, ...current.ArchtypeScore },\r\n                        Protocol: current.Protocol ?? sofar?.Protocol,\r\n                    } as ReturnType<typeof this.At>)\r\n                case AffiliationEvent.RegionAdded:\r\n                    return process({\r\n                        Name: sofar?.Name,\r\n                        Cost: sofar?.Cost,\r\n                        Experience: sofar?.Experience,\r\n                        PrimaryLanguage: sofar?.PrimaryLanguage,\r\n                        SecondaryLanguages: sofar?.SecondaryLanguages,\r\n                        Subaffiliations: [...(sofar?.Subaffiliations ?? []), current.Subaffiliation],\r\n                        Citation: current.Citation ?? sofar?.Citation,\r\n                        ArchtypeScore: { ...sofar?.ArchtypeScore, ...current.ArchtypeScore },\r\n                        Protocol: sofar?.Protocol\r\n                    } as ReturnType<typeof this.At>);\r\n                case AffiliationEvent.RegionRemoved:\r\n                    return process({\r\n                        Name: sofar?.Name,\r\n                        Cost: sofar?.Cost,\r\n                        Experience: sofar?.Experience,\r\n                        PrimaryLanguage: sofar?.PrimaryLanguage,\r\n                        SecondaryLanguages: sofar?.SecondaryLanguages,\r\n                        Subaffiliations: sofar?.Subaffiliations.filter(sub => sub.Name !== current.Name) ?? [],\r\n                        Citation: current.Citation ?? sofar?.Citation,\r\n                        ArchtypeScore: { ...sofar?.ArchtypeScore, ...current.ArchtypeScore },\r\n                        Protocol: sofar?.Protocol\r\n                    } as ReturnType<typeof this.At>);\r\n                case AffiliationEvent.RegionChanged:\r\n                    return process({\r\n                        Name: current.Name ?? sofar?.Name,\r\n                        Cost: current.Cost ?? sofar?.Cost,\r\n                        Experience: current.Experience ?? sofar?.Experience,\r\n                        PrimaryLanguage: sofar?.PrimaryLanguage,\r\n                        SecondaryLanguages: sofar?.SecondaryLanguages,\r\n                        Subaffiliations: [...[...sofar?.Subaffiliations.filter(sub => sub.Name !== current.Subaffiliation?.Name) ?? []], { ...current.Subaffiliation, Name: current.NewName ?? current.Subaffiliation?.Name }],\r\n                        Citation: current.Citation ?? sofar?.Citation,\r\n                        ArchtypeScore: { ...sofar?.ArchtypeScore, ...current.ArchtypeScore },\r\n                        Protocol: sofar?.Protocol\r\n                    } as ReturnType<typeof this.At>)\r\n            }\r\n        }\r\n\r\n        const ret = process({ \r\n            Name: start!.Name,\r\n            Cost: start!.Cost, \r\n            Experience: start!.Experience,\r\n            PrimaryLanguage: start!.PrimaryLanguage,\r\n            SecondaryLanguages: start!.SecondaryLanguages,\r\n            Subaffiliations: [],\r\n            Citation: start!.Citation!,\r\n            ArchtypeScore: start?.ArchtypeScore,\r\n            Protocol: start!.Protocol\r\n        } as ReturnType<typeof this.At>);\r\n        return ret;\r\n    }\r\n}\r\n\r\nexport type AffiliationInfo = {\r\n    Name: string,\r\n    Cost: number,\r\n    Experience: Experience[],\r\n    PrimaryLanguage: Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string },\r\n    SecondaryLanguages: Array<Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string }>,\r\n    Citation: Citation,\r\n    ArchtypeScore?: Partial<{ [archtype in Archtype]: number }>\r\n    Protocol: Stat & { Skill: Skill.Protocol, Kind: Statistic.Skill, Subskill: string }\r\n}\r\n\r\nexport type Subaffiliation = Omit<AffiliationInfo, 'Cost' | 'PrimaryLanguage' | 'SecondaryLanguages' | 'Protocol'> & Partial<Pick<AffiliationInfo, 'Cost'>>;\r\n\r\nenum AffiliationEvent {\r\n    'Founded', 'Dissolved', 'RegionAdded', 'RegionRemoved', 'RegionChanged', 'Modified'\r\n}\r\n","import { Affiliation, AffiliationInfo, Subaffiliation } from './affiliation';\r\nimport { Statistic, Trait, Skill, Attribute, Stat, Eternal, Book, EnumMap, Communications, AnimalHandling } from '../utils/common';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AffiliationsService {\r\n  Affiliations: Affiliation[] = []\r\n  constructor() { \r\n    const CapellanPrimaryLanguage: Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Language,\r\n      Subskill: 'Mandarin Chinese',\r\n      Kind: Statistic.Skill };\r\n    const CapellanSecondaryLanguages: (Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string })[] = \r\n      ['Russian', 'Cantonese', 'Vietnamese', 'English'].map(lang => { return {\r\n        Skill: Skill.Language,\r\n        Subskill: lang,\r\n        Kind: Statistic.Skill }});\r\n    const CapellanProtocol:  Stat & { Skill: Skill.Protocol, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Protocol,\r\n      Subskill: 'Capellan',\r\n      Kind: Statistic.Skill };\r\n\r\n    const FedSunsPrimaryLanguage: Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Language,\r\n      Subskill: 'TODO',\r\n      Kind: Statistic.Skill };\r\n    const FedSunsSecondaryLanguages: (Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string })[] = \r\n      [].map(lang => { return {\r\n        Skill: Skill.Language,\r\n        Subskill: lang,\r\n        Kind: Statistic.Skill }});\r\n    const FedSunsProtocol:  Stat & { Skill: Skill.Protocol, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Protocol,\r\n      Subskill: 'FedSuns',\r\n      Kind: Statistic.Skill };\r\n\r\n    const DCProtocol:  Stat & { Skill: Skill.Protocol, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Protocol,\r\n      Subskill: 'Combine',\r\n      Kind: Statistic.Skill };\r\n    const DCPrimaryLanguage: Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Language,\r\n      Subskill: 'Japanese',\r\n      Kind: Statistic.Skill };\r\n    const DCSecondaryLanguages: (Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string })[] = \r\n      ['English', 'Swedenese', 'Arabic'].map(lang => { return {\r\n        Skill: Skill.Language,\r\n        Subskill: lang,\r\n        Kind: Statistic.Skill }});\r\n\r\n    const LyranPrimaryLanguage: Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Language,\r\n      Subskill: 'TODO',\r\n      Kind: Statistic.Skill };\r\n    const LyranSecondaryLanguages: (Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string })[] = \r\n      [].map(lang => { return {\r\n        Skill: Skill.Language,\r\n        Subskill: lang,\r\n        Kind: Statistic.Skill }});\r\n    const LyranProtocol:  Stat & { Skill: Skill.Protocol, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Protocol,\r\n      Subskill: 'Lyran',\r\n      Kind: Statistic.Skill };\r\n\r\n    const FWLPrimaryLanguage: Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Language,\r\n      Subskill: 'TODO',\r\n      Kind: Statistic.Skill };\r\n    const FWLSecondaryLanguages: (Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string })[] = \r\n      [].map(lang => { return {\r\n        Skill: Skill.Language,\r\n        Subskill: lang,\r\n        Kind: Statistic.Skill }});\r\n    const FWLProtocol:  Stat & { Skill: Skill.Protocol, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Protocol,\r\n      Subskill: 'FWL',\r\n      Kind: Statistic.Skill };\r\n\r\n    const RotSProtocol:  Stat & { Skill: Skill.Protocol, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Protocol,\r\n      Subskill: 'Repub. o/t Sphere',\r\n      Kind: Statistic.Skill };\r\n\r\n    const CanopianPrimaryLanguage: Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Language,\r\n      Subskill: 'TODO',\r\n      Kind: Statistic.Skill };\r\n    const CanopianSecondaryLanguages: (Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string })[] = \r\n      [].map(lang => { return {\r\n        Skill: Skill.Language,\r\n        Subskill: lang,\r\n        Kind: Statistic.Skill }});\r\n    const CanopianProtocol:  Stat & { Skill: Skill.Protocol, Kind: Statistic.Skill, Subskill: string } = {\r\n      Skill: Skill.Protocol,\r\n      Subskill: 'Canopian',\r\n      Kind: Statistic.Skill }\r\n\r\n    const capellan = new Affiliation(2398, { Name: 'Capellan Confideration',\r\n      Cost: 150,\r\n      PrimaryLanguage: CapellanPrimaryLanguage,\r\n      SecondaryLanguages: CapellanSecondaryLanguages,\r\n      Protocol: CapellanProtocol,\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Quantity: -100 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.ExceptionalAttribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 15 },\r\n        { ...CapellanProtocol, Quantity: 15 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name:'Andurien Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 }, \r\n        { Kind: Statistic.Trait, Trait: Trait.Patient, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -75 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 20 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 25 },\r\n        { ...CapellanProtocol, Quantity: 15 },\r\n        { ...FWLProtocol, Quantity: 15 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name: 'Capella Commonality',\r\n      Experience:  [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 55 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 10 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 10 },\r\n        { Or: ['Russian', 'English'].map<Stat>(lang => { return { Kind:Statistic.Skill, Skill: Skill.Language, Subskill: lang }}), Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 20 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name: 'Chesterson Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 45 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Introvert, Quantity: -25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -50 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: 'Russian', Quantity: 15 },\r\n        { Or: [ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages ], Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: 'Chesterton History', Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 20 },\r\n        { ...CapellanProtocol, Quantity: 20 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name: 'St. Ives Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 25 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: '*', Quantity: 10 },\r\n        { Or: EnumMap(Communications).map(skill => { return { Kind: Statistic.Skill, Skill: Skill.Communications, Subskill: skill }}), Quantity: 15 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 10 },\r\n        { Or: [ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages ], Quantity: 25 },\r\n        { ...CapellanProtocol, Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Training, Quantity: 25 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name: 'Sarna Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 10 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: 'Capellan History', Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 10 },\r\n        { ...CapellanProtocol, Quantity: 5 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name: 'Sian Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 85 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of Non-Capellans', Quantity: -125 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 40 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: 'Capellan History', Quantity: 20 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 10 },\r\n        { ...CapellanProtocol, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name: 'Tikonov Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 25 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Introvert, Quantity: -25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -50 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: 'Russian', Quantity: 50 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: 'Tikonov History', Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 20 },\r\n        { ...CapellanProtocol, Quantity: 20 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).RemoveRegion(2898, 'Andurien Commonality', {\r\n      Book: Book.BestGuess,\r\n      Page: 0,\r\n      Notes: ['This is a best guess from data I could figure on sarna.net']\r\n    }).RemoveRegion(3028, 'Liao Commonality', {\r\n        Book: Book.EraReport3052,\r\n        Page: 158\r\n    }).UpdateRegion(3028, { Name: 'St. Ives Commonality',\r\n      Cost: 125,\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger:'Paranoia', Quantity: 100 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -100 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 55 },\r\n        { Or: [ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages ], Quantity: 15 },\r\n        { ...CapellanProtocol, Quantity: -15 },\r\n        { ...FedSunsProtocol, Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: '*', Quantity: 5 }],\r\n      Citation: {\r\n        Book: Book.EraReport3052,\r\n        Page: 158\r\n      }}, 'St. Ives Compact'\r\n    ).RemoveRegion(3040, 'Chesterson Commonality', {\r\n      Book: Book.BestGuess,\r\n      Page: 0,\r\n      Notes: ['This is a best guess from data I could figure on sarna.net']\r\n    });\r\n    capellan.Update(3052, {\r\n        Cost: 100,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75 },\r\n          { Kind: Statistic.Trait, Trait: Trait.ExceptionalAttribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Paranoia', Quantity: -150 },\r\n          { Or: CapellanSecondaryLanguages, Quantity: 20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 15 },\r\n          { ...CapellanProtocol, Quantity: 15 }],\r\n        Citation: {\r\n          Book: Book.EraReport3052,\r\n          Page: 158 }\r\n    }).UpdateRegion(3052, { Name: 'Capella Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3052,\r\n        Page: 158 }\r\n    }).UpdateRegion(3052, { Name: 'Sian Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 100 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger:'Hatred of Non-Capellans', Quantity: -175 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 30 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill:'Capellan History', Quantity: 30 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 15 },\r\n        { ...CapellanProtocol, Quantity: 15 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3052,\r\n        Page: 158 }\r\n    }).AddRegion(3057, { Name: 'Liao Commonality',\r\n      Cost: 125,\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 50 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger:'Paranoia', Quantity: -50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -50 },\r\n        { Or: [...new Set([ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages, LyranPrimaryLanguage, ...LyranSecondaryLanguages ])], Quantity: 25 },\r\n        { Or: [FedSunsProtocol, LyranProtocol], Quantity: 20 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: '*', Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 15 }],\r\n      Citation: {\r\n        Book: Book.EraReport3062,\r\n        Page: 152 }\r\n    });\r\n    capellan.Update(3062, {\r\n      Cost: 125,\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75 },\r\n        { Kind: Statistic.Trait, Trait: Trait.ExceptionalAttribute, Attribute: Attribute.Edge, Quantity: 75 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Paranoia', Quantity: -150 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 20 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 15 },\r\n        { ...CapellanProtocol, Quantity: 15 }],\r\n      Citation: {\r\n        Book: Book.EraReport3062,\r\n        Page: 152 }\r\n    }).RemoveRegion(3062, 'St. Ives Compact', {\r\n      Book: Book.EraReport3062,\r\n      Page: 152,\r\n    }).UpdateRegion(3062, { Name: 'Capella Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 55 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 10 },\r\n        { Or: [ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages ], Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 5 }],\r\n      Citation: {\r\n        Book: Book.EraReport3062,\r\n        Page: 152 }\r\n    }).UpdateRegion(3062, { Name: 'Sian Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 85 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger:'Hatred of Non-Capellans', Quantity: -155 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 40 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill:'Capellan History', Quantity: 20 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 10 },\r\n        { ...CapellanProtocol, Quantity: 15 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3062,\r\n        Page: 152\r\n      }\r\n    }).AddRegion(3062, { Name: 'Victoria Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 35 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -50 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '*', Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 15 }],\r\n      Citation: {\r\n        Book: Book.EraReport3062,\r\n        Page: 152 }\r\n    });\r\n    capellan.Update(3076, {\r\n      Cost: 150,\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.ExceptionalAttribute, Attribute: Attribute.Edge, Quantity: 100 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Paranoia', Quantity: -100 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 10 },\r\n        { ...CapellanProtocol, Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 5 }],\r\n      Citation: {\r\n        Book: Book.ATimeOfWar,\r\n        Page: 54 }\r\n    }).UpdateRegion(3076, { Name: 'Capella Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 15 },\r\n        { Or: [ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages ], Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 5 }],\r\n      Citation: {\r\n        Book: Book.ATimeOfWar,\r\n        Page: 54 }\r\n    }).UpdateRegion(3076, { Name: 'Liao Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -25 },\r\n        { Or: [...new Set([ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages, LyranPrimaryLanguage, ...LyranSecondaryLanguages ])], Quantity: 15 },\r\n        { Or: [FedSunsProtocol, LyranProtocol], Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: '*', Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 15 }],\r\n      Citation: {\r\n        Book: Book.ATimeOfWar,\r\n        Page: 54 }\r\n    }).UpdateRegion(3076, { Name: 'Sian Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of FedSuns', Quantity: -135 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 50 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill:'Capellan History', Quantity: 10 },\r\n        { ...CapellanProtocol, Quantity:15 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.ATimeOfWar,\r\n        Page: 54 }\r\n    }).AddRegion(3076, { Name: 'St. Ives Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -100 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 50 },\r\n        { Or: [FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages], Quantity: 15 },\r\n        { ...CapellanProtocol, Quantity: -15 },\r\n        { ...FedSunsProtocol, Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: '*', Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.ATimeOfWar,\r\n        Page: 54 }\r\n    }).UpdateRegion(3076, { Name: 'Victoria Commonality',\r\n    Experience: [\r\n      { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 35 },\r\n      { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 50 },\r\n      { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -50 },\r\n\r\n      { Kind: Statistic.Skill, Skill: Skill.Language, Subskill:'*', Quantity: 15 },\r\n      { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 },\r\n      { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 15 }],\r\n    Citation: {\r\n      Book: Book.ATimeOfWar,\r\n      Page: 54}\r\n    }).UpdateRegion(3085, { Name: 'Capella Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.FieldManual3085,\r\n        Page: 233,\r\n        Notes: [\"Book uses name 'Capellan Commonality'\"] }\r\n    }).RemoveRegion(3085, 'Sarna Commonality',{\r\n      Book: Book.FieldManual3085,\r\n      Page: 233\r\n    }).UpdateRegion(3085, { Name: 'Liao Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 50 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 15 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: \"Hatred of the Republic of the Sphere\", Quantity: -50 },\r\n        { Or: [...new Set([ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages, \r\n                            LyranPrimaryLanguage, ...LyranSecondaryLanguages,\r\n                            FWLPrimaryLanguage, ...FWLSecondaryLanguages  ])], Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 20 }],\r\n      Citation: {\r\n        Book: Book.FieldManual3085,\r\n        Page: 233 }\r\n    }, 'Sarna Commonality'\r\n    ).UpdateRegion(3085, { Name: 'Sian Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of FedSuns', Quantity: -75 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of Republic of the Sphere', Quantity: -60 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 50 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill:'Capellan History', Quantity: 10 },\r\n        { ...CapellanProtocol, Quantity:15 },\r\n        { Or: CapellanSecondaryLanguages, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.FieldManual3085,\r\n        Page: 233 }\r\n    }).UpdateRegion(3085, { Name: 'St. Ives Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of FedSuns', Quantity: -50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -10 },\r\n        { Or: [ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages ], Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Art, Subskill:'*', Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.FieldManual3085,\r\n        Page: 233 }\r\n    }).AddRegion(3135, { Name: 'Chesterton Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 15 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 15 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 15 },\r\n        { Or: FedSunsSecondaryLanguages, Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 },\r\n        { Or: [CapellanProtocol, RotSProtocol], Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3145,\r\n        Page: 184,\r\n        Notes: [\"also see pg. 185\"] }\r\n    }).UpdateRegion(3135, { Name: 'Tikonov Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 10 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 20 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 20 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: 'Russian', Quantity: 15 },\r\n        { Or: [CapellanProtocol, RotSProtocol], Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3145,\r\n        Page: 184,\r\n        Notes: [\"also see pg. 185\"] }\r\n    }).UpdateRegion(3145, { Name: 'Capella Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 20 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 10 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 20 },\r\n        { Or: ['Russian', 'English'].map<Stat>(lang => { return { Kind:Statistic.Skill, Skill: Skill.Language, Subskill: lang }}), Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 },\r\n        { Or: [CapellanProtocol, RotSProtocol], Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3145,\r\n        Page: 184,\r\n        Notes: [\"Book uses name 'Capellan Commonality'\"] }\r\n    }).UpdateRegion(3145, { Name: 'Sarna Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 50 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 20 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of Republic of the Sphere', Quantity: -50 },\r\n        { Or: [...new Set([ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages, \r\n                            FWLPrimaryLanguage, ...FWLSecondaryLanguages  ])], Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 20 }],\r\n      Citation: {\r\n        Book: Book.EraReport3145,\r\n        Page: 184 }\r\n    }).UpdateRegion(3145, { Name: 'Sian Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of FedSuns', Quantity: -50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of Republic of the Sphere', Quantity: -100 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 60 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 35 },\r\n        { Or: [...new Set([ ...CapellanSecondaryLanguages, ...CanopianSecondaryLanguages ])], Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill:'Canopian History', Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill:'Capellan History', Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 10 },\r\n        { ...CanopianProtocol, Quantity: 5 },\r\n        { ...CapellanProtocol, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3145,\r\n        Page: 184 }\r\n    }).UpdateRegion(3145, { Name: 'St. Ives Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Citizenship, Quantity: 30 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of Republic of the Sphere', Quantity: -50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 10 },\r\n        { Or: [ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages ], Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Art, Subskill:'*', Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3145,\r\n        Page: 184 }\r\n    }).UpdateRegion(3145, { Name: 'Victoria Commonality',\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 40 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -50 },\r\n        { Or: [ CanopianPrimaryLanguage, ...CanopianSecondaryLanguages ], Quantity: 15 },\r\n        { Or: [...new Set([ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages, \r\n                            FWLPrimaryLanguage, ...FWLSecondaryLanguages,\r\n                            CapellanPrimaryLanguage, ...CapellanSecondaryLanguages])], Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 10 },\r\n        { ...CanopianProtocol, Quantity: 10 },\r\n        { ...CapellanProtocol, Quantity: 5 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Survival, Subskill: '*', Quantity: 10 }],\r\n      Citation: {\r\n        Book: Book.EraReport3145,\r\n        Page: 184 }\r\n    });\r\n    this.Affiliations.push(capellan);\r\n\r\n    const draconis = new Affiliation(2398, {\r\n      Name: 'Draconis Combine',\r\n      Cost: 150,\r\n      PrimaryLanguage: DCPrimaryLanguage,\r\n      SecondaryLanguages: DCSecondaryLanguages,\r\n      Protocol: DCProtocol,\r\n      Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of House Davion', Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Xenophobia', Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: 'Oral Tradition', Quantity: 25},\r\n          { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: 'Combine', Quantity: 25 }],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name: 'Azami',\r\n      Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Xenophobia', Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Equipped, Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.ThickSkinned, Quantity: 50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -100 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: 'Arabic', Quantity: 35 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: 'Japanese', Quantity: -10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MeleeWeapons, Quantity: 50 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 50 },\r\n          { Kind: Statistic.Skill, Skill: Skill.AnimalHandling, Subskill: AnimalHandling.Riding, Quantity: 25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Survival, Subskill: '*', Quantity: 50 }\r\n      ],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    }).AddRegion(2398, { Name: 'Benjamin District',\r\n      Experience: [\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Hatred of house Davion', Quantity: -50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Xenophobia', Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Patient, Quantity: 15 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 20 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: 'Oral Tradition', Quantity: 15 },\r\n        { Or: [ FedSunsPrimaryLanguage, ...FedSunsSecondaryLanguages ], Quantity: 10 },\r\n        { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: 'Combine', Quantity: 15 },\r\n        { Kind: Statistic.Skill, Skill: Skill.SmallArms, Quantity: 10 }\r\n      ],\r\n      Citation: {\r\n        Book: Book.EraReport2750,\r\n        Page: 150 }\r\n    })\r\n    this.Affiliations.push(draconis);\r\n  }\r\n\r\n  public At(when: number): (AffiliationInfo & Record<'Subaffiliations', Subaffiliation[]>)[] {\r\n    return this.Affiliations.flatMap(aff => aff.At((when - 2398) as Eternal) ?? [])\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nconst routes: Routes = [];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { ChangeDetectorRef, Component, ViewChild, HostListener } from '@angular/core';\r\nimport { Character, Option } from './character/character';\r\nimport { CharacterComponent } from './chargen/character/character.component';\r\nimport { Stat, Experience, Statistic, Skill } from './utils/common';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  title = 'atow';\r\n\r\n  character?: Character\r\n\r\n  @ViewChild('char') char!:CharacterComponent;\r\n\r\n  constructor(private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  Start() {\r\n    const hadChar:boolean = !!this.character;\r\n    if(hadChar) \r\n      console.log(this.char.vitals.characterName);\r\n    this.character = new Character({ Option: Option.Create });\r\n\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();\r\n  }\r\n\r\n  Save() {\r\n\r\n  }\r\n\r\n  Load(e: any) {\r\n    this.character = new Character({\r\n      Option: Option.Load,\r\n      File: e.target.files\r\n    });\r\n    this.char.character = this.character;\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  characterChanged(e: Character) {\r\n    this.character = e;\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n}\r\n","<div class=\"underconstruction\">\r\n    <div *ngIf=\"!character\">\r\n        <label for=\"newchar\">New</label><input type=\"button\" value=\"+\" id=\"newchar\" name=\"newchar\" (click)=\"Start()\" />\r\n    </div>\r\n    <div *ngIf=\"character\">\r\n        <label for=\"savchar\">Save</label><input type=\"button\" value=\"...\" id=\"savchar\" name=\"savchar\" (click)=\"Save()\" />\r\n    </div>\r\n    <div>\r\n        <label for=\"oldchar\">Load</label><input type=\"file\" id=\"oldchar\" name=\"oldchar\" (change)=\"Load($event)\" />\r\n    </div>\r\n</div>\r\n\r\n<app-character *ngIf=\"character\" #char\r\n    [character] = \"character\">\r\n\r\n\r\n</app-character>","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { CharacterComponent } from './chargen/character/character.component';\r\nimport { Stage0Component } from './chargen/stages/stage0/stage0.component';\r\nimport { Stage1Component } from './chargen/stages/stage1/stage1.component';\r\nimport { Stage2Component } from './chargen/stages/stage2/stage2.component';\r\nimport { Stage3Component } from './chargen/stages/stage3/stage3.component';\r\nimport { Stage4Component } from './chargen/stages/stage4/stage4.component';\r\nimport { StatPipe } from './utils/stat.pipe';\r\nimport { ExpPipe } from './utils/exp.pipe';\r\nimport { ArchtypePipe } from './utils/archtype.pipe';\r\nimport { CitationPipe } from './utils/citation.pipe';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { OrExpComponent } from './utils/or-exp/or-exp.component';\r\nimport { DefaultExpComponent } from './chargen/stages/stage0/default-exp/default-exp.component';\r\nimport { AffComponent } from './chargen/stages/newaff/aff/aff.component';\r\nimport { SubaffComponent } from './chargen/stages/newaff/subaff/subaff.component';\r\nimport { StarExpComponent } from './utils/star-exp/star-exp.component';\r\nimport { ExpComponent } from './utils/exp/exp.component';\r\nimport { PickExpComponent } from './utils/pick-exp/pick-exp.component';\r\nimport { NewaffComponent } from './chargen/stages/newaff/newaff.component';\r\nimport { RandomLifeEventComponent } from './chargen/stages/random-life-event/random-life-event.component';\r\nimport { SetExpComponent } from './utils/set-exp/set-exp.component';\r\nimport { VitalsComponent } from './chargen/character/vitals/vitals.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppComponent,\r\n        CharacterComponent,\r\n        Stage0Component,\r\n        Stage1Component,\r\n        Stage2Component,\r\n        Stage3Component,\r\n        Stage4Component,\r\n        StatPipe,\r\n        ExpPipe,\r\n        ArchtypePipe,\r\n        CitationPipe,\r\n        OrExpComponent,\r\n        DefaultExpComponent,\r\n        AffComponent,\r\n        SubaffComponent,\r\n        StarExpComponent,\r\n        ExpComponent,\r\n        PickExpComponent,\r\n        NewaffComponent,\r\n        RandomLifeEventComponent,\r\n        SetExpComponent,\r\n        VitalsComponent,\r\n    ],\r\n    providers: [],\r\n    bootstrap: [AppComponent],\r\n    imports: [\r\n        BrowserModule,\r\n        CommonModule,\r\n        FormsModule,\r\n        AppRoutingModule,\r\n    ]\r\n})\r\nexport class AppModule { }\r\n","import { Citation, Eternal, Experience, Requirement, Archtype } from \"../utils/common\"\r\n\r\nexport class Background {\r\n    private timeline: {\r\n        [Date in Eternal]?: Array<(Record<'Kind', BackgroundEvent> & Partial<BackgroundInfo>)>\r\n    } = {}\r\n\r\n    constructor(\r\n        private when: number,\r\n        private moduleInfo: BackgroundInfo) {\r\n        const date: Eternal = (when-2398) as Eternal\r\n        if(date > 0) {\r\n            this.timeline[0] = [{\r\n                Kind: BackgroundEvent.Disallow\r\n            }];\r\n        }\r\n        this.timeline[date] = [{\r\n            Kind: BackgroundEvent.Allowed,\r\n            ...moduleInfo\r\n        }];\r\n    }\r\n\r\n    enable(when: number, backgroundInfo: Partial<Omit<BackgroundInfo, 'Duration'>> | undefined = undefined) : Background {\r\n        this.timeline[(when-2398) as Eternal] = [{\r\n            Kind: BackgroundEvent.Allowed,\r\n            ...backgroundInfo\r\n        }];\r\n        return this;\r\n    }\r\n\r\n    disable(when: number) : Background {\r\n        this.timeline[(when-2398) as Eternal] = [{\r\n            Kind: BackgroundEvent.Disallow\r\n        }];\r\n        return this;\r\n    }\r\n\r\n    update(when: number, backgroundInfo: Partial<Omit<BackgroundInfo, 'Stage' | 'Duration'>>): Background {\r\n        this.timeline[(when-2398) as Eternal] = [{\r\n            Kind: BackgroundEvent.Modify,\r\n            ...backgroundInfo\r\n        }];\r\n        return this;\r\n    }\r\n\r\n    public At(when: Eternal): BackgroundInfo | undefined {\r\n        const importantDates = Object.keys(this.timeline)\r\n            .filter(key => (+key) <= when)\r\n            .sort((a, b) => (+a) - (+b))\r\n            .map(key => (+key) as Eternal)\r\n            .filter(date => \r\n                this.timeline[date]?.some(event => \r\n                    event.Kind === BackgroundEvent.Allowed || event.Kind === BackgroundEvent.Disallow))\r\n            .reverse();\r\n\r\n        const latest = importantDates.pop();\r\n        if(latest === undefined) throw new Error(); //this means dates is empty and latest is undefined, which means there is no defined founding, which is bad.\r\n        if(!(this.timeline[latest]?.some(date => date.Kind === BackgroundEvent.Allowed))) {\r\n            //this means that the most recent background event is that it disallowed, which means if that date is before now (which it must be because above) then there is no background to return\r\n            return undefined;\r\n        }\r\n\r\n        //build the background between 'latest' and 'when'\r\n        const dates = Object.keys(this.timeline)\r\n            .filter(key => (+key) >= latest && (+key) <= when)\r\n            .sort((a, b) => (+a) - (+b))\r\n            .map(key => (+key) as Eternal);\r\n\r\n        //this is the actual data, just unprocssed\r\n        const events = dates.flatMap(date => this.timeline[date]?.filter(event => event.Kind === BackgroundEvent.Allowed || event.Kind === BackgroundEvent.Modify))\r\n        const initial = [...dates].shift();\r\n\r\n        if(initial === undefined) throw new Error();\r\n        const start = this.timeline[initial]?.filter(date => date.Kind === BackgroundEvent.Allowed)[0];\r\n\r\n        const process = (sofar: ReturnType<typeof this.At>): ReturnType<typeof this.At> => {\r\n            const current = events.shift();\r\n            if(!current) return sofar;\r\n\r\n            switch(current.Kind) {\r\n                case BackgroundEvent.Allowed:\r\n                case BackgroundEvent.Modify:\r\n                    return process({\r\n                        Name: current.Name ?? sofar!.Name!,\r\n                        Prereq: current.Prereq ?? sofar!.Prereq,\r\n                        Cost: current.Cost ?? sofar!.Cost!,\r\n                        Experience: current.Experience ?? sofar!.Experience!,\r\n                        Duration: current.Duration ?? sofar!.Duration!,\r\n                        Citation: current.Citation ?? sofar!.Citation,\r\n                        ArchtypeScore: { ...sofar?.ArchtypeScore, ...current.ArchtypeScore },\r\n                    });\r\n                case BackgroundEvent.Disallow:\r\n                    return undefined;\r\n            }\r\n        }\r\n\r\n        const ret = process({ \r\n            Name: start!.Name!,\r\n            Prereq: start!.Prereq,\r\n            Cost: start!.Cost!,\r\n            Experience: start!.Experience!,\r\n            Duration: start!.Duration!,\r\n            Citation: start!.Citation,\r\n            ArchtypeScore: start!.ArchtypeScore,\r\n        });\r\n        return ret;\r\n    }\r\n}\r\n\r\nexport type BackgroundInfo = {\r\n    Name: string,\r\n    Prereq?: Requirement,\r\n    Cost: number,\r\n    Experience: Experience[]\r\n    Duration: number,\r\n    Citation?: Citation,\r\n    ArchtypeScore?: Partial<{ [archtype in Archtype]: number }>\r\n}\r\n\r\nenum BackgroundEvent {\r\n    'Allowed', 'Disallow', 'Modify'\r\n}","import { Injectable } from '@angular/core';\r\nimport { AnimalHandling, Attribute, Book, Driving, EnumMap, Eternal, MedTech, Navigation, Prestidigitation, Requirement, Skill, Stage, Stat, Statistic, Tactics, Technician, Tracking, Trait } from '../utils/common';\r\nimport { Background, BackgroundInfo } from './background';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BackgroundsService {\r\n  Backgrounds: { [value in Exclude<Stage, 0 | 3>]: Background[] } = {\r\n    1: [],\r\n    2: [],\r\n    4: []\r\n  }\r\n\r\n  constructor() { \r\n    // This is a bit of a beast but it builds all the possibilities for the three traits values summed to 5\r\n    const nobilityPrereqs = [...Array(6).keys()]\r\n      .flatMap(title => [...Array(6).keys()]\r\n        .flatMap(wealth => [...Array(6).keys()]\r\n          .map(property => { return { [Trait.Title]: title, [Trait.Wealth]: wealth, [Trait.Property]: property}})))\r\n      .filter(sum => (sum[Trait.Title] + sum[Trait.Wealth] + sum[Trait.Property]) === 5)\r\n      .map<Requirement>(total => { return { And: [\r\n          { Kind: Statistic.Trait, Trait: Trait.Title, Op: '>=', Level: total[Trait.Title] },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Op: '>=', Level: total[Trait.Wealth] },\r\n          { Kind: Statistic.Trait, Trait: Trait.Property, Op: '>=', Level: total[Trait.Property] }          \r\n    ]}});\r\n    const whiteCollarPrereqs = [...Array(4).keys()]\r\n      .flatMap(wealth => [...Array(4).keys()]\r\n        .map(property => { return { [Trait.Wealth]: wealth, [Trait.Property]: property}}))\r\n      .filter(sum => (sum[Trait.Wealth] + sum[Trait.Property]) === 3)\r\n      .map<Requirement>(total => { return { And: [\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Op: '>=', Level: total[Trait.Wealth] },\r\n        { Kind: Statistic.Trait, Trait: Trait.Property, Op: '>=', Level: total[Trait.Property] }          \r\n    ]}});\r\n\r\n\r\n    const flexiXPStage2 = (quantity: number) => {\r\n      return { Set: { Options: [\r\n        ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att, Limit: 200 }}),\r\n        ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait, Limit: 200 }}),\r\n        ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill, Limit: 35 }})\r\n      ]}, Quantity: quantity }\r\n    }\r\n\r\n    this.Backgrounds[1].push(\r\n      new Background(2398, { Name: \"Back Woods\",\r\n        Prereq: { And: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Strength, Op:'>=', Level: 4 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Op:'>=', Level: 5 }] },\r\n        Cost: 290,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Strength, Quantity: 100 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Quantity: 100 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Reflexes, Quantity: 75 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: -25 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Equipped, Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Fit, Quantity: 100 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Illiterate, Quantity: -75 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Toughness, Quantity: 75 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -75 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '!', Quantity: -5 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MeleeWeapons, Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Ground, Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 5 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Running, Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Survival, Subskill: '*', Quantity: 15 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Tracking, Subskill: Tracking.Wilds, Quantity: 10 },\r\n          { Pick: { Count: 2, Options: [\r\n            ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: att }}),\r\n            ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }})\r\n          ] }, Quantity: 25 }\r\n        ],\r\n        Duration: 10,\r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 65 }\r\n      }), new Background(2398, { Name: 'Blue Collar',\r\n        Cost: 210,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Strength, Quantity: 45 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Quantity: 50 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Quantity: 50 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 25 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: -10 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Quantity: -10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: '*', Quantity: 10 },\r\n          { Pick: { Count: 2, Options: [\r\n            { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*' },\r\n            { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*' }\r\n          ] }, Quantity: 5 },\r\n          { Pick: { Count: 4, Options: [\r\n            ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att }}),\r\n            ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\r\n            ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill }})\r\n          ] }, Quantity: 10 }\r\n        ],\r\n        Duration: 10,\r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 65 }\r\n      }), new Background(2398, { Name: 'Farm',\r\n      Cost: 275,\r\n      Experience: [\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Strength, Quantity: 100 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Body, Quantity: 100 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Quantity: 25 },\r\n        { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Quantity: -50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.AnimalEmpathy, Quantity: 25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Illiterate, Quantity: -25 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Toughness, Quantity: 50 },\r\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -25 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Agriculture', Quantity: 10 },\r\n        { Or: EnumMap(AnimalHandling).map<Stat>(sub => { return { Kind: Statistic.Skill, Skill: Skill.AnimalHandling, Subskill: sub }}), Quantity: 15 },\r\n        { Pick: { Count: 2, Options: [\r\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*' },\r\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*' }\r\n        ] }, Quantity: 5 },\r\n        { Pick: { Count: 4, Options: [\r\n          ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att }}),\r\n          ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\r\n          ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill }})\r\n        ] }, Quantity: 10 }\r\n      ],\r\n      Duration: 10,\r\n      Citation: {\r\n        Book: Book.ATimeOfWar,\r\n        Page: 65,\r\n        Notes: ['Added subskill to AnimalHandling skill.'] }\r\n      }), new Background(2398, { Name: 'Fugitives',\r\n        Cost: 225,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Strength, Quantity: 25 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Reflexes, Quantity: 100 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 100 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 100 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 75 },\r\n          { Kind: Statistic.Trait, Trait: Trait.DarkSecret, Quantity: -100 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Illiterate, Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Introvert, Quantity: -100 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -100 },\r\n          { Or: EnumMap(Tactics).filter(trait => [Trait.CombatSense, Trait.GoodHearing, Trait.GoodVision, \r\n                Trait.Patient, Trait.ThickSkinned, Trait.Toughness].includes(trait))\r\n                .map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}), Quantity: 100 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Acting, Quantity: 5 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '*', Quantity: 5 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Running, Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Stealth, Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Streetwise, Subskill: '*', Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.ZeroGOperations, Quantity: 5 },\r\n          { Pick: { Count: 4, Options: [\r\n            ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att }}),\r\n            ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\r\n            ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill }})\r\n          ] }, Quantity: 5 }\r\n        ],\r\n        Duration: 10,\r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 65,\r\n          Notes: ['Continued on page 66.'] }\r\n      }), new Background(2398, { Name: 'Nobility',\r\n        Prereq: { And: [\r\n          { IsClanner: false },\r\n          { Or: nobilityPrereqs }] },\r\n        Cost: 215,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Strength, Quantity: -75 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Quantity: -75 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Reflexes, Quantity: -50 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 100 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Quantity: 100 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Equipped, Quantity: 125 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Enemy, Quantity: -200 },\r\n          { Kind: Statistic.Trait, Trait: Trait.GlassJaw, Quantity: -100 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: 175 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 150 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Appraisal, Quantity: 5 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: '*', Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*', Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '!', Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!', Quantity: 10 },\r\n          { Pick: { Count: 4, Options: [\r\n            ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att }}),\r\n            ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\r\n            ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill }})\r\n          ] }, Quantity: 5 }\r\n        ],\r\n        Duration: 10,\r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 66\r\n        }\r\n      }), new Background(2398, { Name: 'Slave',\r\n        Prereq: { And: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Strength, Op:'>=', Level: 4 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Op:'>=', Level: 4 }] },\r\n        Cost: 45,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Strength, Quantity: 100 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Quantity: 75 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Quantity: 100 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: -50 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Equipped, Quantity: -100 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -200 },\r\n          { Pick: { Count: 1, Options: EnumMap(Trait)\r\n            .filter(trait => [Trait.ExceptionalAttribute, Trait.NaturalAptitude].includes(trait))\r\n            .map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\r\n          }, Quantity: 90 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '!', Quantity: -5 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: '*', Quantity: 15 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*', Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!', Quantity: 15 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Stealth, Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Streetwise, Subskill: '!', Quantity: 15 },\r\n          { Or: EnumMap(Technician).map<Stat>(tech => { return { Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: tech }}), Quantity: 5 },\r\n          { Pick: { Count: 4, Options: [\r\n            ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att }}),\r\n            ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\r\n          ] }, Quantity: 25 }\r\n        ],\r\n        Duration: 10,\r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 66\r\n        }\r\n      }), new Background(2398, { Name: 'Street',\r\n        Cost: 250,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Strength, Quantity: 25 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Quantity: -20 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Reflexes, Quantity: 100 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 100 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Quantity: -25 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 100 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 75 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Paranoia', Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Enemy, Quantity: -100 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Illiterate, Quantity: -75 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -100 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Toughness, Quantity: 200 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -75 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '!', Quantity: -5 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MartialArts, Quantity: 15 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MeleeWeapons, Quantity: 5 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Stealth, Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Streetwise, Subskill: '!', Quantity: 10 },\r\n          { Pick: { Count: 4, Options: [\r\n            ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att }}),\r\n            ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\r\n            ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill }})] }, Quantity: 10 }],\r\n        Duration: 10,\r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 66,\r\n          Notes: ['Changed Compulsion trigger from \"Paranoid\" to \"Paranoia\"',]\r\n        }\r\n      }), new Background(2398, { Name: 'War Orphan',\r\n        Cost: 170,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 50 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 100 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 100 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Traumatic Memories', Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Illiterate, Quantity: -25 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Introvert, Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.SixthSense, Quantity: 150 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -100 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '!', Quantity: -5 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Stealth, Quantity: 5 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Streetwise, Subskill: '!', Quantity: 10 },\r\n          { Pick: { Count: 3, Options: [\r\n            ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att }}),\r\n            ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\r\n          ] }, Quantity: 25 }\r\n        ],\r\n        Duration: 10,\r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 66\r\n        }\r\n      }), new Background(2398, { Name: 'White Collar',\r\n        Cost: 170,\r\n        Prereq: { Or: whiteCollarPrereqs },\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Strength, Quantity: -50 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Quantity: -50 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 75 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: -50 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Quantity: 75 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Equipped, Quantity: 75 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Enemy, Quantity: -100 },\r\n          { Kind: Statistic.Trait, Trait: Trait.ExtraIncome, Quantity: 50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.GlassJaw, Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: 50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: '*', Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*', Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '!', Quantity: 5 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!', Quantity: 10 },\r\n          { Or: EnumMap(Technician).map<Stat>(tech => { return { Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: tech }}), Quantity: 5 },\r\n          { Pick: { Count: 3, Options: [\r\n            ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att }}),\r\n            ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\r\n            ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill }})\r\n          ] }, Quantity: 5 }],\r\n        Duration: 10,\r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 66\r\n        }\r\n      })\r\n    );\r\n    this.Backgrounds[2].push(\r\n      new Background(2398, { Name: 'Adolescent Warefare',\r\n        Prereq: { And: [{ Not: { Stage: 1, Name: 'Nobility' } }, { Not: { Stage: 1, Name: 'Trueborn Crèche' } }] },\r\n        Cost: 500,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Quantity: 40 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Reflexes, Quantity: 40 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 50 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: -30 },\r\n          { Kind: Statistic.Trait, Trait: Trait.CombatSense, Quantity: 80 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 30 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Compulsion, Trigger: 'Paranoia', Quantity: -20 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Enemy, Quantity: -40 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '!', Quantity: -25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Leadership, Quantity: 25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MedTech, Subskill: MedTech.General, Quantity: 25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MeleeWeapons, Quantity: 25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 15 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!', Quantity: -10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Running, Quantity: 40 },\r\n          { Kind: Statistic.Skill, Skill: Skill.SmallArms, Quantity: 20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Stealth, Quantity: 30 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Streetwise, Subskill: '!', Quantity: 45 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Survival, Subskill: '*', Quantity: 45 },\r\n          flexiXPStage2(130)],\r\n        Duration: 6,\r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 67,\r\n          Notes: [\r\n            'Changed Compulsion trigger from \"Paranoid\" to \"Paranoia\"',\r\n            'Changed MedTech skill to have no Subskill to General'\r\n          ]\r\n        }\r\n      }), new Background(2398, { Name: 'Back Woods',\r\n        Cost: 500,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Quantity: 60 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 70 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: -20 },\r\n          { Kind: Statistic.Trait, Trait: Trait.AnimalEmpathy, Quantity: 50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.GoodHearing, Quantity: 40 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Introvert, Quantity: -20 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Climbing, Quantity: 30 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MedTech, Subskill: MedTech.General, Quantity: 20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.MeleeWeapons, Quantity: 20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 45 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!', Quantity: -15 },\r\n          { Kind: Statistic.Skill, Skill: Skill.SmallArms, Quantity: 20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Stealth, Quantity: 40 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Survival, Subskill: '*', Quantity: 25 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Tracking, Subskill: Tracking.Wilds, Quantity: 30 },\r\n          flexiXPStage2(125)\r\n        ],\r\n        Duration: 6, \r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 67,\r\n          Notes: [\r\n            'Changed MedTech skill to have no Subskill to General',\r\n            'Changes Survival subskill from Forest to any'\r\n          ]\r\n        }\r\n      }), new Background(2398, { Name: 'Farm',\r\n        Cost: 400,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Body, Quantity: 40 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Quantity: -20 },\r\n          { Kind: Statistic.Trait, Trait: Trait.AnimalEmpathy, Quantity: 30 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Administration, Quantity: 35 },\r\n          { Or: EnumMap(AnimalHandling).map<Stat>(sub => { return { Kind: Statistic.Skill, Skill: Skill.AnimalHandling, Subskill: sub }}), Quantity: 30 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Agriculture', Quantity: 50 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Driving, Subskill: Driving.Ground, Quantity: 30 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*', Quantity: 40 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*', Quantity: 20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.SmallArms, Quantity: 30 },\r\n          flexiXPStage2(115)\r\n        ],\r\n        Duration: 6, \r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 67,\r\n          Notes: [\r\n            'Added subtype to AnimalHandling skill.'\r\n          ]\r\n        }\r\n      }), new Background(2398, { Name: 'High School',\r\n        Cost: 400,\r\n        Prereq: { And: [{ IsClanner: false }, { Kind: Statistic.Trait, Trait: Trait.Illiterate, Op: '<=', Level: 0 }]},\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Quantity: 25 },\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 25 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Computers, Quantity: 20 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*', Quantity: 40 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*', Quantity: 35 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '!', Quantity: 10 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Streetwise, Subskill: '!', Quantity: 30 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Swimming, Quantity: 20 },\r\n          flexiXPStage2(185)\r\n        ],\r\n        Duration: 6, \r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 68,\r\n        }\r\n      })\r\n    );\r\n\r\n    this.Backgrounds[4].push(\r\n      new Background(2398, { Name: \"Agitator\",\r\n        Cost: 900,\r\n        Duration: 4,\r\n        Experience: [\r\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Bloodmark, Quantity: -50 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Gregarious, Quantity: 80 },\r\n          { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -150 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Acting, Quantity: 50 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Disguise, Quantity: 75 },\r\n          { Or: EnumMap(Driving).map<Stat>(sub => { return { Kind: Statistic.Skill, Skill: Skill.Driving, Subskill: sub }}), Quantity: 65 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Leadership, Quantity: 60 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 80 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 70 },\r\n          { Or: EnumMap(Prestidigitation).map<Stat>(sub => { return { Kind: Statistic.Skill, Skill: Skill.Prestidigitation, Subskill: sub }}), Quantity: 100 },\r\n          { Kind: Statistic.Skill, Skill: Skill.SmallArms, Quantity: 75 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Streetwise, Subskill: '!', Quantity: 75 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Tactics, Subskill: Tactics.Infantry, Quantity: 40 },\r\n          { Kind: Statistic.Skill, Skill: Skill.Training, Quantity: 50 },\r\n          { Set: { Options: [\r\n            ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att, Limit: 50 }}),\r\n            ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\r\n            ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill }})\r\n          ]}, Quantity: 125 }\r\n        ],\r\n        Citation: {\r\n          Book: Book.ATimeOfWar,\r\n          Page: 74,\r\n          Notes: ['Added subskill option for Prestidigitation because none was listed.'] }\r\n      }), new Background(2398, { Name: \"Civilian Job\",\r\n      Cost: 600,\r\n      Duration: 6,\r\n      Experience: [\r\n        { Kind: Statistic.Skill, Skill: Skill.Administration, Quantity: 75 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: '*', Quantity: 40 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Computers, Quantity: 40 },\r\n        { Or: EnumMap(Driving).map(sub => { return { Kind: Statistic.Skill, Skill: Skill.Driving, Subskill: sub }}), Quantity: 60 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*', Quantity: 50 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Leadership, Quantity: 40 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Negotiation, Quantity: 30 },\r\n        { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!', Quantity: 50 },\r\n        { Pick: { Count: 4, Options: EnumMap(Skill).map(skill => { return { Kind: Statistic.Skill, Skill: skill }})}, Quantity: 20 },\r\n        { Set: { Options: [\r\n          ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att }}),\r\n          ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\r\n          ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill }})\r\n        ]}, Quantity: 85 }\r\n      ],\r\n      Citation: {\r\n        Book: Book.ATimeOfWar,\r\n        Page: 74,\r\n        Notes: ['Career subskill is originally restricted to Non-Military.', 'Changed four skills from choosen field to any four skills.'] }\r\n    })\r\n    );\r\n  }\r\n\r\n  public At(when: number, stage: Exclude<Stage, 0 | 3>): BackgroundInfo[] {\r\n    return this.Backgrounds[stage].flatMap(aff => aff.At((when - 2398) as Eternal) ?? [])\r\n  }\r\n}\r\n","import { Subject } from \"rxjs\";\r\nimport { Experience } from \"../utils/common\";\r\n\r\nexport class Character {\r\n    public Name: string = '';\r\n\r\n    public Experience: Subject<Experience> = new Subject();\r\n\r\n\r\n    constructor(args: Load | Create) {\r\n\r\n    }\r\n\r\n    \r\n}\r\n\r\ntype Create = {\r\n    Option: Option.Create,\r\n    Rules?: {\r\n        \r\n    }\r\n}\r\n\r\ntype Load = {\r\n    Option: Option.Load,\r\n    File: string,\r\n}\r\n\r\nexport enum Option {\r\n    Create, Load\r\n}","import { Component, ViewChild, ElementRef, ChangeDetectorRef, Input, EventEmitter, Output, OnInit, OnDestroy, AfterViewInit, ViewChildren, QueryList } from \"@angular/core\";\r\nimport { Acrobatics, AnimalHandling, Archtype, Attribute, Communications, Driving, EnumMap, Eternal, Experience, Gunnery, MedTech, Navigation, OneOrBoth, Piloting, Prestidigitation, Requirement, SecuritySystem, Skill, Stage, Statistic, Surgery, Tactics, Technician, ThrownWeapons, Tracking, Trait } from \"src/app/utils/common\";\r\nimport { Character } from \"../../character/character\"\r\nimport { Observable, ReplaySubject, Subscription, of } from \"rxjs\";\r\nimport { Stage0Component } from \"../stages/stage0/stage0.component\";\r\nimport { Stage1Component } from \"../stages/stage1/stage1.component\";\r\nimport { VitalsComponent } from \"./vitals/vitals.component\";\r\nimport { Stage2Component } from \"../stages/stage2/stage2.component\";\r\nimport { Stage3Component } from \"../stages/stage3/stage3.component\";\r\nimport { Stage4Component } from \"../stages/stage4/stage4.component\";\r\nimport { AffiliationInfo } from \"src/app/affiliation/affiliation\";\r\n\r\n@Component({\r\n  selector: 'app-character',\r\n  templateUrl: './character.component.html',\r\n  styleUrls: ['./character.component.scss']\r\n})\r\nexport class CharacterComponent implements OnInit, OnDestroy, AfterViewInit {\r\n\r\n  @Input({ required: true }) character!: Character;\r\n  @Output() characterChanged = new EventEmitter<Character>();\r\n  @Output() archtypeChanged = new EventEmitter<Archtype>();\r\n\r\n  @ViewChild('stageZero') stageZero!: Stage0Component;\r\n  @ViewChild('stageOne') stageOne!: Stage1Component;\r\n  @ViewChild('stageTwo') stageTwo!: Stage2Component;\r\n\r\n  @ViewChild('itemizedExp') itemizedExp!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('vitals') vitals!: VitalsComponent;\r\n\r\n  @ViewChildren(Stage3Component) stageThree!: QueryList<Stage3Component>;\r\n  @ViewChildren(Stage4Component) stageFour!: QueryList<Stage4Component>;\r\n\r\n\r\n  get progress(): { [value in Stage]: boolean } {\r\n    return {\r\n      0: this.stageZero?.isComplete ?? false,\r\n      1: this.stageOne?.isComplete ?? false,\r\n      2: this.stageTwo?.isComplete ?? false,\r\n      3: (this.stageThree?.length ?? 0 !== 0) ? (this.stageThree.reduce((sofar, stage) => sofar && (stage.isComplete), true)) : false,\r\n      4: (this.stageFour?.length ?? 0 !== 0) ? (this.stageFour.reduce((sofar, stage) => sofar && (stage.isComplete), true)) : false\r\n    }\r\n  }\r\n\r\n  get LatestStage3Or4(): Stage3Component | Stage4Component | undefined {\r\n    if(this.RealLife.length === 0) return undefined;\r\n    switch(this.RealLife[0].stage) {\r\n      case 3:\r\n        return this.stageThree.last;\r\n      case 4:\r\n        return this.stageFour.last;\r\n      default:\r\n        return undefined\r\n    }\r\n  }\r\n\r\n  get isComplete(): boolean {\r\n    return false\r\n  }\r\n\r\n  private subscriptions: Subscription[] = [];\r\n  constructor(private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  get TotalExp(): number {\r\n    const ret = [...this.Experience].reduce((a, b) => a + b.Quantity, 0);\r\n    return ret;\r\n  }\r\n\r\n  //This is a bit of a monster, maybe it needs to be refactored\r\n  get Experience(): Experience[] {\r\n    // Maybe take another look at this and see if leveraging the Extract utility type would make sense here instead of doing everything by hand.\r\n    const OrExperience: Array<Experience> = [];\r\n    const PickExperience: Array<Experience> = [];\r\n    const SetExperience: Array<Experience> = [];\r\n    const IfExperience: Array<Experience> = [];\r\n    const AttributeExperience: {\r\n      [Value in Attribute]: number\r\n    } = {\r\n      [Attribute.Strength]: 0,\r\n      [Attribute.Body]: 0,\r\n      [Attribute.Dexterity]: 0,\r\n      [Attribute.Reflexes]: 0,\r\n      [Attribute.Intelligence]: 0,\r\n      [Attribute.Willpower]: 0,\r\n      [Attribute.Charisma]: 0,\r\n      [Attribute.Edge]: 0\r\n    };\r\n    const SkillExperience: {\r\n      [S in Skill]: \r\n        ( S extends Skill.Acrobatics ? { [Subskill in Acrobatics]: { Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.AnimalHandling ? { [Subskill in AnimalHandling]: { Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Communications ? { [Subskill in Communications]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Driving ? { [Subskill in Driving]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Gunnery ? { [Subskill in Gunnery]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.MedTech ? { [Subskill in MedTech]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Navigation ? { [Subskill in Navigation]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Piloting ? { [Subskill in Piloting]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Prestidigitation ? { [Subskill in Prestidigitation]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.SecuritySystem ? { [Subskill in SecuritySystem]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Surgery ? { [Subskill in Surgery]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Tactics ? { [Subskill in Tactics]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Technician ? { [Subskill in Technician]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.ThrownWeapons ? { [Subskill in ThrownWeapons]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends Skill.Tracking ? { [Subskill in Tracking]:{ Quantity: number, Speciality?: Record<'Speciality', number>[]}}\r\n        : S extends (Skill.Language | Skill.Career | Skill.Protocol | Skill.Streetwise | Skill.Survival | Skill.Art | Skill.Interest) ? {\r\n          [Subskill: string]: { Quantity: number, Speciality?: Record<'Speciality', number>[]}\r\n        }\r\n        :  { Quantity: number, Speciality?: Record<'Speciality', string>[]})\r\n    } = {\r\n      [Skill.Acrobatics]: {\r\n        [Acrobatics.FreeFall]: { Quantity: 0 },\r\n        [Acrobatics.Gymnastics]: { Quantity: 0 }},\r\n      [Skill.Acting]: { Quantity: 0 },\r\n      [Skill.Administration]: { Quantity: 0 },\r\n      [Skill.AnimalHandling]: {\r\n        [AnimalHandling.Herding]: { Quantity: 0 },\r\n        [AnimalHandling.Riding]: { Quantity: 0 },\r\n        [AnimalHandling.Training]: { Quantity: 0 }},\r\n      [Skill.Appraisal]: { Quantity: 0 },\r\n      [Skill.Archery]: { Quantity: 0 },\r\n      [Skill.Art]: {},\r\n      [Skill.Artillery]: { Quantity: 0 },\r\n      [Skill.Career]: {},\r\n      [Skill.Climbing]: { Quantity: 0 },\r\n      [Skill.Communications]: {\r\n        [Communications.BlackBox]: { Quantity: 0 },\r\n        [Communications.Conventional]: { Quantity: 0 },\r\n        [Communications.HyperpuseGenerator]: { Quantity: 0 }},\r\n      [Skill.Computers]: { Quantity: 0 },\r\n      [Skill.Cryptography]: { Quantity: 0 },\r\n      [Skill.Demolitions]: { Quantity: 0 },\r\n      [Skill.Disguise]: { Quantity: 0 },\r\n      [Skill.Driving]: { \r\n        [Driving.Ground]: { Quantity: 0 },\r\n        [Driving.Rail]: { Quantity: 0 },\r\n        [Driving.Sea]: { Quantity: 0 }},\r\n      [Skill.EscapeArtist]: { Quantity: 0 },\r\n      [Skill.Forgery]: { Quantity: 0 },\r\n      [Skill.Gunnery]: {\r\n        [Gunnery.Aerospace]: { Quantity: 0 },\r\n        [Gunnery.Air]: { Quantity: 0 },\r\n        [Gunnery.Battlesuit]: { Quantity: 0 },\r\n        [Gunnery.Ground]: { Quantity: 0 },\r\n        [Gunnery.Mech]: { Quantity: 0 },\r\n        [Gunnery.ProtoMech]: { Quantity: 0 },\r\n        [Gunnery.Sea]: { Quantity: 0 },\r\n        [Gunnery.Spacecraft]: { Quantity: 0 },\r\n        [Gunnery.Turret]: { Quantity: 0 }},\r\n      [Skill.Interest]: { },\r\n      [Skill.Interrogation]: { Quantity: 0 },\r\n      [Skill.Investigation]: { Quantity: 0 },\r\n      [Skill.Language]: {},\r\n      [Skill.Leadership]: { Quantity: 0 },\r\n      [Skill.MartialArts]:{ Quantity: 0 },\r\n      [Skill.MedTech]: {\r\n        [MedTech.General]: { Quantity: 0 },\r\n        [MedTech.Veterinary]: { Quantity: 0 }},\r\n      [Skill.MeleeWeapons]:{ Quantity: 0 },\r\n      [Skill.Navigation]: {\r\n        [Navigation.Air]: { Quantity: 0 },\r\n        [Navigation.Ground]: { Quantity: 0 },\r\n        [Navigation.KFJump]: { Quantity: 0 },\r\n        [Navigation.Sea]: { Quantity: 0 },\r\n        [Navigation.Space]: { Quantity: 0 }},\r\n      [Skill.Negotiation]: { Quantity: 0 },\r\n      [Skill.Perception]: { Quantity: 0 },\r\n      [Skill.Piloting]: {\r\n        [Piloting.Aerospace]: { Quantity: 0 },\r\n        [Piloting.Aircraft]: { Quantity: 0 },\r\n        [Piloting.Battlesuit]: { Quantity: 0 },\r\n        [Piloting.Ground]: { Quantity: 0 },\r\n        [Piloting.Mech]: { Quantity: 0 },\r\n        [Piloting.ProtoMech]: { Quantity: 0 },\r\n        [Piloting.Railcraft]: { Quantity: 0 },\r\n        [Piloting.Seacraft]: { Quantity: 0 },\r\n        [Piloting.Spacecraft]: { Quantity: 0 },\r\n        [Piloting.VTOL]: { Quantity: 0 }},\r\n      [Skill.Prestidigitation]: {\r\n        [Prestidigitation.PickPocket]: { Quantity: 0 },\r\n        [Prestidigitation.Quickdraw]: { Quantity: 0 },\r\n        [Prestidigitation.SleightOfHand]: { Quantity: 0 }},\r\n      [Skill.Protocol]: {},\r\n      [Skill.Running]: { Quantity: 0 },\r\n      [Skill.Science]: { Quantity: 0 },\r\n      [Skill.SecuritySystem]: {\r\n        [SecuritySystem.Electrical]: { Quantity: 0 },\r\n        [SecuritySystem.Mechanical]: { Quantity: 0 }},\r\n      [Skill.SensorOperations]: { Quantity: 0 },\r\n      [Skill.SmallArms]: { Quantity: 0 },\r\n      [Skill.Stealth]: { Quantity: 0 },\r\n      [Skill.Streetwise]: {},\r\n      [Skill.SupportWeapons]: { Quantity: 0 },\r\n      [Skill.Surgery]: {\r\n        [Surgery.General]: { Quantity: 0 },\r\n        [Surgery.Veterinary]: { Quantity: 0 }},\r\n      [Skill.Survival]: {},\r\n      [Skill.Swimming]: { Quantity: 0 },\r\n      [Skill.Tactics]: {\r\n        [Tactics.Air]: { Quantity: 0 },\r\n        [Tactics.Infantry]: { Quantity: 0 },\r\n        [Tactics.Land]: { Quantity: 0 },\r\n        [Tactics.Sea]: { Quantity: 0 },\r\n        [Tactics.Space]: { Quantity: 0 }},\r\n      [Skill.Technician]: {\r\n        [Technician.Aeronautics]: { Quantity: 0 },\r\n        [Technician.Cybernetics]: { Quantity: 0 },\r\n        [Technician.Electronics]: { Quantity: 0 },\r\n        [Technician.Jets]: { Quantity: 0 },\r\n        [Technician.Mechanical]: { Quantity: 0 },\r\n        [Technician.Myomer]: { Quantity: 0 },\r\n        [Technician.Nuclear]: { Quantity: 0 },\r\n        [Technician.Weapons]: { Quantity: 0 }},\r\n      [Skill.ThrownWeapons]: {\r\n        [ThrownWeapons.Blades]: { Quantity: 0 },\r\n        [ThrownWeapons.Blunt]: { Quantity: 0 },\r\n        [ThrownWeapons.Spear]: { Quantity: 0 }},\r\n        [Skill.Tracking]: {\r\n          [Tracking.Urban]: { Quantity: 0 },\r\n          [Tracking.Wilds]: { Quantity: 0 }},\r\n      [Skill.Training]: { Quantity: 0 },\r\n      [Skill.ZeroGOperations]: { Quantity: 0 },\r\n    };\r\n    const TraitExperience: {\r\n      [T in Trait]:\r\n        ( T extends Trait.Compulsion ? { [Trigger: string]: number } \r\n        : T extends Trait.ExceptionalAttribute ? { [Value in Attribute]: number }\r\n        : T extends Trait.NaturalAptitude ? { [Value in Skill]: number }\r\n        : number)\r\n    } = {\r\n      [Trait.AlternativeID]: 0,\r\n      [Trait.Ambidextrous]: 0,\r\n      [Trait.AnimalEmpathy]: 0,\r\n      [Trait.Attractive]: 0,\r\n      [Trait.Citizenship]: 0,\r\n      [Trait.Trueborn]: 0,\r\n      [Trait.CombatSense]: 0,\r\n      [Trait.Connections]: 0,\r\n      [Trait.ExceptionalAttribute]: {\r\n        [Attribute.Strength]: 0,\r\n        [Attribute.Body]: 0,\r\n        [Attribute.Dexterity]: 0,\r\n        [Attribute.Reflexes]: 0,\r\n        [Attribute.Intelligence]: 0,\r\n        [Attribute.Willpower]: 0,\r\n        [Attribute.Charisma]: 0,\r\n        [Attribute.Edge]: 0\r\n      },\r\n      [Trait.FastLearner]: 0,\r\n      [Trait.Fit]: 0,\r\n      [Trait.GTolerance]: 0,\r\n      [Trait.GoodHearing]: 0,\r\n      [Trait.GoodVision]: 0,\r\n      [Trait.Gregarious]: 0,\r\n      [Trait.Implant]: 0,\r\n      [Trait.Prosthetic]: 0,\r\n      [Trait.NaturalAptitude]: {\r\n        [Skill.Acrobatics]: 0,\r\n        [Skill.Acting]: 0,\r\n        [Skill.Administration]: 0,\r\n        [Skill.AnimalHandling]: 0,\r\n        [Skill.Appraisal]: 0,\r\n        [Skill.Archery]: 0,\r\n        [Skill.Art]: 0,\r\n        [Skill.Artillery]: 0,\r\n        [Skill.Career]: 0,\r\n        [Skill.Climbing]: 0,\r\n        [Skill.Communications]: 0,\r\n        [Skill.Computers]: 0,\r\n        [Skill.Cryptography]: 0,\r\n        [Skill.Demolitions]: 0,\r\n        [Skill.Disguise]: 0,\r\n        [Skill.Driving]: 0,\r\n        [Skill.EscapeArtist]: 0,\r\n        [Skill.Forgery]: 0,\r\n        [Skill.Gunnery]: 0,\r\n        [Skill.Interest]: 0,\r\n        [Skill.Interrogation]: 0,\r\n        [Skill.Investigation]: 0,\r\n        [Skill.Language]: 0,\r\n        [Skill.Leadership]: 0,\r\n        [Skill.MartialArts]: 0,\r\n        [Skill.MedTech]: 0,\r\n        [Skill.MeleeWeapons]: 0,\r\n        [Skill.Navigation]: 0,\r\n        [Skill.Negotiation]: 0,\r\n        [Skill.Perception]: 0,\r\n        [Skill.Piloting]: 0,\r\n        [Skill.Prestidigitation]: 0,\r\n        [Skill.Protocol]: 0,\r\n        [Skill.Running]: 0,\r\n        [Skill.Science]: 0,\r\n        [Skill.SecuritySystem]: 0,\r\n        [Skill.SensorOperations]: 0,\r\n        [Skill.SmallArms]: 0,\r\n        [Skill.Stealth]: 0,\r\n        [Skill.Streetwise]: 0,\r\n        [Skill.SupportWeapons]: 0,\r\n        [Skill.Surgery]: 0,\r\n        [Skill.Survival]: 0,\r\n        [Skill.Swimming]: 0,\r\n        [Skill.Tactics]: 0,\r\n        [Skill.Technician]: 0,\r\n        [Skill.ThrownWeapons]: 0,\r\n        [Skill.Tracking]: 0,\r\n        [Skill.Training]: 0,\r\n        [Skill.ZeroGOperations]: 0\r\n      },\r\n      [Trait.PainResistance]: 0,\r\n      [Trait.Patient]: 0,\r\n      [Trait.Phenotype]: 0,\r\n      [Trait.PoisonResistance]: 0,\r\n      [Trait.Property]: 0,\r\n      [Trait.Rank]: 0,\r\n      [Trait.SixthSense]: 0,\r\n      [Trait.TechEmpathy]: 0,\r\n      [Trait.ThickSkinned]: 0,\r\n      [Trait.Title]: 0,\r\n      [Trait.Bloodname]: 0,\r\n      [Trait.Toughness]: 0,\r\n      [Trait.AnimalAntipathy]: 0,\r\n      [Trait.Bloodmark]: 0,\r\n      [Trait.CombatParalysis]: 0,\r\n      [Trait.Compulsion]: {},\r\n      [Trait.DarkSecret]: 0,\r\n      [Trait.Enemy]: 0,\r\n      [Trait.GlassJaw]: 0,\r\n      [Trait.Gremlins]: 0,\r\n      [Trait.Handicap]: 0,\r\n      [Trait.Illiterate]: 0,\r\n      [Trait.Impatient]: 0,\r\n      [Trait.InForLife]: 0,\r\n      [Trait.Introvert]: 0,\r\n      [Trait.LostLimb]: 0,\r\n      [Trait.PoorHearing]: 0,\r\n      [Trait.PoorVision]: 0,\r\n      [Trait.SlowLearner]: 0,\r\n      [Trait.ThinSkinned]: 0,\r\n      [Trait.TDS]: 0,\r\n      [Trait.Unattractive]: 0,\r\n      [Trait.Unlucky]: 0,\r\n      [Trait.Equipped]: 0,\r\n      [Trait.ExtraIncome]: 0,\r\n      [Trait.Reputation]: 0,\r\n      [Trait.Wealth]: 0,\r\n      [Trait.CustomVehicle]: 0,\r\n      [Trait.DesignQuirk]: 0,\r\n      [Trait.VehicleLevel]: 0,\r\n      [Trait.Mutation]: 0,\r\n    }\r\n\r\n    const processExp = (exp: Experience) => {\r\n      if('Or' in exp) {\r\n        OrExperience.push(exp);\r\n      } else if ('Pick' in exp) {\r\n        PickExperience.push(exp);\r\n      } else if('Set' in exp) {\r\n        SetExperience.push(exp);\r\n      } else if('If' in exp) {\r\n        IfExperience.push(exp);\r\n      } else {\r\n        switch(exp.Kind) {\r\n          case Statistic.Attribute:\r\n            AttributeExperience[exp.Attribute] += exp.Quantity;\r\n            return;\r\n          case Statistic.Skill:\r\n            switch(exp.Skill) {\r\n              case Skill.Acrobatics:\r\n                const acrobatics = exp.Subskill as keyof typeof SkillExperience[Skill.Acrobatics];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][acrobatics].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.AnimalHandling:\r\n                const handleanimal = exp.Subskill as keyof typeof SkillExperience[Skill.AnimalHandling];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][handleanimal].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Communications:\r\n                const communications = exp.Subskill as keyof typeof SkillExperience[Skill.Communications];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][communications].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Driving:\r\n                const driving = exp.Subskill as keyof typeof SkillExperience[Skill.Driving];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][driving].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Gunnery:\r\n                const gunnery = exp.Subskill as keyof typeof SkillExperience[Skill.Gunnery];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][gunnery].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.MedTech:\r\n                const medtech = exp.Subskill as keyof typeof SkillExperience[Skill.MedTech];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][medtech].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Navigation:\r\n                const navigation = exp.Subskill as keyof typeof SkillExperience[Skill.Navigation];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][navigation].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Piloting:\r\n                const piloting = exp.Subskill as keyof typeof SkillExperience[Skill.Piloting];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][piloting].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Prestidigitation:\r\n                const prestidigitation = exp.Subskill as keyof typeof SkillExperience[Skill.Prestidigitation];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][prestidigitation].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.SecuritySystem:\r\n                const securitysystem= exp.Subskill as keyof typeof SkillExperience[Skill.SecuritySystem];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][securitysystem].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Surgery:\r\n                const surgery= exp.Subskill as keyof typeof SkillExperience[Skill.Surgery];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][surgery].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Tactics:\r\n                const tactics= exp.Subskill as keyof typeof SkillExperience[Skill.Tactics];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][tactics].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Technician:\r\n                const technician= exp.Subskill as keyof typeof SkillExperience[Skill.Technician];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][technician].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.ThrownWeapons:\r\n                const thrownweapons = exp.Subskill as keyof typeof SkillExperience[Skill.ThrownWeapons];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][thrownweapons].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              case Skill.Tracking:\r\n                const tracking = exp.Subskill as keyof typeof SkillExperience[Skill.Tracking];\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill][tracking].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n              // Language, Career, Protocol, Streetwise, Survival, Art, Interest all need to fall through here.\r\n              case Skill.Language:\r\n              case Skill.Career:\r\n              case Skill.Protocol:\r\n              case Skill.Streetwise:\r\n              case Skill.Survival:\r\n              case Skill.Art:\r\n              case Skill.Interest:\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  if(exp.Subskill instanceof RegExp) throw new Error('A subskill pattern cannot be used here!');\r\n                  if(exp.Subskill in SkillExperience[exp.Skill]) {\r\n                    SkillExperience[exp.Skill][exp.Subskill].Quantity += exp.Quantity;\r\n                  } else {\r\n                    SkillExperience[exp.Skill][exp.Subskill] = { Quantity: exp.Quantity };\r\n                  }\r\n                }\r\n                return;\r\n              default:\r\n                if(exp.Speciality) {\r\n                  throw new Error('Not Implemented!');\r\n                } else {\r\n                  SkillExperience[exp.Skill].Quantity += exp.Quantity;\r\n                }\r\n                return;\r\n            }\r\n          case Statistic.Trait:\r\n            switch(exp.Trait) {\r\n              case Trait.Compulsion:\r\n                if(!('Trigger' in exp) ) throw new Error('Compulsion must have a trigger!')\r\n                if(exp.Trigger in TraitExperience[exp.Trait]) {\r\n                  TraitExperience[exp.Trait][exp.Trigger] += exp.Quantity\r\n                } else {\r\n                  TraitExperience[exp.Trait] = {\r\n                    [exp.Trigger]: exp.Quantity,\r\n                    ...TraitExperience[exp.Trait]\r\n                  }\r\n                }\r\n                return;\r\n              case Trait.ExceptionalAttribute:\r\n                if(!('Attribute' in exp)) throw new Error('Exceptional Attribute must have an attribute assigned!');\r\n                const attribute = exp.Attribute as Attribute;\r\n                TraitExperience[exp.Trait][attribute] += exp.Quantity;\r\n                return;\r\n              case Trait.NaturalAptitude:\r\n                if(!('Skill' in exp)) throw new Error('Natural aptitude must have a skill assigned!');\r\n                const skill = exp.Skill as Skill;\r\n                TraitExperience[exp.Trait][skill] += exp.Quantity;\r\n                return;\r\n              default:\r\n                TraitExperience[exp.Trait] += exp.Quantity;\r\n                return;\r\n            }\r\n        }\r\n      }\r\n    }\r\n\r\n    [\r\n      ...(this.stageZero?.experience ?? []),\r\n      ...(this.stageOne?.experience ?? []),\r\n      ...(this.stageTwo?.experience ?? []),\r\n      ...((this.stageThree ?? []).map(component => component.experience).flatMap(exp => exp)),\r\n      ...((this.stageFour ?? []).map(component => component.experience).flatMap(exp => exp)),\r\n      ...this.affiliationExperience\r\n    ].forEach(processExp);\r\n\r\n    const atts = EnumMap(Attribute).map(att => { return { Kind: Statistic.Attribute, Attribute: att, Quantity: AttributeExperience[att as Attribute]}})\r\n    const skills = EnumMap(Skill).flatMap(skill => { \r\n      switch(skill) {\r\n        case Skill.Acrobatics:\r\n        case Skill.AnimalHandling:\r\n        case Skill.Communications:\r\n        case Skill.Driving:\r\n        case Skill.Gunnery:\r\n        case Skill.MedTech:\r\n        case Skill.Navigation:\r\n        case Skill.Piloting:\r\n        case Skill.Prestidigitation:\r\n        case Skill.SecuritySystem:\r\n        case Skill.Surgery:\r\n        case Skill.Tactics:\r\n        case Skill.Technician:\r\n        case Skill.ThrownWeapons:\r\n        case Skill.Tracking:\r\n        case Skill.Language:\r\n        case Skill.Career:\r\n        case Skill.Protocol:\r\n        case Skill.Streetwise:\r\n        case Skill.Survival:\r\n        case Skill.Art:\r\n        case Skill.Interest:\r\n          const subskill = (SkillExperience[skill as Skill] as { [any:string]: { Quantity: number }});\r\n          return Object.keys(subskill).map(sub => { return { Kind: Statistic.Skill, Skill: skill, Subskill: sub, Quantity: subskill[sub].Quantity }})\r\n        default:\r\n          return [{ Kind: Statistic.Skill, Skill: skill, Quantity: (SkillExperience[skill as Skill] as { Quantity: number }).Quantity}]\r\n      }\r\n    });\r\n    const traits = EnumMap(Trait).flatMap(trait => {\r\n      switch(trait) {\r\n        case Trait.Compulsion:\r\n          const triggers = TraitExperience[trait];\r\n          return Object.keys(triggers).map(trigger => { return { Kind: Statistic.Trait, Trait: trait, Trigger: trigger, Quantity: triggers[trigger] }});\r\n        case Trait.ExceptionalAttribute:\r\n          const attributes = TraitExperience[trait] as { [value in Attribute]: number };\r\n          return Object.keys(attributes).map(att =>  { return { Kind: Statistic.Trait, Trait: trait, Attribute: att, Quantity: attributes[(+att) as keyof typeof attributes] }});\r\n        case Trait.NaturalAptitude:\r\n          const skills = TraitExperience[trait] as { [value in Skill]: number };\r\n          return Object.keys(skills).map(skill =>  { return { Kind: Statistic.Trait, Trait: trait, Skill: skill, Quantity: skills[(+skill) as keyof typeof skills] }});\r\n\r\n        default:\r\n          return [{ Kind: Statistic.Trait, Trait: trait, Quantity: (TraitExperience[trait as Trait])}]\r\n    }});\r\n    //Should this also include Set and If exp?\r\n    return [...atts, ...skills, ...traits].map(exp => exp as Experience).filter(exp => ('Or' in exp) || ('Pick' in exp) ? false : exp.Quantity !== 0);\r\n  }\r\n\r\n  get affiliationExperience(): Experience[] {\r\n    const affNames: { [value in Stage]: string | undefined } = {\r\n      0: this.stageZero?.currentAffiliation?.Name,\r\n      1: this.stageOne?.currentAffiliation.Name,\r\n      2: this.stageTwo?.currentAffiliation.Name,\r\n      3: undefined,\r\n      4: undefined\r\n    }\r\n\r\n    //I sorta hate this but i just need something to work correctly for now\r\n    if(affNames[2]) {\r\n      if(affNames[2] !== affNames[1]) {\r\n        return [...this.stageOne.affiliationExperience, ...this.stageTwo.affiliationExperience].map(exp => { return { ...exp, Quantity: Math.floor(exp.Quantity / 2) } })\r\n      } else {\r\n        return this.stageOne.affiliationExperience;\r\n      }\r\n    } else {\r\n      if(affNames[1]) {\r\n        if(affNames[1] !== affNames[0]) {\r\n          return [...this.stageZero.affiliationExperience, ...this.stageOne.affiliationExperience].map(exp => { return { ...exp, Quantity: Math.floor(exp.Quantity / 2) } })\r\n        } else {\r\n          return this.stageZero.affiliationExperience;\r\n        }\r\n      } else {\r\n        if(affNames[0]) {\r\n          return this.stageZero.affiliationExperience\r\n        } else {\r\n          return [];\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  CurrentLanguage = new ReplaySubject<Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string }>();\r\n\r\n  get Requirments(): Requirement[] {\r\n    const orReqs: Requirement[] = [];\r\n    const andReqs: Requirement[] = [];\r\n    const notReqs: Requirement[] = [];\r\n\r\n    const attributeRequirments: Partial<{\r\n      [att in Attribute]: OneOrBoth<Record<'upper', number>, Record<'lower', number>>\r\n    }> = {}\r\n    let skillRequirments: Partial<{\r\n      [S in Skill]: \r\n        ( S extends Skill.Acrobatics ? { [Subskill in Acrobatics]: OneOrBoth<Record<'upper', number>, Record<'lower', number>> }\r\n        : S extends Skill.AnimalHandling ? { [Subskill in AnimalHandling]: OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Communications ? { [Subskill in Communications]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Driving ? { [Subskill in Driving]: OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Gunnery ? { [Subskill in Gunnery]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.MedTech ? { [Subskill in MedTech]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Navigation ? { [Subskill in Navigation]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Piloting ? { [Subskill in Piloting]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Prestidigitation ? { [Subskill in Prestidigitation]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.SecuritySystem ? { [Subskill in SecuritySystem]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Surgery ? { [Subskill in Surgery]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Tactics ? { [Subskill in Tactics]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Technician ? { [Subskill in Technician]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.ThrownWeapons ? { [Subskill in ThrownWeapons]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends Skill.Tracking ? { [Subskill in Tracking]:OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : S extends (Skill.Language | Skill.Career | Skill.Protocol | Skill.Streetwise | Skill.Survival | Skill.Art | Skill.Interest) ? {[Subskill: string]: OneOrBoth<Record<'upper', number>, Record<'lower', number>>}\r\n        : OneOrBoth<Record<'upper', number>, Record<'lower', number>>)\r\n    }> = {};\r\n    const traitRequirments: Partial<{\r\n      [T in Trait]:\r\n        ( T extends Trait.Compulsion ? { [Trigger: string]: OneOrBoth<Record<'upper', number>, Record<'lower', number>> } \r\n        : T extends Trait.ExceptionalAttribute ? { [Value in Attribute]: OneOrBoth<Record<'upper', number>, Record<'lower', number>> }\r\n        : T extends Trait.NaturalAptitude ? { [Value in Skill]: OneOrBoth<Record<'upper', number>, Record<'lower', number>> }\r\n        : OneOrBoth<Record<'upper', number>, Record<'lower', number>>)\r\n    }>[] = [];\r\n\r\n    const processAttReq = (att: Attribute, value: Record<'upper', number> | Record<'lower', number>) => {\r\n      const current = attributeRequirments[att];\r\n\r\n      if(!current) {\r\n        attributeRequirments[att] = value;\r\n        return;\r\n      }\r\n      if('lower' in value) {\r\n        if('lower' in current) {\r\n          attributeRequirments[att] = { ...current, 'lower': Math.max(current.lower, value.lower) };\r\n        } else {\r\n          attributeRequirments[att] = { ...current, ...value };\r\n        }\r\n      } else {\r\n        if('upper' in current) {\r\n          attributeRequirments[att] = { ...current, 'upper': Math.min(current.upper, value.upper) };\r\n        } else {\r\n          attributeRequirments[att] = { ...current, ...value };\r\n        }\r\n      }\r\n    }\r\n\r\n    const processSkillReq = <S extends Skill>(skill: S,value: Record<'upper', number> | Record<'lower', number>, subskill: \r\n      ( S extends Skill.Acrobatics ? Acrobatics\r\n      : S extends Skill.AnimalHandling ? AnimalHandling\r\n      : S extends Skill.Communications ? Communications\r\n      : S extends Skill.Driving ? Driving\r\n      : S extends Skill.Gunnery ? Gunnery\r\n      : S extends Skill.MedTech ? MedTech\r\n      : S extends Skill.Navigation ? Navigation\r\n      : S extends Skill.Piloting ? Piloting\r\n      : S extends Skill.Prestidigitation ? Prestidigitation\r\n      : S extends Skill.SecuritySystem ? SecuritySystem\r\n      : S extends Skill.Surgery ? Surgery\r\n      : S extends Skill.Tactics ? Tactics\r\n      : S extends Skill.Technician ? Technician\r\n      : S extends Skill.ThrownWeapons ? ThrownWeapons\r\n      : S extends Skill.Tracking ? Tracking\r\n      : S extends (Skill.Language | Skill.Career | Skill.Protocol | Skill.Streetwise | Skill.Survival | Skill.Art | Skill.Interest) ? string\r\n      : undefined)) => {\r\n      let current = skillRequirments[skill];\r\n      if(current) {\r\n        switch(skill) {\r\n          case Skill.Acrobatics:\r\n          case Skill.AnimalHandling:\r\n          case Skill.Communications:\r\n          case Skill.Driving:\r\n          case Skill.Gunnery:\r\n          case Skill.MedTech:\r\n          case Skill.Navigation:\r\n          case Skill.Piloting:\r\n          case Skill.Prestidigitation:\r\n          case Skill.SecuritySystem:\r\n          case Skill.Surgery:\r\n          case Skill.Tactics:\r\n          case Skill.Technician:\r\n          case Skill.ThrownWeapons:\r\n          case Skill.Tracking:\r\n          case Skill.Language:\r\n          case Skill.Career:\r\n          case Skill.Protocol:\r\n          case Skill.Streetwise:\r\n          case Skill.Survival:\r\n          case Skill.Art:\r\n          case Skill.Interest:\r\n            if(subskill) {\r\n              if(subskill in current) {\r\n                current = current[subskill as keyof typeof skillRequirments[Skill]];\r\n                if(!current) {\r\n                  skillRequirments = {...skillRequirments, [skill]: value };\r\n                  return;\r\n                } else {\r\n                  if('lower' in value) {\r\n                    if('lower' in current && typeof current['lower'] === 'number') {\r\n                      skillRequirments[skill] = { ...current, 'lower': Math.max(current['lower'] as number, value.lower) };\r\n                    } else {\r\n                      skillRequirments[skill] = { ...current, ...value };\r\n                    }\r\n                  } else {\r\n                    if('upper' in current && typeof current['upper'] === 'number') {\r\n                      skillRequirments[skill] = { ...current, 'upper': Math.min(current['upper'], value.upper) };\r\n                    } else {\r\n                      skillRequirments[skill] = { ...current, ...value };\r\n                    }\r\n                  }\r\n                }\r\n              } else {\r\n                skillRequirments = {...skillRequirments, [skill]: { ...skillRequirments[skill], [subskill]: value } };\r\n              }\r\n            } else {\r\n              throw new Error('This should not happen!');\r\n            }\r\n            return;\r\n          default:\r\n            if(!current) {\r\n              skillRequirments = {...skillRequirments, [skill]: value };\r\n              return;\r\n            }\r\n            if('lower' in value) {\r\n              if('lower' in current && typeof current.lower === 'number') {\r\n                skillRequirments[skill] = { ...current, 'lower': Math.max(current.lower, value.lower) };\r\n              } else {\r\n                skillRequirments[skill] = { ...current, ...value };\r\n              }\r\n            } else {\r\n              if('upper' in current && typeof current.upper === 'number') {\r\n                skillRequirments[skill] = { ...current, 'upper': Math.min(current.upper, value.upper) };\r\n              } else {\r\n                skillRequirments[skill] = { ...current, ...value };\r\n              }\r\n            }\r\n            return;\r\n        }\r\n      } else {\r\n        if(subskill) {\r\n          skillRequirments = {...skillRequirments, [skill]: { [subskill]: value } };\r\n        } else {\r\n          skillRequirments = {...skillRequirments, [skill]: value };\r\n        }\r\n      }\r\n    }\r\n\r\n    const processReq = (req: Requirement) => {\r\n      if('Not' in req) notReqs.push(req);\r\n      if('And' in req) andReqs.push(req);\r\n      if('Or' in req) orReqs.push(req);\r\n      if(!('Kind' in req)) throw new Error('Kind may not be missing from a requirment!');\r\n      switch(req.Kind) {\r\n        case Statistic.Attribute:\r\n          switch(req.Op) {\r\n            case '>':\r\n              processAttReq(req.Attribute, { lower: req.Level + 1 });\r\n              return;\r\n            case '>=':\r\n              processAttReq(req.Attribute, { lower: req.Level });\r\n              return;\r\n            case '<':\r\n              processAttReq(req.Attribute, { upper: req.Level - 1 });\r\n              return;\r\n            case '<=':\r\n              processAttReq(req.Attribute, { upper: req.Level });\r\n              return;\r\n            default:\r\n              //does the = op even really mave much sense?  maybe it should be removed?\r\n              return;\r\n          }\r\n        case Statistic.Skill:\r\n          const subskill = 'Subskill' in req \r\n            ? (req.Subskill instanceof RegExp \r\n              ? req.Subskill.source \r\n              : req.Subskill) \r\n            : undefined;\r\n          switch(req.Op) {\r\n            case '>':\r\n              processSkillReq(req.Skill, { lower: req.Level + 1 }, subskill);\r\n              return;\r\n            case '>=':\r\n              processSkillReq(req.Skill, { lower: req.Level }, subskill);\r\n              return;\r\n            case '<':\r\n              processSkillReq(req.Skill, { upper: req.Level - 1 }, subskill);\r\n              return;\r\n            case '<=':\r\n              processSkillReq(req.Skill, { upper: req.Level }, subskill);\r\n              return;\r\n            default:\r\n              //does the = op even really mave much sense?  maybe it should be removed?\r\n              return;\r\n          }\r\n        default:\r\n          throw new Error('How did this even happen?');\r\n      }\r\n    };\r\n\r\n    [\r\n      ...(this.stageZero ? this.stageZero.requirments : []),\r\n      ...(this.stageOne ? this.stageOne.requirments : []),\r\n      ...(this.stageTwo ? this.stageTwo.requirments : []),\r\n      ...(this.stageThree?.map(component => component.Requirments).flatMap(req => req)),\r\n      ...(this.stageFour?.map(component => component.Requirments).flatMap(req => req))\r\n    ].forEach(processReq)\r\n\r\n    //return [...attributeRequirments, ...skillRequirments, ...traitRequirments];\r\n    return [];\r\n  }\r\n\r\n  stage3subs: Subscription[] = [];\r\n  stage4subs: Subscription[] = [];\r\n  ngAfterViewInit(): void {\r\n    let alreadySubbed:{ [value in Exclude<Stage, 0>]: boolean } = {\r\n      1: false,\r\n      2: false,\r\n      3: false,\r\n      4: false\r\n    };\r\n    this.subscriptions.push(\r\n      this.stageThree.changes.subscribe((changes: QueryList<Stage3Component>) => {\r\n        this.stage3subs.forEach(sub => sub.unsubscribe());\r\n        this.stage3subs.length = 0;\r\n        changes.forEach(change => {\r\n          this.stage3subs.push(\r\n            change.changed.subscribe(() => {\r\n              this.ref.detectChanges();  \r\n              this.ref.markForCheck(); \r\n            }),\r\n            change.complete.subscribe((_) => {\r\n              this.ref.detectChanges();  \r\n              this.ref.markForCheck(); \r\n            }),\r\n            change.affiliationChanged.subscribe(_ => {\r\n              this.ref.detectChanges();  \r\n              this.ref.markForCheck(); \r\n            }),\r\n            change.backgroundChanged.subscribe(_ => {\r\n              this.ref.detectChanges();  \r\n              this.ref.markForCheck(); \r\n            })\r\n          );\r\n        });\r\n      }),\r\n      this.stageFour.changes.subscribe((changes: QueryList<Stage4Component>) => {\r\n        this.stage4subs.forEach(sub => sub.unsubscribe());\r\n        this.stage4subs.length = 0;\r\n        changes.forEach(change => {\r\n          this.stage4subs.push(\r\n            change.changed.subscribe(() => {\r\n              this.ref.detectChanges();  \r\n              this.ref.markForCheck(); \r\n            }),\r\n            change.complete.subscribe((_) => {\r\n              this.ref.detectChanges();  \r\n              this.ref.markForCheck(); \r\n            }),\r\n            change.affiliationChanged.subscribe(_ => {\r\n              this.ref.detectChanges();  \r\n              this.ref.markForCheck(); \r\n            }),\r\n            change.backgroundChanged.subscribe(_ => {\r\n              this.ref.detectChanges();  \r\n              this.ref.markForCheck(); \r\n            })\r\n          );\r\n        });\r\n      }),\r\n      this.stageZero.complete.subscribe((_) => {\r\n        this.ref.detectChanges();  \r\n        this.ref.markForCheck(); \r\n\r\n        if(!alreadySubbed[1]) {\r\n          this.subscriptions.push(this.stageOne.complete.subscribe((_) => {\r\n            this.ref.detectChanges();  \r\n            this.ref.markForCheck(); \r\n    \r\n            if(!alreadySubbed[2]) {\r\n              this.subscriptions.push(this.stageTwo.complete.subscribe((_) => {\r\n                this.ref.detectChanges();  \r\n                this.ref.markForCheck(); \r\n              }),\r\n              this.stageTwo.changed.subscribe(() => {\r\n                this.ref.detectChanges();  \r\n                this.ref.markForCheck(); \r\n              }),\r\n              this.stageTwo.affiliationChanged.subscribe((_) => {\r\n                this.ref.detectChanges();  \r\n                this.ref.markForCheck(); \r\n              }));\r\n              alreadySubbed[2] = true;\r\n            }\r\n          }),\r\n          this.stageOne.changed.subscribe(() => {\r\n            this.ref.detectChanges();  \r\n            this.ref.markForCheck(); \r\n          }),\r\n          this.stageOne.affiliationChanged.subscribe((_) => {\r\n            this.ref.detectChanges();  \r\n            this.ref.markForCheck(); \r\n          }),\r\n          this.stageOne.backgroundChanged.subscribe((_) => {\r\n            this.ref.detectChanges();  \r\n            this.ref.markForCheck(); \r\n          }));\r\n          alreadySubbed[1] = true;\r\n        }\r\n      }),\r\n      this.stageZero.changed.subscribe(() => {\r\n        this.ref.detectChanges();  \r\n        this.ref.markForCheck(); \r\n      }),\r\n      this.stageZero.languageChanged.subscribe((lang) => {\r\n        this.CurrentLanguage.next(lang);\r\n        this.ref.detectChanges();  \r\n        this.ref.markForCheck(); \r\n      }),\r\n    );\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions, ...this.stage3subs, ...this.stage4subs].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  characterExp: Experience[] = [];\r\n  ngOnInit(): void {\r\n    this.subscriptions.push(this.character.Experience.subscribe({\r\n      next: (value) => this.characterExp.push(value)\r\n    }));\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  showHideItemizedExp(_: Event) {\r\n    this.itemizedExp.nativeElement.value = this.itemizedExp.nativeElement.value === 'on' ? 'off' : 'on';\r\n\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();\r\n  }\r\n\r\n  RealLife: {\r\n    stage: Omit<Stage, 0 | 1 | 2>\r\n    index: number,\r\n    year: Observable<Eternal>,\r\n    aff: AffiliationInfo\r\n  }[] = []\r\n  addRealLife(e: Event, stage: Omit<Stage, 0 | 1 | 2>) {\r\n    this.RealLife.unshift({\r\n      stage: stage,\r\n      index: (this.RealLife.length) + 0,\r\n      year: (this.LatestStage3Or4 ?? this.stageTwo).affYearChanged,\r\n      aff: { ...(this.LatestStage3Or4 ?? this.stageTwo).currentAffiliation }\r\n    });\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  removeRealLife(e: Event) {\r\n    this.RealLife.shift();\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck(); \r\n  }\r\n}","\r\n\r\n<div class=\"row\">\r\n    <div class=\"leftside column\">\r\n        <app-vitals #vitals \r\n            [character]=\"character\"/>\r\n        <h4>Total Exp {{ TotalExp }}</h4>\r\n        <label for=\"showExp\">show exp?</label><input type=\"checkbox\" id=\"showExp\" name=\"showExp\" checked #itemizedExp (change)=\"showHideItemizedExp($event)\"/>\r\n        <ng-container *ngIf=\"itemizedExp.value === 'on'\">\r\n            <span class=\"wrapper itemized\" *ngFor=\"let exp of Experience\">\r\n                {{ exp | exp }}\r\n            </span>\r\n        </ng-container>\r\n    </div>\r\n    <div class=\"main column\">\r\n        <span *ngIf=\"progress[2]\">\r\n            <ng-container *ngIf=\"(LatestStage3Or4 ?? stageTwo).affYear < vitals.startingYear\" >\r\n                <input type=\"button\" title=\"AddStage3\" [value]=\"'Add Stage 3'\" [disabled]=\"RealLife.length === 0 ? false : !LatestStage3Or4?.isComplete\" (click)=\"addRealLife($event, 3)\"/>\r\n                <input type=\"button\" title=\"AddStage4\" [value]=\"'Add Stage 4'\" [disabled]=\"RealLife.length === 0 ? false : !LatestStage3Or4?.isComplete\" (click)=\"addRealLife($event, 4)\"/>    \r\n            </ng-container>\r\n            <ng-container *ngIf=\"RealLife.length !== 0\">\r\n                <input type=\"button\" title=\"Remove\" [value]=\"'Remove Latest'\" (click)=\"removeRealLife($event)\"/>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"RealLife.length > 0\">\r\n                <div *ngFor=\"let rl of RealLife\">\r\n                    <app-stage3 #stageThree\r\n                        *ngIf=\"rl.stage === 3\" \r\n                        [startingYear]=\"rl.year\" \r\n                        [endingYear]=\"vitals.startingYearChanged\"\r\n                        [archtype]=\"vitals.currentArchtype\"\r\n                        [hidden]=\"!progress[2]\"\r\n                        [affiliation]=\"rl.aff\"\r\n                        [language]=\"CurrentLanguage\"/>\r\n                    <app-stage4 #stageFour\r\n                        *ngIf=\"rl.stage === 4\"\r\n                        [startingYear]=\"rl.year\"\r\n                        [endingYear]=\"vitals.startingYearChanged\"\r\n                        [archtype]=\"vitals.currentArchtype\"\r\n                        [hidden]=\"!progress[2]\"\r\n                        [affiliation]=\"rl.aff\"\r\n                        [language]=\"CurrentLanguage\" />\r\n                </div>\r\n            </ng-container>\r\n        </span>\r\n\r\n        <app-stage2 #stageTwo\r\n            *ngIf=\"stageZero.currentAffiliation && stageOne\"\r\n            [startingYear]=\"stageOne.affYearChanged\" \r\n            [archtype]=\"vitals.currentArchtype\"\r\n            [hidden]=\"!progress[1]\"\r\n            [affiliation]=\"stageOne.currentAffiliation\"\r\n            [language]=\"stageOne.language\" />\r\n        <app-stage1 #stageOne\r\n            *ngIf=\"stageZero.currentAffiliation\"\r\n            [startingYear]=\"vitals.birthYearChanged\" \r\n            [archtype]=\"vitals.currentArchtype\"\r\n            [hidden]=\"!progress[0]\"\r\n            [startingAffiliation]=\"stageZero.currentAffiliation\"\r\n            [language]=\"CurrentLanguage\" />\r\n        <app-stage0 #stageZero\r\n            [startingYear]=\"vitals.yearOfBirth\" \r\n            [archtype]=\"vitals.currentArchtype\" />\r\n    </div>\r\n</div>","import { ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\nimport { Character } from 'src/app/character/character';\nimport { Archtype, EnumMap, Eternal, clamp } from 'src/app/utils/common';\n\n@Component({\n  selector: 'app-vitals',\n  templateUrl: './vitals.component.html',\n  styleUrls: ['./vitals.component.scss']\n})\nexport class VitalsComponent implements OnInit {\n  @Input({ required: true }) character!: Character;\n\n  @ViewChild('startYear') startYear!: ElementRef<HTMLInputElement>;\n  @ViewChild('startAge') startAge!: ElementRef<HTMLInputElement>;\n  @ViewChild('birthYear') birthYear!: ElementRef<HTMLInputElement>;\n  @ViewChild('archtype') archtype!: ElementRef<HTMLSelectElement>;\n\n  @Output() archtypeChanged = new EventEmitter<Archtype>();\n  @Output() characterChanged = new EventEmitter<Character>();\n  @Output() startingYearChanged = new ReplaySubject<Eternal>();\n  @Output() birthYearChanged = new ReplaySubject<Eternal>();\n\n  _startingYear: number = 3076;\n  _startingAge: number = 21;\n  targetExperience: number = 5000;\n  characterName: string = ''\n  private _currentArchtype: Archtype | undefined = undefined;\n\n  get startingYear(): Eternal {\n    return Math.max(this._startingYear, 2398+16) as Eternal;\n  }\n\n  set startingYear(value: number) {\n    if(value < 0) return;\n    if(this._startingYear > value) {\n      this.startingAge -= (this.startingYear - value);\n    } else {\n      this.startingAge += value - this.startingYear;\n    }\n    this._startingYear = value;\n\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n  }\n\n  get startingAge(): number {\n    return Math.max(16, this._startingAge);\n  }\n\n  set startingAge(value: number) {\n    this._startingAge = Math.max(value, 16);\n\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n  }\n\n  get archtypes(): number[] {\n    const vals = EnumMap(Archtype)\n    return vals;\n  }\n\n  get yearOfBirth(): Eternal {\n    return this.startingYear-this.startingAge as Eternal;\n  }\n\n  set yearOfBirth(value: number) {\n    this.startingAge = this.startingYear - Math.max(value, 2398);\n\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n  }\n\n  get maxBirthYear(): number {\n    return this.startingYear - 16;\n  }\n\n  get currentArchtype():  Archtype | undefined {\n    return this._currentArchtype;\n  }\n\n  set currentArchtype(val: Archtype | undefined) {\n    this._currentArchtype = val;\n\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n  }\n\n  constructor(private ref: ChangeDetectorRef) {\n  }\n  ngOnInit(): void {\n    this.startingYearChanged.next(this.startingYear);\n    this.birthYearChanged.next(this.yearOfBirth);\n  }\n\n\n  nameChanged(e: Event) {\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n\n    this.characterChanged.emit(this.character);\n  }\n\n  ageChanged(e: Event) {\n    this.startingAge = this.startAge.nativeElement.valueAsNumber;\n    this.startAge.nativeElement.valueAsNumber = this.startingAge;\n\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n\n    this.characterChanged.emit(this.character);\n    if(!isNaN(this.yearOfBirth)) this.birthYearChanged.next(this.yearOfBirth);\n  }\n\n  startYearChanged(e: Event) {\n    this.startingYear = this.startYear.nativeElement.valueAsNumber;\n    this.startYear.nativeElement.valueAsNumber = this.startingYear;\n\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n\n    this.characterChanged.emit(this.character);\n    if(!isNaN(this.startingYear)) this.startingYearChanged.next(this.startingYear);\n  }\n\n  yearOfBirthChanged(e: Event) {\n    this.yearOfBirth = this.birthYear.nativeElement.valueAsNumber;\n    this.birthYear.nativeElement.valueAsNumber = this.yearOfBirth;\n\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n\n    this.characterChanged.emit(this.character);\n    if(!isNaN(this.yearOfBirth)) this.birthYearChanged.next(this.yearOfBirth);\n  }\n\n  currentArchtypeChanged(e: Event) {\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n    \n    const val = Archtype[this.archtype.nativeElement.selectedIndex-1] as keyof typeof Archtype\n    this.currentArchtype = Archtype[val];\n\n    this.characterChanged.emit(this.character);\n  }\n}\n\n","<form>\n    <span class=\"wrapper\"><label for=\"name\">Name</label><input id=\"name\" type=\"text\" [value]=\"characterName\" (change)=\"nameChanged($event)\"/></span>\n    <span class=\"wrapper\"><label for=\"startingYear\">Starting Year</label><input id=\"startingYear\" type=\"number\" [min]=\"2398\" [max]=\"3175\" placeholder=\"3076\" [valueAsNumber]=\"startingYear\" class=\"num\" (change)=\"startYearChanged($event)\" #startYear /></span>\n    <span class=\"wrapper\"><label for=\"startingAge\">Starting Age</label><input id=\"startingAge\" type=\"number\" [min]=\"16\" placeholder=\"21\" [valueAsNumber]=\"startingAge\" class=\"num\" (change)=\"ageChanged($event)\" #startAge/></span>\n    <span class=\"wrapper\"><label for=\"targetExperience\">Target Experience</label><input id=\"targetExperience\" type=\"number\" [min]=\"3000\" placeholder=\"5000\" [valueAsNumber]=\"targetExperience\" class=\"num\"/></span>\n    <span class=\"wrapper\"><label for=\"birthYear\">Birth Year</label><input id=\"birthYear\" type=\"number\" [max]=\"maxBirthYear\" [min]=\"2382\" [valueAsNumber]=\"yearOfBirth\" (change)=\"yearOfBirthChanged($event)\" #birthYear class=\"num\" #birth></span>\n    <span class=\"wrapper\"><label for=\"archtype\">Archtype</label>\n        <select name=\"archtype\" id=\"archtype\" #archtype (change)=\"currentArchtypeChanged($event)\">\n            <option hidden disabled selected value> -- select an option -- </option>\n            <option *ngFor=\"let archtype of archtypes\" class=\"opt\">{{ archtype | archtype }}</option>\n        </select>\n    </span>\n</form>","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnDestroy, Output, QueryList, ViewChild, ViewChildren } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { AffiliationInfo, Subaffiliation } from 'src/app/affiliation/affiliation';\r\nimport { Stat, Skill, Statistic, Experience, Requirement, Citation } from 'src/app/utils/common';\r\nimport { ExpComponent } from 'src/app/utils/exp/exp.component';\r\n\r\n@Component({\r\n  selector: 'app-stage0-aff',\r\n  templateUrl: './aff.component.html',\r\n  styleUrls: ['./aff.component.scss']\r\n})\r\nexport class AffComponent implements AfterViewInit, OnDestroy {\r\n\r\n  @Input({ required: true }) affiliations!: (AffiliationInfo & Record<'Subaffiliations', Subaffiliation[]>)[];\r\n  @Output() affiliationChanged = new EventEmitter<(AffiliationInfo & Record<'Subaffiliations', Subaffiliation[]>)>();\r\n  @Output() choice = new EventEmitter<Record<'add',Experience[]> & Record<'remove', Experience[]>>();\r\n\r\n  @ViewChild('exp') exp!: ExpComponent;\r\n  @ViewChild('affSel') affSel!: ElementRef<HTMLSelectElement>;\r\n\r\n  currentAffiliationIndex?: number;\r\n\r\n  get experience(): Experience[] {\r\n    return [\r\n      ...this.exp.experience,\r\n    ]\r\n  }\r\n\r\n  get requirments(): Requirement[] {\r\n    return [];\r\n  }\r\n\r\n  get isComplete(): boolean {\r\n    return this.currentAffiliationIndex !== undefined && this.exp.isComplete;\r\n  }\r\n\r\n  get currentAffiliation(): (AffiliationInfo & Record<'Subaffiliations', Subaffiliation[]>) | undefined {\r\n    return this.currentAffiliationIndex !== undefined ? this.affiliations[this.currentAffiliationIndex] : undefined;\r\n  }\r\n\r\n  get subaffiliations(): Subaffiliation[] {\r\n    return this.currentAffiliation ? this.currentAffiliation.Subaffiliations : [];\r\n  }\r\n\r\n  get affSubTotal():number {\r\n    return this.currentAffiliation ? this.currentAffiliation.Experience.reduce((a, b) => a+b.Quantity, 0) : 0;\r\n  }\r\n\r\n  private subscriptions: Subscription[] = [];\r\n  constructor(\r\n    private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscriptions.push(\r\n      this.exp.choice.subscribe(choice => {\r\n        this.choice.emit(choice);\r\n        this.ref.detectChanges();  \r\n        this.ref.markForCheck();  \r\n      }),\r\n      this.exp.completed.subscribe(() => {\r\n        this.ref.detectChanges();  \r\n        this.ref.markForCheck();\r\n      }));\r\n    \r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  currentAffiliationChanged(_: Event) {\r\n    this.affiliationChanged.emit(this.currentAffiliation);\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck(); \r\n  }\r\n}\r\n","<span [class.incomplete]=\"affSel.selectedIndex === 0\"><form>\r\n    <label for=\"aff\"><h3>Affiliation</h3></label>\r\n    <select name=\"affiliations\" id=\"aff\" [(ngModel)]=\"currentAffiliationIndex\" (change)=\"currentAffiliationChanged($event)\" #affSel>\r\n        <option hidden disabled selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n        <option *ngFor=\"let aff of affiliations\" class=\"opt\" [ngValue]=\"affiliations.indexOf(aff)\">{{ aff.Name }}</option>\r\n    </select>\r\n    <div *ngIf=\"currentAffiliation\">\r\n        {{ currentAffiliation.Citation| citation }}\r\n    </div>\r\n</form></span>\r\n\r\n<div [hidden]=\"!currentAffiliation\">\r\n    <h4>Subtotal: {{affSubTotal}}</h4>\r\n    <app-exp [values]=\"currentAffiliation?.Experience ?? []\" #exp />\r\n</div>","import { AfterViewInit, ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, Output, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { AffiliationInfo, Subaffiliation } from 'src/app/affiliation/affiliation';\nimport { AffiliationsService } from 'src/app/affiliation/affiliations.service';\nimport { Experience, Requirement } from 'src/app/utils/common';\nimport { AffComponent } from './aff/aff.component';\nimport { SubaffComponent } from './subaff/subaff.component';\n\n@Component({\n  selector: 'app-newaff',\n  templateUrl: './newaff.component.html',\n  styleUrls: ['./newaff.component.scss']\n})\nexport class NewaffComponent implements AfterViewInit, OnDestroy {\n  @Input() excludedAffiliations?: AffiliationInfo[];\n  @Input({ required: true }) currentYear!: number;\n  \n  @Output() complete = new EventEmitter<Experience[]>();\n  @Output() changed = new EventEmitter<never>();\n  @Output() affiliationChanged = new EventEmitter<AffiliationInfo>();\n\n  @ViewChild('aff') aff!: AffComponent;\n  @ViewChild('subaff') subaff!: SubaffComponent;\n\n  get currentAffiliation(): AffiliationInfo | undefined {\n    return this.aff.currentAffiliation;\n  }\n\n  get isComplete(): boolean {\n    const affcompleted = this.aff?.isComplete ?? false;\n    const subaffcompleted = this.subaff?.isComplete ?? false\n    return affcompleted && subaffcompleted;\n  }\n\n  get experience(): Experience[] {\n    return [...this.aff.experience, ...this.subaff.experience];\n  }\n\n  get requirments(): Requirement[] {\n    return [...this.aff.requirments, ...this.subaff.requirments];\n  }\n\n  get affiliations():  (AffiliationInfo & Record<'Subaffiliations', Subaffiliation[]>)[]  {\n    const gottenAffs = this.affliliationService.At(this.currentYear);\n    const exAffs = (this.excludedAffiliations ? this.excludedAffiliations : []).map(exaff => exaff.Name);\n    return gottenAffs.filter(aff => !exAffs.includes(aff.Name));\n  }\n  \n  private subscriptions: Subscription[] = [];\n  constructor(\n    public affliliationService: AffiliationsService,\n    private ref: ChangeDetectorRef) {\n\n  }\n\n  ngAfterViewInit(): void {\n    this.subscriptions.push(\n      this.aff.choice.subscribe(_ => {\n        this.checkForComplete();\n      }),\n      this.aff.affiliationChanged.subscribe(_ => {\n        this.affiliationChanged.emit(this.currentAffiliation);\n        this.checkForComplete();\n      }),\n      this.subaff.subaffiliationChanged.subscribe(_ => {\n        this.affiliationChanged.emit(this.currentAffiliation);\n        this.checkForComplete();\n      }),\n      this.subaff.choice.subscribe(_ => {\n        this.checkForComplete();\n      })\n    );\n    this.ref.detectChanges();  \n    this.ref.markForCheck(); \n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  checkForComplete() {\n    this.ref.detectChanges();  \n    if (this.isComplete) {\n      //this should probaly emit all the completed info\n      this.complete.emit(this.experience);\n    } else {\n      this.changed.emit();\n    }\n    this.ref.markForCheck();  \n  }\n}\n","<div>\n    <app-stage0-aff #aff \n        [affiliations]=\"affiliations\"/>\n    \n    <app-stage0-subaff #subaff \n        [subaffiliations]=\"aff.currentAffiliation?.Subaffiliations ?? []\"/>\n</div>","import { AfterViewInit, ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, Output, ViewChild } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { Subaffiliation } from 'src/app/affiliation/affiliation';\r\nimport { Experience, Requirement } from 'src/app/utils/common';\r\nimport { ExpComponent } from 'src/app/utils/exp/exp.component';\r\n\r\n@Component({\r\n  selector: 'app-stage0-subaff',\r\n  templateUrl: './subaff.component.html',\r\n  styleUrls: ['./subaff.component.scss']\r\n})\r\nexport class SubaffComponent implements AfterViewInit, OnDestroy {\r\n  @Input({ required: true }) subaffiliations!: Subaffiliation[];\r\n  @Output() subaffiliationChanged = new EventEmitter<Subaffiliation>();\r\n  @Output() choice = new EventEmitter<Record<'add',Experience[]> & Record<'remove', Experience[]>>();\r\n  @ViewChild('exp') exp!: ExpComponent;\r\n\r\n  get experience(): Experience[] {\r\n    return this.exp ? this.exp.experience : [];\r\n  }\r\n\r\n  get requirments(): Requirement[] {\r\n    return [];\r\n  }\r\n\r\n  get isComplete(): boolean {\r\n    if ((this.subaffiliations?.length ?? 0) === 0) return false;\r\n    if (this.currentSubaffiliationIndex === undefined) return false;\r\n    return (!!this.currentSubaffiliation) && this.exp.isComplete;\r\n  }\r\n\r\n  currentSubaffiliationIndex?: number;\r\n  get currentSubaffiliation(): Subaffiliation | undefined {\r\n    return this.currentSubaffiliationIndex !== undefined ? this.subaffiliations[this.currentSubaffiliationIndex] : undefined;\r\n  }\r\n\r\n  get subaffSubTotal(): number {\r\n    return this.currentSubaffiliation ? this.currentSubaffiliation.Experience.reduce((a, b) => a+b.Quantity, 0) : 0;\r\n  }\r\n\r\n  private subscriptions: Subscription[] = [];\r\n  constructor(\r\n    private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscriptions.push(\r\n      this.exp.choice.subscribe(choice => {\r\n        this.choice.emit(choice);\r\n        this.ref.detectChanges();  \r\n        this.ref.markForCheck();  \r\n      }),\r\n      this.exp.completed.subscribe(() => {\r\n        this.ref.detectChanges();  \r\n        this.ref.markForCheck();\r\n      }));\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  currentSubaffiliationChanged(e: any) {\r\n    this.subaffiliationChanged.emit(this.currentSubaffiliation);\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck(); \r\n  }\r\n}\r\n","<div [hidden]=\"subaffiliations.length === 0\">\r\n    <span [class.incomplete]=\"currentSubaffiliationIndex === undefined\"><form>\r\n        <label for=\"subaff\"><h3>Subaffiliation</h3></label>\r\n        <select name=\"subaffiliations\" id=\"subaff\" [(ngModel)]=\"currentSubaffiliationIndex\" (change)=\"currentSubaffiliationChanged($event)\" required>\r\n            <option hidden disabled selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n            <option *ngFor=\"let subaff of subaffiliations\" class=\"opt\" [ngValue]=\"subaffiliations.indexOf(subaff)\">{{ subaff.Name }}</option>\r\n        </select>\r\n        <div *ngIf=\"currentSubaffiliation\">\r\n            {{ currentSubaffiliation.Citation| citation }}\r\n        </div>\r\n    </form></span>\r\n\r\n    <div [hidden]=\"!currentSubaffiliation\">\r\n        <h4>Subtotal: {{subaffSubTotal}}</h4>\r\n        <app-exp [values]=\"currentSubaffiliation?.Experience ?? []\" #exp/>\r\n    </div>\r\n</div>","import { AfterViewInit, ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, OnInit, Output, QueryList, ViewChildren } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { Stage, Range, Book, Citation, Attribute, EnumMap, Skill, Stat, Statistic, Trait, Experience } from 'src/app/utils/common';\nimport { RngService } from 'src/app/utils/rng.service';\nimport { SetExpComponent } from 'src/app/utils/set-exp/set-exp.component';\n\n@Component({\n  selector: 'app-random-life-event',\n  templateUrl: './random-life-event.component.html',\n  styleUrls: ['./random-life-event.component.scss']\n})\nexport class RandomLifeEventComponent implements OnInit, AfterViewInit, OnDestroy {\n  @Input({ required: true }) stage!: Exclude<Stage, 0>;\n\n  @ViewChildren(SetExpComponent) setExp!: QueryList<SetExpComponent>;\n\n  @Output() complete = new EventEmitter<Experience[]>();\n  @Output() changed = new EventEmitter<never>();\n\n  currentRoll!: Range<2, 13>;\n  rerollCount: number = 0;\n  acceptance = false;\n  modifiers: number = 0;\n\n  citation: Citation = {\n    Book: Book.ATimeOfWarCompanion,\n    Page: 77\n  }\n\n  traitAndAttStats = [\n    ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att }}),\n    ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\n  ]\n  anyStats = [\n    ...this.traitAndAttStats,\n    ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill }})\n  ]\n\n  get isComplete(): boolean {\n    const reduce = this.currentRoll !== 7 ? this.setExp.reduce((sofar, current) => sofar && current.isComplete, true) : true;\n    return this.acceptance && reduce;\n  }\n\n  get outcome(): {\n    Severity: string,\n    Experience: { [stage in Exclude<Stage, 0>]: number },\n    Denominator?:  2 | 3\n  } {\n    const effectiveRoll: Range<2, 13> = Math.min(Math.max(this.currentRoll + this.modifiers, 2), 12) as Range<2, 13>;\n\n    switch(effectiveRoll) {\n      case 2:\n        return {\n          Severity: 'Catastrophic!',\n          Experience: {\n            1: -100,\n            2: -200,\n            3: -400,\n            4: -500\n          },\n          Denominator: 2,\n        };\n      case 3:\n        return {\n          Severity: 'Horrific!',\n          Experience: {\n            1: -75,\n            2: -150,\n            3: -300,\n            4: -375\n          },\n          Denominator: 3\n        };\n      case 4:\n        return {\n          Severity: 'Terrible!',\n          Experience: {\n            1: -50,\n            2: -100,\n            3: -200,\n            4: -250\n          },\n        };\n      case 5:\n        return {\n          Severity: 'Bad',\n          Experience: {\n            1: -25,\n            2: -50,\n            3: -100,\n            4: -125\n          }\n        };\n      case 6:\n        return {\n          Severity: 'Not So Bad',\n          Experience: {\n            1: -10,\n            2: -20,\n            3: -50,\n            4: -60\n          }\n        };\n      case 7:\n        return {\n          Severity: 'Mundane',\n          Experience: {\n            1: 0,\n            2: 0,\n            3: 0,\n            4: 0\n          }\n        };\n      case 8:\n        return {\n          Severity: 'Medicore',\n          Experience: {\n            1: 10,\n            2: 20,\n            3: 50,\n            4: 60\n          }\n        };\n      case 9:\n        return {\n          Severity: 'Pretty Good',\n          Experience: {\n            1: 25,\n            2: 50,\n            3: 100,\n            4: 125\n          }\n        };\n      case 10:\n        return {\n          Severity: 'Great!',\n          Experience: {\n            1: 50,\n            2: 100,\n            3: 200,\n            4: 250\n          }\n        };\n      case 11:\n        return {\n          Severity: 'Awesome!',\n          Experience: {\n            1: 75,\n            2: 150,\n            3: 300,\n            4: 375\n          },\n          Denominator: 3\n        };\n      case 12:\n        return {\n          Severity: 'Blessed!',\n          Experience: {\n            1: 100,\n            2: 200,\n            3: 400,\n            4: 500\n          },\n          Denominator: 2\n        };\n    }\n  }\n\n  get experience(): Experience[] {\n    return this.setExp ? this.setExp.filter(exp => exp.isComplete).map(exp => exp.experience).flatMap(exp => exp) : [];\n  }\n\n  constructor(private rng: RngService,  private ref: ChangeDetectorRef) {\n    \n  }\n\n  private subscriptions: Subscription[] = [];\n  private setSubs: Subscription[] = [];\n  ngAfterViewInit(): void {\n    this.subscriptions.push(this.setExp.changes.subscribe((change: QueryList<SetExpComponent>) => {\n      this.setSubs.forEach(sub => sub.unsubscribe());\n      change.forEach(set => {\n        this.setSubs.push(set.choice.subscribe(_ => {\n          this.changed.emit();\n          if(this.isComplete) this.complete.emit(this.experience);\n          this.ref.detectChanges();  \n          this.ref.markForCheck();\n        }));\n      });\n    }));\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n  }\n\n  ngOnDestroy(): void {\n    [...this.subscriptions, ...this.setSubs].forEach(sub => sub.unsubscribe());\n  }\n\n  ngOnInit(): void {\n    this.currentRoll = this.rng.Roll() + this.rng.Roll() as Range<2, 13>;\n    this.ref.detectChanges();  \n    this.ref.markForCheck();\n  }\n\n  reroll() {\n    this.currentRoll = this.rng.Roll() + this.rng.Roll() as Range<2, 13>;\n    this.rerollCount = this.rerollCount+1;\n  }\n\n  acceptRoll(_:Event) {\n    this.acceptance = !this.acceptance\n    if(this.isComplete) this.complete.emit(this.experience);\n    this.ref.detectChanges();  \n    this.ref.markForCheck();  \n  }\n\n  round(numerator: number, denominator: number): number {\n    return Math.ceil(numerator / denominator);\n  }\n}\n\n","<h3>Random Life Event</h3>\n<span>The current roll is {{currentRoll}}.  You have re-rolled {{rerollCount}} times.</span>\n<h4>Outcome: {{outcome.Severity}}</h4>\n<div>\n    At this stage you have {{outcome.Experience[stage] >= 0 ? '+' : ''}}{{outcome.Experience[stage]}} EXP to allocate.\n    <ng-container *ngIf=\"outcome.Denominator\">\n        At least 1/{{outcome.Denominator}} rounded up must be spend on Attributes and/or Traits.\n    </ng-container>\n    <wbr />For table {{citation | citation}}\n</div>\n<div [class.incomplete]=\"!acceptance\">\n    <label for=\"accept\">Accept this outcome?</label>\n    <input type=\"checkbox\" id=\"accept\" name=\"accept\" [value]=\"acceptance\" unchecked #accept (click)=\"acceptRoll($event)\" />\n    <input type=\"button\" value=\"reroll\" title=\"reroll\" id=\"reroll\" name=\"reroll\" (click)=\"reroll()\" [disabled]=\"acceptance\"/>\n</div>\n<div *ngIf=\"acceptance\">\n    <div *ngIf=\"outcome.Denominator; else elseBlock\">\n        <h4>Attribute/Trait allocation total: {{round(outcome.Experience[stage], outcome.Denominator)}}</h4>\n        <ul>\n            <app-set-exp #setExp\n                [limit]=\"round(outcome.Experience[stage], outcome.Denominator)\"\n                [options]=\"traitAndAttStats\"\n                [enlist]=\"true\" />\n        </ul>\n        <h4>Free allocation total: {{outcome.Experience[stage] - round(outcome.Experience[stage], outcome.Denominator)}}</h4>\n        <ul>\n            <app-set-exp #setExp\n                [limit]=\"outcome.Experience[stage] - round(outcome.Experience[stage], outcome.Denominator)\"\n                [options]=\"anyStats\"\n                [enlist]=\"true\" />\n        </ul>\n    </div>\n    <ng-template #elseBlock>\n        <h4>Free allocation total: {{outcome.Experience[stage]}}</h4>\n        <ng-container *ngIf=\"outcome.Experience[stage] !== 0\">\n            <ul>\n            <app-set-exp #setExp\n                [limit]=\"outcome.Experience[stage]\"\n                [options]=\"anyStats\"\n                [enlist]=\"true\" />\n            </ul>\n        </ng-container>\n        <span *ngIf=\"outcome.Experience[stage] === 0\">\n            Because this outcome has zero exp you have nothing else to do here.\n        </span>\n    </ng-template>\n</div>\n<div *ngIf=\"!acceptance\">\n    If your GM allows for rerolls and you are happy with the outcome check the box to being allocating experience.\n</div>","import { Component } from '@angular/core';\r\nimport { Citation, Book, Experience, EnumMap, Statistic, Skill, Attribute, Requirement } from 'src/app/utils/common';\r\n\r\n@Component({\r\n  selector: 'app-stage0-default-exp',\r\n  templateUrl: './default-exp.component.html',\r\n  styleUrls: ['./default-exp.component.scss']\r\n})\r\nexport class DefaultExpComponent {\r\n\r\n\r\n  defaultExperienceCitation: Citation = {\r\n    Book: Book.ATimeOfWar,\r\n    Page: 52\r\n  }\r\n  defaultExperience: Experience[] = [\r\n    ...EnumMap(Attribute).map(att => { return <Experience>{ Kind: Statistic.Attribute, Attribute: <Attribute>att, Quantity: 100 } }),\r\n    { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: 'English', Quantity: 20 },\r\n    { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 10 }];\r\n  defaultRequirment: Requirement[] = [\r\n    ...EnumMap(Attribute).map(att => { return <Requirement>{ Kind: Statistic.Attribute, Attribute: <Attribute>att, Op: '>', Level: 0 } })\r\n  ]\r\n}\r\n","<ul>\r\n    <li *ngFor=\"let exp of defaultExperience\">\r\n        {{ exp | exp }}\r\n    </li>\r\n</ul>\r\n\r\n<p>Additionally +20 XP towards the affiliations primary or secondary language.  {{ defaultExperienceCitation | citation }}</p>","import { Component, Input, ChangeDetectorRef, Output, EventEmitter, AfterViewInit, OnDestroy, ViewChild } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { AffiliationsService } from 'src/app/affiliation/affiliations.service';\r\nimport { Archtype, Experience, Requirement, Skill, Stat, Statistic } from 'src/app/utils/common';\r\nimport { DefaultExpComponent } from './default-exp/default-exp.component';\r\nimport { NewaffComponent } from '../newaff/newaff.component';\r\nimport { AffiliationInfo } from 'src/app/affiliation/affiliation';\r\nimport { OrExpComponent } from 'src/app/utils/or-exp/or-exp.component';\r\n\r\n@Component({\r\n  selector: 'app-stage0',\r\n  templateUrl: './stage0.component.html',\r\n  styleUrls: ['./stage0.component.scss']\r\n})\r\nexport class Stage0Component implements AfterViewInit, OnDestroy {\r\n  @Input({ required: true }) startingYear!: number;\r\n  @Input({ required: true }) archtype!: Archtype | undefined;\r\n\r\n  @Output() complete = new EventEmitter<Experience[]>();\r\n  @Output() changed = new EventEmitter<never>();\r\n  @Output() languageChanged = new EventEmitter<Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string }>();\r\n\r\n  @ViewChild('default') default!: DefaultExpComponent;\r\n  @ViewChild('aff') aff!: NewaffComponent;\r\n  @ViewChild('langsel') langsel!: OrExpComponent;\r\n\r\n  get currentAffiliation(): AffiliationInfo | undefined {\r\n    return this.aff?.currentAffiliation;\r\n  }\r\n\r\n  get isComplete(): boolean {\r\n    return !!this.language && this.aff.isComplete;\r\n  }\r\n\r\n  private _language: (Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string }) | undefined = undefined;\r\n  private get language(): (Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string }) | undefined {\r\n    return this._language;\r\n  }\r\n  private set language(value: typeof this._language) {\r\n    this.ref.markForCheck(); \r\n    this._language = value;\r\n    this.ref.detectChanges();  \r\n  }\r\n  \r\n  get languages(): Array<Stat & { Skill: Skill.Language, Kind: Statistic.Skill, Subskill: string }> {\r\n    return this.currentAffiliation ? [this.currentAffiliation.PrimaryLanguage, ...this.currentAffiliation.SecondaryLanguages] : [];\r\n  }\r\n\r\n  get experience(): Experience[] {\r\n    return [\r\n      ...(this.language ? [this.language] : []),\r\n      ...this.default.defaultExperience,\r\n    ]\r\n  }\r\n\r\n  get affiliationExperience(): Experience[] {\r\n    return this.aff.experience;\r\n  }\r\n\r\n  get requirments(): Requirement[] {\r\n    return [];\r\n  }\r\n\r\n  get affiliationRequirments(): Requirement[] {\r\n    return this.aff.requirments;\r\n  }\r\n\r\n  private subscriptions: Subscription[] = [];\r\n  constructor(\r\n    public affliliationService: AffiliationsService,\r\n    private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscriptions.push(\r\n      this.aff.changed.subscribe(() => {\r\n        this.checkForComplete();\r\n      }),\r\n      this.aff.complete.subscribe((_) => {\r\n        this.checkForComplete();\r\n      }),\r\n      this.aff.affiliationChanged.subscribe((_) => {\r\n        this.checkForComplete();\r\n      this.langsel.choice.subscribe(changes => {\r\n        this.language = (changes.add[0] as typeof this._language)!\r\n        this.languageChanged.emit(this.language);\r\n      })\r\n    }));\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck(); \r\n  }\r\n\r\n  hasHideButton: boolean = false;\r\n  checkForComplete() {\r\n    this.ref.detectChanges();  \r\n    if (this.isComplete) {\r\n      //this should probaly emit all the completed info\r\n      this.complete.emit(this.experience);\r\n      this.hasHideButton = true;\r\n    } else {\r\n      this.hasHideButton = false;\r\n      this.changed.emit();\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscriptions.forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  visible: boolean = true;\r\n  toggleVisibility(newState: boolean): void {\r\n    this.visible = newState;\r\n\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n}\r\n\r\n","<h1><label for=\"toggleVisibilityStage0\">Stage 0 - Introduction</label><input type=\"button\" title=\"toggleVisibilityStage0\" [value]=\"isComplete ? 'hide' : 'show'\" id=\"toggleVisibilityStage0\" name=\"toggleVisibilityStage0\" (click)=\"toggleVisibility(!visible)\" *ngIf=\"hasHideButton\"/></h1> \r\n<div [hidden]=\"!visible\">\r\n    <p>We only want to show options for what affiliations a player can selected based on what they could have been born into in the year {{startingYear}}</p>\r\n\r\n    <app-stage0-default-exp #default />\r\n\r\n    <ul *ngIf=\"currentAffiliation\" [class.incomplete]=\"langsel.selectedIndex === 0\">\r\n        <li class=\"lang\">\r\n            Language/<app-or-exp #langsel\r\n                [options]=\"languages\"\r\n                [quantity]=\"20\"\r\n                [showLabel]=\"false\"/>\r\n        </li>\r\n    </ul>\r\n\r\n    <app-newaff #aff\r\n        [currentYear]=\"startingYear\"/>\r\n</div>","import { ChangeDetectorRef, Component, EventEmitter, Input, Output, ViewChild, AfterViewInit, OnDestroy, ElementRef, OnInit } from '@angular/core';\r\nimport { Observable, ReplaySubject, Subscription } from 'rxjs';\r\nimport { AffiliationInfo } from 'src/app/affiliation/affiliation';\r\nimport { BackgroundInfo } from 'src/app/background/background';\r\nimport { BackgroundsService } from 'src/app/background/backgrounds.service';\r\nimport { Archtype, Book, Citation, Eternal, Experience, Requirement, Skill, Statistic } from 'src/app/utils/common';\r\nimport { ExpComponent } from 'src/app/utils/exp/exp.component';\r\nimport { NewaffComponent } from '../newaff/newaff.component';\r\nimport { RandomLifeEventComponent } from '../random-life-event/random-life-event.component';\r\n\r\n@Component({\r\n  selector: 'app-stage1',\r\n  templateUrl: './stage1.component.html',\r\n  styleUrls: ['./stage1.component.scss']\r\n})\r\nexport class Stage1Component implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() hidden: boolean = false;\r\n  @Input({ required: true }) startingYear!: Observable<Eternal>;\r\n  @Input({ required: true }) archtype!: Archtype | undefined;\r\n  @Input({ required: true }) startingAffiliation!: AffiliationInfo;\r\n  @Input({ required: true }) language!: Observable<Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string }>\r\n\r\n  @Output() backgroundChanged = new EventEmitter<BackgroundInfo>();\r\n  @Output() complete = new EventEmitter<Experience[]>();\r\n  @Output() changed = new EventEmitter<never>();\r\n  @Output() affiliationChanged = new EventEmitter<AffiliationInfo>();\r\n  @Output() affYearChanged = new ReplaySubject<Eternal>();\r\n\r\n  @ViewChild('exp') exp!: ExpComponent;\r\n  @ViewChild('changeAff') changeAff!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('newaff') newaff!: NewaffComponent;\r\n  @ViewChild('rle') rle!: RandomLifeEventComponent;\r\n\r\n  changeAffState = 'off';\r\n\r\n  affChangeCitation: Citation = {\r\n    Book: Book.ATimeOfWar,\r\n    Page: 53\r\n  }\r\n\r\n  get affYear(): Eternal {\r\n    return (this.currentStartingYear + (this.currentBackground?.Duration ?? 0)) as Eternal;\r\n  }\r\n\r\n  get currentAffiliation(): AffiliationInfo {\r\n    return this.newaff?.currentAffiliation ?? this.startingAffiliation;\r\n  }\r\n\r\n  get isComplete(): boolean {\r\n    if(this.hidden) return false;\r\n    const check = this.exp.isComplete && this.rle.isComplete;\r\n    if(this.changeAffState === 'off') return check;\r\n    return (this.newaff?.isComplete ?? false) && check;\r\n  }\r\n\r\n  get experience(): Experience[] {\r\n    return [...this.exp.experience, ...this.rle.experience];\r\n  }\r\n\r\n  get affiliationExperience(): Experience[] {\r\n    return this.changeAffState === 'off' ? this.startingAffiliation.Experience : this.newaff.experience\r\n  }\r\n\r\n  get requirments(): Requirement[] {\r\n    return this.currentBackground?.Prereq ? [this.currentBackground.Prereq] : [];\r\n  }\r\n\r\n  get affiliationRequirments(): Requirement[] {\r\n    return this.changeAffState === 'off' ? [] : this.newaff.requirments;\r\n  }\r\n\r\n  get exAff() : AffiliationInfo[] {\r\n    return this.startingAffiliation ? [this.startingAffiliation] : [];\r\n  }\r\n\r\n  private _cache: { [year:number]: BackgroundInfo[] } = {};\r\n  get backgrounds(): BackgroundInfo[] {\r\n    if(isNaN(this.currentStartingYear)) return [];\r\n    if(this.currentStartingYear === undefined) return [];\r\n    if(this.currentStartingYear in this._cache) \r\n      return this._cache[this.currentStartingYear];\r\n    else {\r\n      return (this._cache[this.currentStartingYear] = this.backgroundServices.At(this.currentStartingYear, 1));\r\n    }\r\n  }\r\n\r\n  private _fixedBkgExp: Experience[] = [];\r\n  set fixedBackgroundExperience(values: Experience[]) {\r\n    this.ref.markForCheck();  \r\n    this._fixedBkgExp = values.map(exp => JSON.parse(JSON.stringify(exp))).map(exp => {\r\n      if('Or' in exp || 'Pick' in exp || 'Set' in exp || 'If' in exp) return exp;\r\n      switch(exp.Kind) {\r\n        case Statistic.Skill:\r\n          switch(exp.Skill) {\r\n            case Skill.Protocol:\r\n              if(exp.Subskill === '!') {\r\n                exp.Subskill = this.currentAffiliation.Protocol.Subskill;\r\n              }\r\n              return exp;\r\n            case Skill.Language:\r\n              if(exp.Subskill === '!' && !!this.currentLanguage) {\r\n                exp.Subskill = this.currentLanguage.Subskill;\r\n              }\r\n              return exp;\r\n            default:\r\n              return exp;\r\n          }\r\n        default:\r\n          return exp;\r\n      }\r\n    });\r\n    this.ref.detectChanges();  \r\n  }\r\n  get fixedBackgroundExperience(): Experience[] {\r\n    if(this._fixedBkgExp.length === 0 && this.currentBackground) {\r\n      this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n    }\r\n    return this._fixedBkgExp;\r\n  }\r\n\r\n  get currentBackground(): BackgroundInfo | undefined {\r\n    return this.currentBackgroundIndex !== undefined ? this.backgrounds[this.currentBackgroundIndex] : undefined;\r\n  }\r\n\r\n  get subtotal():number {\r\n    return this.currentBackground ? this.currentBackground.Experience.reduce((a, b) => a+('Pick' in b ? b.Pick.Count : 1)*b.Quantity, 0) : 0;\r\n  }\r\n\r\n  private _currentBackgroundIndex?: number;\r\n  get currentBackgroundIndex(): number | undefined {\r\n    return this._currentBackgroundIndex;\r\n  }\r\n  set currentBackgroundIndex(value: number | undefined) {\r\n    this._currentBackgroundIndex = value;\r\n\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n\r\n  }\r\n  currentStartingYear!: Eternal;\r\n\r\n  subscriptions: Subscription[] = [];\r\n  newaffSubs: Subscription[] = [];\r\n  constructor(\r\n    public backgroundServices: BackgroundsService,\r\n    private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n  ngOnInit(): void {\r\n    this.subscriptions.push(this.startingYear.subscribe(year => {\r\n      this.currentStartingYear = year;\r\n      this.affYearChanged.next(this.affYear);\r\n      this.ref.detectChanges();\r\n      this.ref.markForCheck();\r\n    }));\r\n  }\r\n\r\n  private currentLanguage?: Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string };\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscriptions.push(this.exp.choice.subscribe(_ => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.exp.completed.subscribe(() => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.rle.changed.subscribe(() => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.rle.complete.subscribe(_ => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.language.subscribe(lang => {\r\n      this.currentLanguage = lang;\r\n      this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n      this.checkForComplete();\r\n    }));\r\n  }\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions, ...this.newaffSubs].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  hasHideButton: boolean = false;\r\n  visible: boolean = true;\r\n  toggleVisibility(newState: boolean): void {\r\n    this.visible = newState;\r\n  }\r\n\r\n  checkForComplete() {\r\n    this.ref.detectChanges();  \r\n    if (this.isComplete) {\r\n      //this should probaly emit all the completed info\r\n      this.complete.emit(this.experience);\r\n      this.affYearChanged.next(this.affYear);\r\n      this.hasHideButton = true;\r\n    } else {\r\n      this.hasHideButton = false;\r\n      this.changed.emit();\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  currentBackgroundChanged(_: Event) {\r\n    this.backgroundChanged.emit(this.currentBackground);\r\n    this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  changeAffChanged(_: Event) {\r\n    switch(this.changeAffState) {\r\n      case 'off':\r\n        this.changeAffState = 'on';\r\n        break;\r\n      case 'on':\r\n      default:\r\n        this.changeAffState = 'off';\r\n        break;\r\n    }\r\n    this.ref.detectChanges();  \r\n    switch(this.changeAffState) {\r\n      case 'on':\r\n        this.newaffSubs.push(this.newaff.changed.subscribe(_ => {\r\n          this.checkForComplete();\r\n        }));\r\n        this.newaffSubs.push(this.newaff.complete.subscribe(() => {\r\n          this.affiliationChanged.emit(this.newaff.currentAffiliation);\r\n          this.checkForComplete();\r\n        }));\r\n        this.newaffSubs.push(this.newaff.affiliationChanged.subscribe((_) => {\r\n          this.checkForComplete();\r\n        }));\r\n        break;\r\n      case 'off':\r\n      default:\r\n        this.newaffSubs.forEach(sub => sub.unsubscribe());\r\n        break;\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n}\r\n","<div [hidden]=\"hidden\">\r\n    <h1><label for=\"toggleVisibilityStage1\">Stage 1 - Early Childhood</label><input type=\"button\" title=\"toggleVisibilityStage1\" [value]=\"isComplete ? 'hide' : 'show'\" [hidden]=\"!isComplete\" id=\"toggleVisibilityStage1\" name=\"toggleVisibilityStage1\" (click)=\"toggleVisibility(!visible)\" *ngIf=\"hasHideButton\"/></h1>\r\n    <div [hidden]=\"!visible\">\r\n        <p>Select an early childhood background for your character.</p>\r\n\r\n        <span [class.incomplete]=\"currentBackgroundIndex === undefined\"><form>\r\n            <label for=\"bkg\"><h3>Background</h3></label>\r\n            <select title=\"background\" name=\"background\" id=\"bkg\" [(ngModel)]=\"currentBackgroundIndex\" (change)=\"currentBackgroundChanged($event)\">\r\n                <option hidden disabled selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n                <option *ngFor=\"let bkg of backgrounds\" class=\"opt\" [ngValue]=\"backgrounds.indexOf(bkg)\">{{ bkg.Name }}</option>\r\n            </select>\r\n        </form></span>\r\n        \r\n        <div [hidden]=\"!currentBackground\">\r\n            {{ currentBackground?.Citation | citation }}\r\n            <h4>Subtotal: {{subtotal}}</h4>\r\n            <app-exp [values]=\"fixedBackgroundExperience\" #exp />\r\n\r\n            <app-random-life-event #rle\r\n                [stage]=\"1\"/>\r\n        </div>\r\n\r\n        <ng-container *ngIf=\"currentBackground\">\r\n        <h3><label for=\"changeAff\">Change affiliation?</label><input type=\"checkbox\" id=\"changeAff\" name=\"changeAff\" [value]=\"changeAffState\" unchecked #changeAff (change)=\"changeAffChanged($event)\"/></h3>\r\n        <p>This decision is optional.  Characters affiliation change will happen at {{affYear}} if elected to do so.<wbr />  For affiliation change rules {{affChangeCitation|citation}}</p>\r\n        <app-newaff #newaff\r\n            *ngIf=\"changeAffState === 'on'\"\r\n            [excludedAffiliations]=\"exAff\"\r\n            [currentYear]=\"affYear\" />\r\n        </ng-container>\r\n    </div>\r\n</div>","import { ChangeDetectorRef, Component, EventEmitter, Input, Output, ViewChild, AfterViewInit, OnDestroy, ElementRef, OnInit } from '@angular/core';\r\nimport { Observable, ReplaySubject, Subscription } from 'rxjs';\r\nimport { AffiliationInfo } from 'src/app/affiliation/affiliation';\r\nimport { BackgroundInfo } from 'src/app/background/background';\r\nimport { BackgroundsService } from 'src/app/background/backgrounds.service';\r\nimport { Archtype, Book, Citation, Eternal, Experience, Requirement, Skill, Statistic } from 'src/app/utils/common';\r\nimport { ExpComponent } from 'src/app/utils/exp/exp.component';\r\nimport { NewaffComponent } from '../newaff/newaff.component';\r\nimport { RandomLifeEventComponent } from '../random-life-event/random-life-event.component';\r\n\r\n@Component({\r\n  selector: 'app-stage2',\r\n  templateUrl: './stage2.component.html',\r\n  styleUrls: ['./stage2.component.scss']\r\n})\r\nexport class Stage2Component implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() hidden: boolean = false;\r\n  @Input({ required: true }) startingYear!: Observable<Eternal>;\r\n  @Input({ required: true }) archtype!: Archtype | undefined;\r\n  @Input({ required: true }) affiliation!: AffiliationInfo;\r\n  @Input({ required: true }) language!: Observable<Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string }>\r\n\r\n  @Output() backgroundChanged = new EventEmitter<BackgroundInfo>();\r\n  @Output() complete = new EventEmitter<Experience[]>();\r\n  @Output() changed = new EventEmitter<never>();\r\n  @Output() affiliationChanged = new EventEmitter<AffiliationInfo>();\r\n  @Output() affYearChanged = new ReplaySubject<Eternal>();\r\n\r\n  @ViewChild('exp') exp!: ExpComponent;\r\n  @ViewChild('changeAff') changeAff!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('newaff') newaff!: NewaffComponent;\r\n  @ViewChild('rle') rle!: RandomLifeEventComponent;\r\n\r\n  changeAffState = 'off';\r\n\r\n  affChangeCitation: Citation = {\r\n    Book: Book.ATimeOfWar,\r\n    Page: 53\r\n  }\r\n\r\n  get affYear() {\r\n    return (this.currentStartingYear + (this.currentBackground?.Duration ?? 0)) as Eternal;\r\n  }\r\n\r\n  get currentAffiliation(): AffiliationInfo {\r\n    return this.newaff?.currentAffiliation ?? this.affiliation;\r\n  }\r\n\r\n  get isComplete(): boolean {\r\n    if(this.hidden) return false;\r\n    const check = this.exp.isComplete && this.rle.isComplete;\r\n    if(this.changeAffState === 'off') return check;\r\n    return (this.newaff?.isComplete ?? false) && check;\r\n  }\r\n\r\n  get experience(): Experience[] {\r\n    return [...this.exp.experience, ...this.rle.experience];\r\n  }\r\n\r\n  get affiliationExperience(): Experience[] {\r\n    return this.changeAffState === 'off' ? this.affiliation.Experience : this.newaff.experience\r\n  }\r\n\r\n  get requirments(): Requirement[] {\r\n    return this.currentBackground?.Prereq ? [this.currentBackground.Prereq] : [];\r\n  }\r\n\r\n  get affiliationRequirments(): Requirement[] {\r\n    return this.changeAffState === 'off' ? [] : this.newaff.requirments;\r\n  }\r\n\r\n  get exAff() : AffiliationInfo[] {\r\n    return this.affiliation ? [this.affiliation] : [];\r\n  }\r\n\r\n  private _cache: { [year:number]: BackgroundInfo[] } = {};\r\n  get backgrounds(): BackgroundInfo[] {\r\n    if(isNaN(this.currentStartingYear)) return [];\r\n    if(this.currentStartingYear === undefined) return [];\r\n    if(this.currentStartingYear in this._cache) \r\n      return this._cache[this.currentStartingYear];\r\n    else {\r\n      return (this._cache[this.currentStartingYear] = this.backgroundServices.At(this.currentStartingYear, 2));\r\n    }\r\n  }\r\n\r\n  private _fixedBkgExp: Experience[] = [];\r\n  set fixedBackgroundExperience(values: Experience[]) {\r\n    this.ref.markForCheck();  \r\n    this._fixedBkgExp = values.map(exp => JSON.parse(JSON.stringify(exp))).map(exp => {\r\n      if('Or' in exp || 'Pick' in exp || 'Set' in exp || 'If' in exp) return exp;\r\n      switch(exp.Kind) {\r\n        case Statistic.Skill:\r\n          switch(exp.Skill) {\r\n            case Skill.Streetwise:\r\n            case Skill.Protocol:\r\n              if(exp.Subskill === '!') {\r\n                exp.Subskill = this.currentAffiliation.Protocol.Subskill;\r\n              }\r\n              return exp;\r\n            case Skill.Language:\r\n              if(exp.Subskill === '!' && !!this.currentLanguage) {\r\n                exp.Subskill = this.currentLanguage.Subskill;\r\n              }\r\n              return exp;\r\n            default:\r\n              return exp;\r\n          }\r\n        default:\r\n          return exp;\r\n      }\r\n    });\r\n    this.ref.detectChanges();  \r\n  }\r\n  get fixedBackgroundExperience(): Experience[] {\r\n    if(this._fixedBkgExp.length === 0 && this.currentBackground) {\r\n      this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n    }\r\n    return this._fixedBkgExp;\r\n  }\r\n\r\n  get currentBackground(): BackgroundInfo | undefined {\r\n    return this.currentBackgroundIndex !== undefined ? this.backgrounds[this.currentBackgroundIndex] : undefined;\r\n  }\r\n\r\n  get subtotal():number {\r\n    return this.currentBackground ? this.currentBackground.Experience.reduce((a, b) => a+('Pick' in b ? b.Pick.Count : 1)*b.Quantity, 0) : 0;\r\n  }\r\n  currentStartingYear!: Eternal;\r\n\r\n  currentBackgroundIndex?: number;\r\n  subscriptions: Subscription[] = [];\r\n  newaffSubs: Subscription[] = [];\r\n  constructor(\r\n    public backgroundServices: BackgroundsService,\r\n    private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n  ngOnInit(): void {\r\n    this.subscriptions.push(this.language.subscribe(lang => {\r\n      this.currentLanguage = lang;\r\n      this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.startingYear.subscribe(year => {\r\n      this.currentStartingYear = year;\r\n      this.affYearChanged.next(this.affYear);\r\n      this.ref.detectChanges();\r\n      this.ref.markForCheck();\r\n    }));\r\n  }\r\n\r\n  private currentLanguage?: Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string };\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscriptions.push(this.exp.choice.subscribe(_ => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.exp.completed.subscribe(() => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.rle.changed.subscribe(() => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.rle.complete.subscribe(_ => {\r\n      this.checkForComplete();\r\n    }));\r\n  }\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions, ...this.newaffSubs].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  hasHideButton: boolean = false;\r\n  visible: boolean = true;\r\n  toggleVisibility(newState: boolean): void {\r\n    this.visible = newState;\r\n  }\r\n\r\n  checkForComplete() {\r\n    this.ref.detectChanges();  \r\n    if (this.isComplete) {\r\n      //this should probaly emit all the completed info\r\n      this.complete.emit(this.experience);\r\n      this.affYearChanged.next(this.affYear);\r\n      this.hasHideButton = true;\r\n    } else {\r\n      this.hasHideButton = false;\r\n      this.changed.emit();\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  currentBackgroundChanged(_: Event) {\r\n    this.backgroundChanged.emit(this.currentBackground);\r\n    this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  changeAffChanged(_: Event) {\r\n    switch(this.changeAffState) {\r\n      case 'off':\r\n        this.changeAffState = 'on';\r\n        break;\r\n      case 'on':\r\n      default:\r\n        this.changeAffState = 'off';\r\n        break;\r\n    }\r\n    this.ref.detectChanges();  \r\n    switch(this.changeAffState) {\r\n      case 'on':\r\n        this.newaffSubs.push(this.newaff.changed.subscribe(_ => {\r\n          this.checkForComplete();\r\n        }));\r\n        this.newaffSubs.push(this.newaff.complete.subscribe(() => {\r\n          this.affiliationChanged.emit(this.newaff.currentAffiliation);\r\n          this.checkForComplete();\r\n        }));\r\n        this.newaffSubs.push(this.newaff.affiliationChanged.subscribe((_) => {\r\n          this.checkForComplete();\r\n        }));\r\n        break;\r\n      case 'off':\r\n      default:\r\n        this.newaffSubs.forEach(sub => sub.unsubscribe());\r\n        break;\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n}\r\n","<div [hidden]=\"hidden\">\r\n    <h1><label for=\"toggleVisibilityStage2\">Stage 2 - Late Childhood</label><input type=\"button\" title=\"toggleVisibilityStage2\" [value]=\"isComplete ? 'hide' : 'show'\" id=\"toggleVisibilityStage2\" name=\"toggleVisibilityStage2\" (click)=\"toggleVisibility(!visible)\" *ngIf=\"hasHideButton\"/></h1>\r\n    <div [hidden]=\"!visible\">\r\n        <p>Select a late childhood background for your character.</p>\r\n        \r\n        <span [class.incomplete]=\"currentBackgroundIndex === undefined\"><form>\r\n            <label for=\"bkg\"><h3>Background</h3></label>\r\n            <select title=\"background\" name=\"background\" id=\"bkg\" [(ngModel)]=\"currentBackgroundIndex\" (change)=\"currentBackgroundChanged($event)\">\r\n                <option hidden disabled selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n                <option *ngFor=\"let bkg of backgrounds\" class=\"opt\" [ngValue]=\"backgrounds.indexOf(bkg)\">{{ bkg.Name }}</option>\r\n            </select>\r\n        </form></span>\r\n\r\n        <div [hidden]=\"!currentBackground\">\r\n            {{ currentBackground?.Citation | citation }}\r\n            <h4>Subtotal: {{subtotal}}</h4>\r\n            <app-exp [values]=\"fixedBackgroundExperience\" #exp />\r\n\r\n            <app-random-life-event #rle\r\n                [stage]=\"2\"/>\r\n        </div>\r\n\r\n        <ng-container *ngIf=\"currentBackground\">\r\n            <h3><label for=\"changeAff\">Change affiliation?</label><input type=\"checkbox\" id=\"changeAff\" name=\"changeAff\" [value]=\"changeAffState\" unchecked #changeAff (change)=\"changeAffChanged($event)\"/></h3>\r\n            <p>This decision is optional.  Characters affiliation change will happen at {{affYear}} if elected to do so.<wbr />  For affiliation change rules {{affChangeCitation|citation}}</p>\r\n            <app-newaff #newaff\r\n                *ngIf=\"changeAffState === 'on'\"\r\n                [excludedAffiliations]=\"exAff\"\r\n                [currentYear]=\"affYear\" />\r\n        </ng-container>\r\n    </div>\r\n</div>","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { AffiliationInfo } from 'src/app/affiliation/affiliation';\r\nimport { Archtype, Book, Citation, EnumMap, Eternal, Experience, Requirement, Skill, Statistic } from 'src/app/utils/common';\r\nimport { ExpComponent } from 'src/app/utils/exp/exp.component';\r\nimport { NewaffComponent } from '../newaff/newaff.component';\r\nimport { RandomLifeEventComponent } from '../random-life-event/random-life-event.component';\r\nimport { EducationInfo, EducationService } from 'src/app/education/education.service';\r\nimport { Observable, ReplaySubject, Subscription } from 'rxjs';\r\nimport { EducationType } from 'src/app/education/education';\r\nimport { SkillField } from 'src/app/education/field';\r\n\r\n@Component({\r\n  selector: 'app-stage3',\r\n  templateUrl: './stage3.component.html',\r\n  styleUrls: ['./stage3.component.scss']\r\n})\r\nexport class Stage3Component implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input({ required: true }) startingYear!: Observable<Eternal>;\r\n  @Input({ required: true }) endingYear!: Observable<Eternal>;\r\n  @Input({ required: true }) archtype!: Archtype | undefined;\r\n  @Input({ required: true }) affiliation!: AffiliationInfo;\r\n  @Input({ required: true }) language!: Observable<Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string }>\r\n\r\n  @Output() backgroundChanged = new EventEmitter<EducationInfo>();\r\n  @Output() complete = new EventEmitter<Experience[]>();\r\n  @Output() changed = new EventEmitter<never>();\r\n  @Output() affiliationChanged = new EventEmitter<AffiliationInfo>();\r\n  @Output() affYearChanged = new ReplaySubject<Eternal>();\r\n\r\n  @ViewChild('exp') exp!: ExpComponent;\r\n  @ViewChild('firstFieldExp') firstFieldExp!: ExpComponent;\r\n  @ViewChild('secondFieldExp') secondFieldExp!: ExpComponent;\r\n  @ViewChild('lastFieldExp') lastFieldExp!: ExpComponent;\r\n  @ViewChild('basic') basic!: ElementRef<HTMLSelectElement>;\r\n  @ViewChild('nextEdu') nextEdu!: ElementRef<HTMLSelectElement>;\r\n  @ViewChild('lastEdu') lastEdu!: ElementRef<HTMLSelectElement>;\r\n\r\n  @ViewChild('changeAff') changeAff!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('newaff') newaff!: NewaffComponent;\r\n  @ViewChild('rle') rle!: RandomLifeEventComponent;\r\n\r\n  Basic = EducationType.Basic;\r\n  Advanced = EducationType.Advanced;\r\n  Special = EducationType.Special;\r\n\r\n  get EducationFields(): { [value in EducationType]: SkillField[] }  {\r\n    return {\r\n      [EducationType.Basic]: this.currentBackground?.[EducationType.Basic]?.Options ?? [],\r\n      [EducationType.Advanced]: this.currentBackground?.[EducationType.Advanced]?.Options ?? [],\r\n      [EducationType.Special]: this.currentBackground?.[EducationType.Special]?.Options ?? []\r\n    }\r\n  }\r\n\r\n  get affYear(): Eternal {\r\n    return [\r\n      EducationType.Basic, \r\n      ...(this.nextEdu ? [EducationType[this.nextEdu.nativeElement.value as keyof typeof EducationType]] : []),\r\n      ...(this.lastEdu ? [EducationType[this.lastEdu.nativeElement.value as keyof typeof EducationType]] : []) \r\n    ].reduce((sofar, current) => (sofar + (this.currentBackground?.[current as EducationType]?.Duration ?? 0)),this.currentStartingYear as number) as Eternal;\r\n  }\r\n\r\n\r\n  EduCitation: Citation = {\r\n    Book: Book.ATimeOfWar,\r\n    Page: 70\r\n  }\r\n\r\n  affChangeCitation: Citation = {\r\n    Book: Book.ATimeOfWar,\r\n    Page: 53\r\n  }\r\n\r\n  Stage = 3;\r\n  get isComplete(): boolean {\r\n    const check = this.exp?.isComplete && this.rle?.isComplete && this.firstFieldExp?.isComplete && (this.nextEdu?.nativeElement.value !== 'Complete' ? this.secondFieldExp.isComplete : true);\r\n    if(this.changeAffState === 'off') return check;\r\n    return (this.newaff?.isComplete ?? false) && check;\r\n  }\r\n\r\n  get exAff() : AffiliationInfo[] {\r\n    return this.affiliation ? [this.affiliation] : [];\r\n  }\r\n\r\n  get experience(): Experience[] {\r\n    return [...this.exp.experience, ...(this.firstFieldExp?.experience ?? []), ...(this.secondFieldExp?.experience ?? []), ...this.rle.experience];\r\n  }\r\n\r\n  get Requirments(): Requirement[] {\r\n    return [...(this.currentBackground?.Prereq ? [this.currentBackground.Prereq, ...(EnumMap(EducationType)\r\n      .filter((edu: EducationType) => this.educationIndex[edu] !== undefined)\r\n      .map((edu: EducationType) => { return { index: this.educationIndex[edu]!, edu: edu }})\r\n      .map(value => this.currentBackground![value.edu]?.Options[value.index].Prereq)\r\n      .filter(req => !!req).map<Requirement>(req => req!))] : [])];\r\n  }\r\n\r\n  get currentBackground(): EducationInfo | undefined {\r\n    return this.currentBackgroundIndex !== undefined ? this.backgrounds[this.currentBackgroundIndex] : undefined;\r\n  }\r\n\r\n  get currentAffiliation(): AffiliationInfo {\r\n    return this.newaff?.currentAffiliation ?? this.affiliation;\r\n  }\r\n\r\n  private FixExp(exp: Experience): Experience {\r\n    if('Or' in exp || 'Pick' in exp || 'Set' in exp || 'If' in exp) return exp;\r\n    switch(exp.Kind) {\r\n      case Statistic.Skill:\r\n        switch(exp.Skill) {\r\n          case Skill.Streetwise:\r\n          case Skill.Protocol:\r\n            if(exp.Subskill === '!') {\r\n              exp.Subskill = this.currentAffiliation.Protocol.Subskill;\r\n            }\r\n            return exp;\r\n          case Skill.Language:\r\n            if(exp.Subskill === '!' && !!this.currentLanguage) {\r\n              exp.Subskill = this.currentLanguage.Subskill;\r\n            }\r\n            return exp;\r\n          default:\r\n            return exp;\r\n        }\r\n      default:\r\n        return exp;\r\n    }\r\n  }\r\n\r\n  private _fixedBkgExp: Experience[] = [];\r\n  set fixedBackgroundExperience(values: Experience[]) {\r\n    this.ref.markForCheck();  \r\n    this._fixedBkgExp = values.map(exp => JSON.parse(JSON.stringify(exp))).map<Experience>(exp => this.FixExp(exp));\r\n    this.ref.detectChanges();  \r\n  }\r\n  get fixedBackgroundExperience(): Experience[] {\r\n    if(this._fixedBkgExp.length === 0 && this.currentBackground) {\r\n      this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n    }\r\n    return this._fixedBkgExp;\r\n  }\r\n\r\n  private _fixedBasicExp: Experience[] = [];\r\n  set fixedBasicExperience(values: Experience[]) {\r\n    this.ref.markForCheck();  \r\n    this._fixedBasicExp = values.map(exp => JSON.parse(JSON.stringify(exp))).map<Experience>(exp => this.FixExp(exp));\r\n    this.ref.detectChanges();  \r\n  }\r\n  get fixedBasicExperience(): Experience[] {\r\n    if(this._fixedBasicExp.length === 0 \r\n      && this.currentBackground \r\n      && EducationType.Basic in this.currentBackground \r\n      && this.currentBackground[EducationType.Basic] \r\n      && this.currentBackground[EducationType.Basic].Options\r\n      && this.educationIndex[EducationType.Basic] !== undefined\r\n      && this.educationIndex[EducationType.Basic] >= 0) {\r\n      this.fixedBasicExperience = this.currentBackground[EducationType.Basic].Options[this.educationIndex[EducationType.Basic]].Skills.map(skill => { return <Experience>{ ...skill, Quantity: 30 }}) ?? [];\r\n    }\r\n    return this._fixedBasicExp;\r\n  }\r\n\r\n  private _fixedAdvExp: Experience[] = [];\r\n  set fixedAdvExperience(values: Experience[]) {\r\n    this.ref.markForCheck();  \r\n    this._fixedAdvExp = values.map(exp => JSON.parse(JSON.stringify(exp))).map<Experience>(exp => this.FixExp(exp));\r\n    this.ref.detectChanges();  \r\n  }\r\n  get fixedAdvExperience(): Experience[] {\r\n    const eduType: EducationType = EducationType[this.nextEdu.nativeElement.value as keyof typeof EducationType]\r\n    if(this._fixedAdvExp.length === 0 \r\n      && this.currentBackground \r\n      && eduType in this.currentBackground \r\n      && this.currentBackground[eduType] !== undefined\r\n      && this.currentBackground[eduType]!.Options\r\n      && this.educationIndex[EducationType.Advanced] !== undefined\r\n      && this.educationIndex[EducationType.Advanced]! >= 0\r\n      ) {\r\n      this.fixedAdvExperience = this.currentBackground[eduType]!.Options[this.educationIndex[EducationType.Advanced]].Skills.map(skill => { return <Experience>{ ...skill, Quantity: 30 }}) ?? [];\r\n    }\r\n    return this._fixedAdvExp;\r\n  }\r\n\r\n  private _fixedSpecExp: Experience[] = [];\r\n  set fixedSpecExperience(values: Experience[]) {\r\n    this.ref.markForCheck();  \r\n    this._fixedSpecExp = values.map(exp => JSON.parse(JSON.stringify(exp))).map<Experience>(exp => this.FixExp(exp));\r\n    this.ref.detectChanges();  \r\n  }\r\n  get fixedSpecExperience(): Experience[] {\r\n    const eduType: EducationType = EducationType[this.lastEdu.nativeElement.value as keyof typeof EducationType]\r\n    if(this._fixedSpecExp.length === 0 \r\n      && this.currentBackground \r\n      && eduType in this.currentBackground \r\n      && this.currentBackground[eduType] !== undefined\r\n      && this.currentBackground[eduType]!.Options\r\n      && this.educationIndex[EducationType.Special] !== undefined\r\n      && this.educationIndex[EducationType.Special]! >= 0\r\n      ) {\r\n      this.fixedSpecExperience = this.currentBackground[eduType]!.Options[this.educationIndex[EducationType.Special]].Skills.map(skill => { return <Experience>{ ...skill, Quantity: 30 }}) ?? [];\r\n    }\r\n    return this._fixedSpecExp;\r\n  }\r\n\r\n  private _cache: { [year:number]: EducationInfo[] } = {};\r\n  get backgrounds(): EducationInfo[] {\r\n    if(isNaN(this.currentStartingYear)) return [];\r\n    if(this.currentStartingYear === undefined) return [];\r\n    if(this.currentStartingYear in this._cache) \r\n      return this._cache[this.currentStartingYear];\r\n    else {\r\n      return (this._cache[this.currentStartingYear] = this.educationService.At(this.currentStartingYear));\r\n    }\r\n  }\r\n\r\n  currentBackgroundIndex?: number;\r\n  subscriptions: Subscription[] = [];\r\n  newaffSubs: Subscription[] = [];\r\n\r\n  educationIndex: { [values in EducationType]?: number } = {}\r\n\r\n  private currentLanguage?: Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string };\r\n  changeAffState = 'off';\r\n\r\n  get subtotal():number {\r\n    return this.currentBackground ? this.currentBackground.Experience.reduce((a, b) => a+('Pick' in b ? b.Pick.Count : 1)*b.Quantity, 0) : 0;\r\n  }\r\n\r\n  get EducationLevels(): EducationType[] {\r\n    if(!this.currentBackground) return [];\r\n    return EnumMap(EducationType).filter(edu => edu in this.currentBackground!);\r\n  }\r\n\r\n  constructor(\r\n    public educationService: EducationService,\r\n    private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.subscriptions.push(this.language.subscribe(lang => {\r\n      this.currentLanguage = lang;\r\n      this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.endingYear.subscribe(year => {\r\n      this.currentEndingYear = year;\r\n      this.affYearChanged.next(this.affYear);\r\n      this.ref.detectChanges();\r\n      this.ref.markForCheck();\r\n    }));\r\n    this.subscriptions.push(this.startingYear.subscribe(year => {\r\n      this.currentStartingYear = year;\r\n      this.affYearChanged.next(this.affYear);\r\n      this.ref.detectChanges();\r\n      this.ref.markForCheck();\r\n    }));\r\n  }\r\n\r\n  currentEndingYear!: Eternal;\r\n  currentStartingYear!: Eternal;\r\n  ngAfterViewInit(): void {\r\n\r\n    this.subscriptions.push(this.exp.choice.subscribe(_ => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.exp.completed.subscribe(() => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.rle.changed.subscribe(() => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.rle.complete.subscribe(_ => {\r\n      this.checkForComplete();\r\n    }));\r\n  }\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions, ...this.newaffSubs].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  hasHideButton: boolean = false;\r\n  visible: boolean = true;\r\n  toggleVisibility(newState: boolean): void {\r\n    this.visible = newState;\r\n  }\r\n\r\n  checkForComplete() {\r\n    this.ref.detectChanges();  \r\n    if (this.isComplete) {\r\n      //this should probaly emit all the completed info\r\n      this.complete.emit(this.experience);\r\n      this.affYearChanged.next(this.affYear);\r\n      this.hasHideButton = true;\r\n    } else {\r\n      this.hasHideButton = false;\r\n      this.changed.emit();\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  currentBackgroundChanged(_: Event) {\r\n    this.backgroundChanged.emit(this.currentBackground);\r\n    this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n    \r\n    [this.lastEdu, this.nextEdu, this.basic].filter(edu => edu).forEach(edu => edu.nativeElement.selectedIndex === 0);\r\n    this.update(EducationType.Basic);\r\n  }\r\n\r\n  EduChanged(_:Event, selected: string, level: EducationType) {\r\n    const eduType: EducationType = EducationType[selected as keyof typeof EducationType]\r\n\r\n    this.backgroundChanged.emit(this.currentBackground);\r\n    const newexp =  this.currentBackground![eduType]!.Options[this.educationIndex[level]!].Skills.map(skill => { return <Experience>{ ...skill, Quantity: 30 }});\r\n    switch(level) {\r\n      case EducationType.Basic:\r\n        this.fixedBasicExperience = newexp;\r\n        break;\r\n      case EducationType.Advanced:\r\n        this.fixedAdvExperience = newexp;\r\n        break;\r\n      case EducationType.Special:\r\n        this.fixedSpecExperience = newexp;\r\n        break\r\n    }\r\n\r\n    this.checkForComplete(); \r\n  }\r\n\r\n  changeAffChanged(_: Event) {\r\n    switch(this.changeAffState) {\r\n      case 'off':\r\n        this.changeAffState = 'on';\r\n        break;\r\n      case 'on':\r\n      default:\r\n        this.changeAffState = 'off';\r\n        break;\r\n    }\r\n    this.ref.detectChanges();  \r\n    switch(this.changeAffState) {\r\n      case 'on':\r\n        this.newaffSubs.push(this.newaff.changed.subscribe(_ => {\r\n          this.checkForComplete();\r\n        }));\r\n        this.newaffSubs.push(this.newaff.complete.subscribe(() => {\r\n          this.affiliationChanged.emit(this.newaff.currentAffiliation);\r\n          this.checkForComplete();\r\n        }));\r\n        this.newaffSubs.push(this.newaff.affiliationChanged.subscribe((_) => {\r\n          this.checkForComplete();\r\n        }));\r\n        break;\r\n      case 'off':\r\n      default:\r\n        this.newaffSubs.forEach(sub => sub.unsubscribe());\r\n        break;\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  eduLvl(lvl: number | EducationType) : string {\r\n    return EducationType[lvl].toString();\r\n  }\r\n\r\n  asEduLvl(lvl: number ) : EducationType {\r\n    return lvl;\r\n  }\r\n\r\n  excludeEduOpt(fields: SkillField[], toExclude: SkillField): SkillField[] {\r\n    return fields.filter(field => field.Name !== toExclude?.Name ?? '');\r\n  }\r\n\r\n  update(host: EducationType){\r\n    const spec = () => {\r\n      this.educationIndex[EducationType.Special] = undefined;\r\n      this.fixedSpecExperience = [];\r\n    }\r\n    const adv = () => {\r\n      this.educationIndex[EducationType.Advanced] = undefined;\r\n      this.fixedAdvExperience = [];\r\n      spec();\r\n    }\r\n    const basic = () => {\r\n      this.educationIndex[EducationType.Basic] = undefined;\r\n      this.fixedBasicExperience = [];\r\n      adv();\r\n    }\r\n    this.ref.markForCheck();\r\n    switch(host) {\r\n      case EducationType.Special:\r\n        spec();\r\n        break;\r\n      case EducationType.Advanced:\r\n        adv();\r\n        break;\r\n      case EducationType.Basic:\r\n        basic();\r\n        break;\r\n    }\r\n    this.ref.detectChanges();  \r\n  }\r\n}\r\n","<h1><label for=\"toggleVisibilityStage3\">Stage 3 - Higher Education</label><input type=\"button\"\r\n        title=\"toggleVisibilityStage3\" [value]=\"isComplete ? 'hide' : 'show'\" id=\"toggleVisibilityStage3\"\r\n        name=\"toggleVisibilityStage3\" (click)=\"toggleVisibility(!visible)\" *ngIf=\"hasHideButton\" /></h1>\r\n<div [hidden]=\"!visible\">\r\n    <p>Select an education background for your character.</p>\r\n\r\n    <span [class.incomplete]=\"currentBackgroundIndex === undefined\">\r\n        <form>\r\n            <label for=\"bkg\">\r\n                <h3>Background</h3>\r\n            </label>\r\n            <select title=\"background\" name=\"background\" id=\"bkg\" [(ngModel)]=\"currentBackgroundIndex\"\r\n                (change)=\"currentBackgroundChanged($event)\">\r\n                <option hidden selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n                <option *ngFor=\"let bkg of backgrounds\" class=\"opt\" [ngValue]=\"backgrounds.indexOf(bkg)\"\r\n                    [disabled]=\"(currentStartingYear + bkg[Basic]!.Duration) > currentEndingYear\">{{ bkg.Name }}\r\n                </option>\r\n            </select>\r\n        </form>\r\n    </span>\r\n\r\n    <div [hidden]=\"!currentBackground\">\r\n        {{ currentBackground ? (currentBackground.Citation | citation) : '' }}\r\n\r\n        <h4>Subtotal: {{subtotal}}</h4>\r\n        <app-exp [values]=\"fixedBackgroundExperience\" #exp />\r\n        <p>Now select the fields for each level of education. For rules {{ EduCitation | citation }}</p>\r\n    </div>\r\n    <div *ngIf=\"currentBackground\">\r\n        <div [class.incomplete]=\"basic.selectedIndex === 0\">\r\n            <label for=\"lvl-1\">\r\n                <h3>{{eduLvl(Basic)}}</h3>\r\n            </label>\r\n            <select #basic [title]=\"eduLvl(Basic)+'-1'\" [name]=\"eduLvl(Basic)+'-1'\" id=\"lvl-1\"\r\n                [(ngModel)]=\"educationIndex[Basic]\" (change)=\"EduChanged($event, eduLvl(Basic), Basic)\">\r\n                <option hidden selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n                <option *ngFor=\"let edu of EducationFields[Basic]\" class=\"opt\"\r\n                    [ngValue]=\"EducationFields[Basic].indexOf(edu)\">{{ edu.Name }}</option>\r\n            </select>\r\n        </div>\r\n        <p>This will take {{currentBackground[Basic]?.Duration}} year{{currentBackground[Basic]?.Duration! > 1 ? 's' :\r\n            ''}} to complete.</p>\r\n        <h4>Subtotal: {{fixedBasicExperience.length * 30}}</h4>\r\n        <app-exp [values]=\"fixedBasicExperience\" #firstFieldExp />\r\n        <div [hidden]=\"!firstFieldExp.isComplete || educationIndex[Basic] === undefined\">\r\n            <p>The next field can be either <b>{{eduLvl(Basic)}}</b> or <b>{{eduLvl(Advanced)}}</b><wbr />, or you can finish by selecting\r\n                <b>Complete</b>.\r\n            </p>\r\n            <span [class.incomplete]=\"nextEdu.selectedIndex === 0\">\r\n                <select title=\"nextEdu\" name=\"nextEdu\" id=\"nextEdu\" #nextEdu (change)=\"update(Advanced)\">\r\n                    <option hidden selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n                    <option *ngFor=\"let next of [Basic, Advanced]\" class=\"opt\" [ngValue]=\"eduLvl(next)\"\r\n                        [disabled]=\"(currentStartingYear + currentBackground[Basic]!.Duration + currentBackground[next]!.Duration) > currentEndingYear\">\r\n                        {{eduLvl(next)}}</option>\r\n                    <option [ngValue]=\"'Complete'\">Complete</option>\r\n                </select>\r\n            </span>\r\n\r\n            <!-- Here is where a user can select a second field -->\r\n            <ng-container *ngIf=\"nextEdu.value === eduLvl(Basic); else ifAdv\">\r\n                <div [class.incomplete]=\"adv1.selectedIndex === 0\">\r\n                    <select #adv1 title=\"Basic-2\" [name]=\"eduLvl(Basic)+'-2'\" id=\"lvl-basic-2\"\r\n                        [(ngModel)]=\"educationIndex[Advanced]\"\r\n                        (change)=\"EduChanged($event, nextEdu.value, Advanced)\">\r\n                        <option hidden selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n                        <option\r\n                            *ngFor=\"let edu of excludeEduOpt(EducationFields[Basic], currentBackground[Basic]!.Options[educationIndex[Basic]!])\"\r\n                            class=\"opt\" [ngValue]=\"EducationFields[Basic].indexOf(edu)\">{{ edu.Name }}</option>\r\n                    </select>\r\n                </div>\r\n                <p>This will take {{currentBackground[Basic]?.Duration}} year{{currentBackground[Basic]?.Duration! > 1 ?\r\n                    's' : ''}} to complete.</p>\r\n                <h4>Subtotal: {{fixedAdvExperience.length * 30}}</h4>\r\n                <app-exp [values]=\"fixedAdvExperience\" #secondFieldExp />\r\n\r\n                <!-- Here is where a user can select their final advanced field -->\r\n                <ng-container *ngIf=\"secondFieldExp.isComplete && adv1.selectedIndex !== 0\">\r\n                    <p>The the last field must be <b>{{eduLvl(Advanced)}}</b><wbr />, or you can finish by selecting\r\n                        <b>Complete</b>.\r\n                    </p>\r\n                    <span [class.incomplete]=\"lastEdu.selectedIndex === 0\">\r\n                        <select title=\"lastEdu-1\" name=\"lastEdu-1\" id=\"lastEdu-1\" #lastEdu (change)=\"update(Special)\">\r\n                            <option hidden selected value [ngValue]=\"undefined\"> -- select an option --\r\n                            </option>\r\n                            <option *ngFor=\"let next of [Advanced]\" class=\"opt\" [ngValue]=\"eduLvl(next)\"\r\n                                [disabled]=\"(currentStartingYear + currentBackground[Basic]!.Duration + currentBackground[next]!.Duration) > currentEndingYear\">\r\n                                {{eduLvl(next)}}</option>\r\n                            <option [ngValue]=\"'Complete'\">Complete</option>\r\n                        </select>\r\n                    </span>\r\n\r\n                    <ng-container *ngIf=\"lastEdu.value === eduLvl(Advanced)\">\r\n                        <div [class.incomplete]=\"last1.selectedIndex === 0\">\r\n                            <select #last1 title=\"Last-Adv-3\" [name]=\"eduLvl(Advanced)+'-3'\" id=\"Last-lvl-3\"\r\n                                [(ngModel)]=\"educationIndex[Special]\"\r\n                                (change)=\"EduChanged($event, lastEdu.value, Special)\">\r\n                                <option hidden selected value [ngValue]=\"undefined\"> -- select an option --\r\n                                </option>\r\n                                <option *ngFor=\"let edu of EducationFields[Advanced]\" class=\"opt\"\r\n                                    [ngValue]=\"EducationFields[Advanced].indexOf(edu)\">{{ edu.Name }}\r\n                                </option>\r\n                            </select>\r\n                        </div>\r\n                        <p>This will take {{currentBackground[Advanced]?.Duration}}\r\n                            year{{currentBackground[Advanced]?.Duration! > 1 ? 's' : ''}} to complete.</p>\r\n                        <h4>Subtotal: {{fixedSpecExperience.length * 30}}</h4>\r\n                        <app-exp [values]=\"fixedSpecExperience\" #lastFieldExp />\r\n                    </ng-container>\r\n                </ng-container>\r\n            </ng-container>\r\n\r\n            <!-- Here is where a user can select a second field -->\r\n            <ng-template #ifAdv>\r\n                <ng-container *ngIf=\"nextEdu.value === eduLvl(Advanced)\">\r\n                    <div [class.incomplete]=\"adv2.selectedIndex === 0\">\r\n                        <select #adv2 title=\"Advanced-2\" [name]=\"eduLvl(Advanced)+'-2'\" id=\"lvl-adv-2\"\r\n                            [(ngModel)]=\"educationIndex[asEduLvl(Advanced)]\"\r\n                            (change)=\"EduChanged($event, nextEdu.value, Advanced)\">\r\n                            <option hidden selected value [ngValue]=\"undefined\"> -- select an option --\r\n                            </option>\r\n                            <option *ngFor=\"let edu of EducationFields[Advanced]\" class=\"opt\"\r\n                                [ngValue]=\"EducationFields[Advanced].indexOf(edu)\">{{ edu.Name }}</option>\r\n                        </select>\r\n                    </div>\r\n                    <p>This will take {{currentBackground[Advanced]?.Duration}}\r\n                        year{{currentBackground[Advanced]?.Duration! > 1 ? 's' : ''}} to complete.</p>\r\n                    <h4>Subtotal: {{fixedAdvExperience.length * 30}}</h4>\r\n                    <app-exp [values]=\"fixedAdvExperience\" #secondFieldExp />\r\n\r\n                    <!-- Here is where a user can select their final advanced field -->\r\n                    <ng-container *ngIf=\"secondFieldExp.isComplete  && adv2.selectedIndex !== 0\">\r\n                        <ng-container *ngIf=\"currentBackground[Special]; else elseBlock\">\r\n                            <p>The last field can be either <b>{{eduLvl(Basic)}}</b> or <b>{{eduLvl(Special)}}</b><wbr />, or you can finish by selecting\r\n                                <b>Complete</b>.\r\n                            </p>\r\n                        </ng-container>\r\n                        <ng-template #elseBlock>\r\n                            <p>The the last field must be <b>{{eduLvl(Basic)}}</b><wbr />, or you can finish by selecting\r\n                                <b>Complete</b>.\r\n                            </p>\r\n                        </ng-template>\r\n                        <select title=\"lastEdu-2\" name=\"lastEdu-2\" id=\"lastEdu-2\" #lastEdu (change)=\"update(Special)\">\r\n                            <option hidden selected value [ngValue]=\"undefined\"> -- select an option --\r\n                            </option>\r\n                            <option *ngFor=\"let next of (currentBackground[Special] ? [Basic, Special] : [Basic])\"\r\n                                class=\"opt\" [ngValue]=\"eduLvl(next)\"\r\n                                [disabled]=\"(currentStartingYear + currentBackground[Basic]!.Duration + currentBackground[next]!.Duration) > currentEndingYear\">\r\n                                {{eduLvl(next)}}</option>\r\n                            <option [ngValue]=\"'Complete'\">Complete</option>\r\n                        </select>\r\n\r\n                        <ng-container *ngIf=\"lastEdu.value === eduLvl(Basic)\">\r\n                            <div [class.incomplete]=\"last1.selectedIndex === 0\">\r\n                                <select #last1 title=\"basic-3\" [name]=\"eduLvl(Basic)+'-3'\" id=\"lvl-3-basic\"\r\n                                    [(ngModel)]=\"educationIndex[asEduLvl(Special)]\"\r\n                                    (change)=\"EduChanged($event, lastEdu.value, Special)\">\r\n                                    <option hidden selected value [ngValue]=\"undefined\"> -- select an option --\r\n                                    </option>\r\n                                    <option\r\n                                        *ngFor=\"let edu of excludeEduOpt(EducationFields[Basic], currentBackground[Basic]!.Options[educationIndex[Basic]!])\"\r\n                                        class=\"opt\" [ngValue]=\"EducationFields[Basic].indexOf(edu)\">{{ edu.Name }}\r\n                                    </option>\r\n                                </select>\r\n                            </div>\r\n                            <p>This will take {{currentBackground[Basic]?.Duration}}\r\n                                year{{currentBackground[Basic]?.Duration! > 1 ? 's' : ''}} to complete.</p>\r\n                            <h4>Subtotal: {{fixedSpecExperience.length * 30}}</h4>\r\n                            <app-exp [values]=\"fixedSpecExperience\" #lastFieldExp />\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"lastEdu.value === eduLvl(Special)\">\r\n                            <div [class.incomplete]=\"last1.selectedIndex === 0\">\r\n                                <select #last1 title=\"spec-3\" [name]=\"eduLvl(Special)+'-3'\" id=\"lvl-3\"\r\n                                    [(ngModel)]=\"educationIndex[asEduLvl(Special)]\"\r\n                                    (change)=\"EduChanged($event, lastEdu.value, Special)\">\r\n                                    <option hidden selected value [ngValue]=\"undefined\"> -- select an option --\r\n                                    </option>\r\n                                    <option *ngFor=\"let edu of EducationFields[Special]\" class=\"opt\"\r\n                                        [ngValue]=\"EducationFields[Special].indexOf(edu)\">{{ edu.Name }}\r\n                                    </option>\r\n                                </select>\r\n                            </div>\r\n                            <p>This will take {{currentBackground[Special]?.Duration}}\r\n                                year{{currentBackground[Special]?.Duration! > 1 ? 's' : ''}} to complete.</p>\r\n                            <h4>Subtotal: {{fixedSpecExperience.length * 30}}</h4>\r\n                            <app-exp [values]=\"fixedSpecExperience\" #lastFieldExp />\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </ng-container>\r\n\r\n            </ng-template>\r\n        </div>\r\n    </div>\r\n\r\n    <div [hidden]=\"!currentBackground\">\r\n        <app-random-life-event #rle [stage]=\"3\" />\r\n    </div>\r\n\r\n    <ng-container *ngIf=\"currentBackground\">\r\n        <h3><label for=\"changeAff\">Change affiliation?</label><input type=\"checkbox\" id=\"changeAff\" name=\"changeAff\"\r\n                [value]=\"changeAffState\" unchecked #changeAff (change)=\"changeAffChanged($event)\" /></h3>\r\n        <p>This decision is optional. Characters affiliation change will happen at {{affYear}} if elected to do so.<wbr />  For affiliation change rules {{affChangeCitation|citation}}\r\n        </p>\r\n        <app-newaff #newaff *ngIf=\"changeAffState === 'on'\" [excludedAffiliations]=\"exAff\" [currentYear]=\"affYear\" />\r\n    </ng-container>\r\n</div>","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { AffiliationInfo } from 'src/app/affiliation/affiliation';\r\nimport { BackgroundInfo } from 'src/app/background/background';\r\nimport { Archtype, Book, Citation, Eternal, Experience, Requirement, Skill, Statistic } from 'src/app/utils/common';\r\nimport { ExpComponent } from 'src/app/utils/exp/exp.component';\r\nimport { NewaffComponent } from '../newaff/newaff.component';\r\nimport { RandomLifeEventComponent } from '../random-life-event/random-life-event.component';\r\nimport { Observable, ReplaySubject, Subscription } from 'rxjs';\r\nimport { BackgroundsService } from 'src/app/background/backgrounds.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-stage4',\r\n  templateUrl: './stage4.component.html',\r\n  styleUrls: ['./stage4.component.scss']\r\n})\r\nexport class Stage4Component implements OnInit, AfterViewInit, OnDestroy{\r\n  @Input({ required: true }) startingYear!: Observable<Eternal>;\r\n  @Input({ required: true }) endingYear!: Observable<Eternal>;\r\n  @Input({ required: true }) archtype!: Archtype | undefined;\r\n  @Input({ required: true }) affiliation!: AffiliationInfo;\r\n  @Input({ required: true }) language!: Observable<Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string }>\r\n\r\n  @Output() backgroundChanged = new EventEmitter<BackgroundInfo>();\r\n  @Output() complete = new EventEmitter<Experience[]>();\r\n  @Output() changed = new EventEmitter<never>();\r\n  @Output() affiliationChanged = new EventEmitter<AffiliationInfo>();\r\n  @Output() affYearChanged = new ReplaySubject<Eternal>();\r\n\r\n  @ViewChild('exp') exp!: ExpComponent;\r\n  @ViewChild('changeAff') changeAff!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('newaff') newaff!: NewaffComponent;\r\n  @ViewChild('rle') rle!: RandomLifeEventComponent;\r\n\r\n  changeAffState = 'off';\r\n  get isComplete(): boolean {\r\n    const check = this.exp.isComplete && this.rle.isComplete;\r\n    if(this.changeAffState === 'off') return check;\r\n    return (this.newaff?.isComplete ?? false) && check;\r\n  }\r\n\r\n  affChangeCitation: Citation = {\r\n    Book: Book.ATimeOfWar,\r\n    Page: 53\r\n  }\r\n  \r\n  get exAff() : AffiliationInfo[] {\r\n    return this.affiliation ? [this.affiliation] : [];\r\n  }\r\n  \r\n  get affYear() {\r\n    return (this.currentStartingYear + (this.currentBackground?.Duration ?? 0)) as Eternal ;\r\n  }\r\n\r\n\r\n  get experience(): Experience[] {\r\n    return [...this.exp.experience, ...this.rle.experience];\r\n  }\r\n\r\n  get Requirments(): Requirement[] {\r\n    return [];\r\n  }\r\n\r\n  currentBackgroundIndex?: number;\r\n  get currentBackground(): BackgroundInfo | undefined {\r\n    return this.currentBackgroundIndex !== undefined ? this.backgrounds[this.currentBackgroundIndex] : undefined;\r\n  }\r\n\r\n  private _cache: { [year:number]: BackgroundInfo[] } = {};\r\n  get backgrounds(): BackgroundInfo[] {\r\n    if(isNaN(this.currentStartingYear)) return [];\r\n    if(this.currentStartingYear === undefined) return [];\r\n    if(this.currentStartingYear in this._cache) \r\n      return this._cache[this.currentStartingYear];\r\n    else {\r\n      return (this._cache[this.currentStartingYear] = this.backgroundService.At(this.currentStartingYear, 4));\r\n    }\r\n  }\r\n\r\n  get currentAffiliation(): AffiliationInfo {\r\n    return this.newaff?.currentAffiliation ?? this.affiliation;\r\n  }\r\n  private currentLanguage?: Experience & { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: string };\r\n\r\n  private FixExp(exp: Experience): Experience {\r\n    if('Or' in exp || 'Pick' in exp || 'Set' in exp || 'If' in exp) return exp;\r\n    switch(exp.Kind) {\r\n      case Statistic.Skill:\r\n        switch(exp.Skill) {\r\n          case Skill.Streetwise:\r\n          case Skill.Protocol:\r\n            if(exp.Subskill === '!') {\r\n              exp.Subskill = this.currentAffiliation.Protocol.Subskill;\r\n            }\r\n            return exp;\r\n          case Skill.Language:\r\n            if(exp.Subskill === '!' && !!this.currentLanguage) {\r\n              exp.Subskill = this.currentLanguage.Subskill;\r\n            }\r\n            return exp;\r\n          default:\r\n            return exp;\r\n        }\r\n      default:\r\n        return exp;\r\n    }\r\n  }\r\n\r\n  get subtotal():number {\r\n    return this.currentBackground ? this.currentBackground.Experience.reduce((a, b) => a+('Pick' in b ? b.Pick.Count : 1)*b.Quantity, 0) : 0;\r\n  }\r\n\r\n\r\n  private _fixedBkgExp: Experience[] = [];\r\n  set fixedBackgroundExperience(values: Experience[]) {\r\n    this.ref.markForCheck();  \r\n    this._fixedBkgExp = values.map(exp => JSON.parse(JSON.stringify(exp))).map<Experience>(exp => this.FixExp(exp));\r\n    this.ref.detectChanges();  \r\n  }\r\n  get fixedBackgroundExperience(): Experience[] {\r\n    if(this._fixedBkgExp.length === 0 && this.currentBackground) {\r\n      this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n    }\r\n    return this._fixedBkgExp;\r\n  }\r\n\r\n  subscriptions: Subscription[] = [];\r\n  newaffSubs: Subscription[] = [];\r\n\r\n  hasHideButton: boolean = false;\r\n  visible: boolean = true;\r\n\r\n  currentEndingYear!: Eternal;\r\n  currentStartingYear!: Eternal;\r\n\r\n  constructor(\r\n    public backgroundService: BackgroundsService,\r\n    private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  toggleVisibility(newState: boolean): void {\r\n    this.visible = newState;\r\n  }\r\n\r\n  currentBackgroundChanged(_: Event) {\r\n    this.backgroundChanged.emit(this.currentBackground);\r\n    this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n\r\n    this.checkForComplete();\r\n\r\n    this.ref.detectChanges();  \r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  checkForComplete() {\r\n    this.ref.detectChanges();  \r\n    if (this.isComplete) {\r\n      //this should probaly emit all the completed info\r\n      this.complete.emit(this.experience);\r\n      this.affYearChanged.next(this.affYear);\r\n      this.hasHideButton = true;\r\n    } else {\r\n      this.hasHideButton = false;\r\n      this.changed.emit();\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.subscriptions.push(this.language.subscribe(lang => {\r\n      this.currentLanguage = lang;\r\n      this.fixedBackgroundExperience = this.currentBackground?.Experience ?? [];\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.endingYear.subscribe(year => {\r\n      this.currentEndingYear = year;\r\n      this.affYearChanged.next(this.affYear);\r\n      this.ref.detectChanges();\r\n      this.ref.markForCheck();\r\n    }));\r\n    this.subscriptions.push(this.startingYear.subscribe(year => {\r\n      this.currentStartingYear = year;\r\n      this.affYearChanged.next(this.affYear);\r\n      this.ref.detectChanges();\r\n      this.ref.markForCheck();\r\n    }));\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscriptions.push(this.exp.choice.subscribe(_ => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.exp.completed.subscribe(() => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.rle.changed.subscribe(() => {\r\n      this.checkForComplete();\r\n    }));\r\n    this.subscriptions.push(this.rle.complete.subscribe(_ => {\r\n      this.checkForComplete();\r\n    }));\r\n  }\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions, ...this.newaffSubs].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  changeAffChanged(_: Event) {\r\n    switch(this.changeAffState) {\r\n      case 'off':\r\n        this.changeAffState = 'on';\r\n        break;\r\n      case 'on':\r\n      default:\r\n        this.changeAffState = 'off';\r\n        break;\r\n    }\r\n    this.ref.detectChanges();  \r\n    switch(this.changeAffState) {\r\n      case 'on':\r\n        this.newaffSubs.push(this.newaff.changed.subscribe(_ => {\r\n          this.checkForComplete();\r\n        }));\r\n        this.newaffSubs.push(this.newaff.complete.subscribe(() => {\r\n          this.affiliationChanged.emit(this.newaff.currentAffiliation);\r\n          this.checkForComplete();\r\n        }));\r\n        this.newaffSubs.push(this.newaff.affiliationChanged.subscribe((_) => {\r\n          this.checkForComplete();\r\n        }));\r\n        break;\r\n      case 'off':\r\n      default:\r\n        this.newaffSubs.forEach(sub => sub.unsubscribe());\r\n        break;\r\n    }\r\n    this.ref.markForCheck();  \r\n  }\r\n}\r\n","<h1><label for=\"toggleVisibilityStage4\">Stage 4 - Higher Education</label><input type=\"button\" title=\"toggleVisibilityStage4\" [value]=\"isComplete ? 'hide' : 'show'\" id=\"toggleVisibilityStage4\" name=\"toggleVisibilityStage4\" (click)=\"toggleVisibility(!visible)\" *ngIf=\"hasHideButton\"/></h1>\r\n<div [hidden]=\"!visible\">\r\n    <p>Select a background for your character.</p>\r\n\r\n    <span [class.incomplete]=\"currentBackgroundIndex === undefined\"><form>\r\n        <label for=\"bkg\"><h3>Background</h3></label>\r\n        <select title=\"background\" name=\"background\" id=\"bkg\" [(ngModel)]=\"currentBackgroundIndex\" (change)=\"currentBackgroundChanged($event)\">\r\n            <option hidden disabled selected value [ngValue]=\"undefined\"> -- select an option -- </option>\r\n            <option *ngFor=\"let bkg of backgrounds\" class=\"opt\" [ngValue]=\"backgrounds.indexOf(bkg)\" [disabled]=\"(currentStartingYear + bkg.Duration) > currentEndingYear\">{{ bkg.Name }}</option>\r\n        </select>\r\n    </form></span>\r\n\r\n    <div [hidden]=\"!currentBackground\">\r\n        {{ currentBackground ? (currentBackground.Citation | citation) : '' }}\r\n\r\n        <h4>Subtotal: {{subtotal}}</h4>\r\n        <app-exp [values]=\"fixedBackgroundExperience\" #exp />\r\n\r\n        <div [hidden]=\"!currentBackground\">\r\n            <app-random-life-event #rle\r\n                [stage]=\"4\"/>\r\n        </div>\r\n    </div>\r\n\r\n    <ng-container *ngIf=\"currentBackground\">\r\n        <h3><label for=\"changeAff\">Change affiliation?</label><input type=\"checkbox\" id=\"changeAff\" name=\"changeAff\" [value]=\"changeAffState\" unchecked #changeAff (change)=\"changeAffChanged($event)\"/></h3>\r\n        <p>This decision is optional.  Characters affiliation change will happen at {{affYear}} if elected to do so.<wbr />  For affiliation change rules {{affChangeCitation|citation}}</p>\r\n        <app-newaff #newaff\r\n            *ngIf=\"changeAffState === 'on'\"\r\n            [excludedAffiliations]=\"exAff\"\r\n            [currentYear]=\"affYear\" />\r\n    </ng-container>\r\n</div>\r\n","import { Injectable } from '@angular/core';\nimport { FieldService } from './field.service';\nimport { Education, EducationType, EduInfo } from './education';\nimport { Attribute, Book, EnumMap, Eternal, Requirement, Skill, Stat, Statistic, Trait } from '../utils/common';\nimport { SkillField } from './field';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EducationService {\n  Educations: Education[] = [];\n\n  constructor(public fieldService: FieldService) {\n    const asOpts = (names: string[]): (Pick<SkillField, 'Name'> & Partial<SkillField>)[] => {\n      return names.map(name => { return { Name: name } });\n    }\n\n    const uniExtraReq: Requirement = { Or: [\n      { Stage: 2, Name: 'Preparatory School' },\n      { Stage: 1, Name: 'Nobility' },\n      { Stage: 1, Name: 'White Collar' }\n    ]}\n\n    this.Educations.push(\n      new Education(2398, { Name: 'Technical College',\n        Cost: 600,\n        Experience: [\n          { Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Quantity: 100 },\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 100 },\n          { Kind: Statistic.Trait, Trait: Trait.Equipped, Quantity: 150 },\n          { Kind: Statistic.Skill, Skill: Skill.Computers, Quantity: 20 },\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*', Quantity: 30 },\n          {\n            Set: {\n              Options: [\n                ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att } }),\n                ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait } }),\n                ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill } })\n              ]\n            }, Quantity: 200\n          }\n        ],\n        [EducationType.Basic]: {\n          Duration: 1, Options: asOpts([\n            'Communications', 'Pilot - Aerospace (Civilian)', 'Pilot - Aircraft (Civilian)',\n            'Pilot - DropShip', 'Pilot - Exoskeleton', 'Technician - Civilian'])\n        },\n        [EducationType.Advanced]: {\n          Duration: 2, Options: asOpts([\n            'Cartographer', 'Engineer', 'Merchant Marine', 'Pilot - IndustrialMech',\n            'Pilot - JumpShip', 'Technician - Aerospace', \"Technician - 'Mech\", 'Technician - Vehicle'\n          ])\n        },\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 72\n        }\n      }), new Education(2398, { Name: 'Trade School',\n        Cost: 560,\n        Experience: [\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 50 },\n          { Or: EnumMap(Attribute).filter(att => att !== Attribute.Intelligence).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: att } }), Quantity: 100 },\n          { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 50 },\n          { Kind: Statistic.Trait, Trait: Trait.Equipped, Quantity: 100 },\n          { Pick: { Count: 3, Options: EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill } }) }, Quantity: 20 },\n          {\n            Set: {\n              Options: [\n                ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att } }),\n                ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait } }),\n                ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill } })\n              ]\n            }, Quantity: 200\n          }\n        ],\n        [EducationType.Basic]: {\n          Duration: 1, Options: asOpts([\n            'General Studies', 'Merchant'])\n        },\n        [EducationType.Advanced]: {\n          Duration: 2, Options: asOpts([\n            'Analysis', 'Anthropologist', 'Archaeologist', 'Cartographer', 'Communications',\n            'HPG Technician', 'Journalist', 'Manager', \"Medical Assistant\", 'Merchant Marine'\n          ])\n        },\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 72\n        }\n      }), new Education(2398, { Name: 'University',\n      Cost: 710,\n      Prereq: { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 },\n      Experience: [\n        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Quantity: 150 },\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75 },\n        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Quantity: 75, If: uniExtraReq },\n        { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Quantity: 25 },\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: 25 },\n        { Kind: Statistic.Attribute, Attribute: Attribute.Edge, Quantity: -100, If: uniExtraReq },\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 200 },\n        { Kind: Statistic.Trait, Trait: Trait.Connections, Quantity: 200, If: uniExtraReq },\n        { Kind: Statistic.Trait, Trait: Trait.Equipped, Quantity: 50 },\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: 75 },\n        { Kind: Statistic.Trait, Trait: Trait.Reputation, Quantity: -100, If: uniExtraReq },\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -200 },\n        { Kind: Statistic.Trait, Trait: Trait.Wealth, Quantity: -200, If: uniExtraReq },\n        { Kind: Statistic.Skill, Skill: Skill.Computers, Quantity: 25 },\n        { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*', Quantity: 20 },\n        { Kind: Statistic.Skill, Skill: Skill.Perception, Quantity: 25 },\n        { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!', Quantity: 20 },\n        { Set: { Options: [\n          ...EnumMap(Attribute).map<Stat>(att => { return { Kind: Statistic.Attribute, Attribute: <Attribute>att }}),\n          ...EnumMap(Trait).map<Stat>(trait => { return { Kind: Statistic.Trait, Trait: trait }}),\n          ...EnumMap(Skill).map<Stat>(skill => { return { Kind: Statistic.Skill, Skill: skill }})\n        ]}, Quantity: 220 }\n      ],\n      [EducationType.Basic]: { Duration: 1, Options: asOpts([\n        'Cartographer', 'Communications', 'General Studies', 'Manager', 'Scientist', 'Technician - Civilian'])},\n      [EducationType.Advanced]: { Duration: 2, Options: asOpts([\n        'Analysis', 'Anthropologist', 'Archaeologist', 'Detective', 'Engineer', 'HPG Technician', \n        'Planetary Surveyor', \"Medical Assistant\", 'Politician', 'Technician - Aerospace', 'Technician - Vehicle'])},\n      [EducationType.Special]: { Duration: 2, Options: asOpts([\n        'Doctor', 'Lawyer', 'Military Scientist', \"Technician - 'Mech\", \"Technician - Military\"])},\n      Citation: {\n        Book: Book.ATimeOfWar,\n        Page: 72,\n        Notes: ['Additional exp found in Prereq section is not currently applied.'] } //TODO fix this\n      })\n    )\n  }\n\n  public At(when: number): EducationInfo[] {\n    //We want to make sure we use the most current version of the Fields\n    const fields = this.fieldService.At(when);\n    const edui = this.Educations.flatMap<EduInfo>(edu => edu.At((when - 2398) as Eternal) ?? []);\n    return edui.map<EducationInfo>(edu => {\n      const names: { [value in EducationType]: string[] } = {\n        [EducationType.Basic]: [],\n        [EducationType.Advanced]: [],\n        [EducationType.Special]: []\n      }\n      const partial: Omit<EduInfo, EducationType> = { ...edu };\n      const types: Partial<Record<EducationType, {\n        Duration: number,\n        Options: SkillField[]\n      }>> = {};\n      EnumMap(EducationType).forEach((type: EducationType) => {\n        if (type in edu && edu[type] !== undefined) {\n          const temp = edu[type];\n\n          names[type] = (edu[type]?.Options ?? []).flatMap(_edu => _edu.Name);\n          if (temp) {\n            types[type] = { Duration: temp.Duration, Options: fields.filter(field => names[type].includes(field.Name)) }\n          }\n        };\n      });\n      return {\n        ...partial,\n        ...types\n      }\n    });\n  }\n}\n\nexport type EducationInfo = Omit<EduInfo, EducationType> & Partial<Record<EducationType, {\n  Duration: number,\n  Options: SkillField[]\n}>>\n","import { Subject } from \"rxjs\";\nimport { Citation, Eternal, Experience, Requirement, Skill } from \"../utils/common\";\nimport { SkillField } from \"./field\";\n\nexport class Education {\n    private timeline: {\n        [Date in Eternal]?: Array<(Record<'Kind', EducationEvent> & Partial<EduInfo>)>\n    } = {}\n\n    constructor(\n        private when: number,\n        private info: EduInfo) {\n        const date: Eternal = (when-2398) as Eternal\n        if(date > 0) {\n            this.timeline[0] = [{\n                Kind: EducationEvent.Disallow\n            }];\n        }\n        this.timeline[date] = [{\n            Kind: EducationEvent.Allowed,\n            ...info\n        }];\n    }\n\n    public RemoveField(when: number, type: EducationType, name: string, citation?: Citation): Education {\n        this.timeline[(when-2398) as Eternal] = [...(this.timeline[(when-2398) as Eternal] ?? []), {\n            Kind: EducationEvent.FieldRemoved,\n            [type]: { Options: [{ Name: name }]},\n            Citation: citation\n        }];\n        return this;\n    }\n\n    public AddField(when: number, type: EducationType, field: SkillField, citation?: Citation): Education {\n        this.timeline[(when-2398) as Eternal] = [...(this.timeline[(when-2398) as Eternal] ?? []), {\n            Kind: EducationEvent.FieldAdded,\n            [type]: { Options: [field]},\n            Citation: citation\n        }];\n        return this;\n    }\n\n    public At(when: Eternal): EduInfo | undefined {\n        const importantDates = Object.keys(this.timeline)\n            .filter(key => (+key) <= when)\n            .sort((a, b) => (+a) - (+b))\n            .map(key => (+key) as Eternal)\n            .filter(date => \n                this.timeline[date]?.some(event => \n                    event.Kind === EducationEvent.Allowed || event.Kind === EducationEvent.Disallow))\n            .reverse();\n\n        const latest = importantDates.pop();\n        if(latest === undefined) throw new Error(); //this means dates is empty and latest is undefined, which means there is no defined founding, which is bad.\n        if(!(this.timeline[latest]?.some(date => date.Kind === EducationEvent.Allowed))) {\n            //this means that the most recent education event is that it disallowed, which means if that date is before now (which it must be because above) then there is no field to return\n            return undefined;\n        }\n\n        //build the education between 'latest' and 'when'\n        const dates = Object.keys(this.timeline)\n            .filter(key => (+key) >= latest && (+key) <= when)\n            .sort((a, b) => (+a) - (+b))\n            .map(key => (+key) as Eternal);\n\n        //this is the actual data, just unprocssed\n        const events = dates.flatMap(date => this.timeline[date]?.filter(event => event.Kind === EducationEvent.Allowed || event.Kind === EducationEvent.Modify))\n        const initial = [...dates].shift();\n\n        if(initial === undefined) throw new Error();\n        const start = this.timeline[initial]?.filter(date => date.Kind === EducationEvent.Allowed)[0];\n\n        const remove = (sofar: { Duration: number, Options: Pick<SkillField, 'Name'>[] } | undefined, values: Pick<SkillField, 'Name'>[]): typeof sofar => {\n            if(!sofar) return undefined;\n            if(values.length === 0) return sofar;\n            const names: string[] = values.map(value => value.Name);\n            return {\n                Duration: sofar!.Duration,\n                Options: sofar.Options.filter(field => !names.includes(field.Name))\n            }\n        }\n\n        const add = (sofar: { Duration: number, Options: Pick<SkillField, 'Name'>[] } | undefined, values: Pick<SkillField, 'Name'>[]): typeof sofar => {\n            if(!sofar) return undefined;\n            if(values.length === 0) return sofar;\n            return {\n                Duration: sofar!.Duration,\n                Options: [...sofar.Options, ...values]\n            }\n        }\n\n        const process = (sofar: ReturnType<typeof this.At>): ReturnType<typeof this.At> => {\n            const current = events.shift();\n            if(!current) return sofar;\n\n            switch(current.Kind) {\n                case EducationEvent.Allowed:\n                case EducationEvent.Modify:\n                    return process({\n                        Name: current.Name ?? sofar!.Name!,\n                        Prereq: current.Prereq ?? sofar!.Prereq,\n                        Cost: current.Cost ?? sofar!.Cost!,\n                        Experience: current.Experience ?? sofar!.Experience!,\n                        Citation: current.Citation ?? sofar!.Citation,\n                        [EducationType.Basic]: (sofar!)[EducationType.Basic],\n                        [EducationType.Advanced]: (sofar!)[EducationType.Advanced],\n                        [EducationType.Special]: (sofar!)[EducationType.Special],\n                    });\n                case EducationEvent.Disallow:\n                    return undefined;\n                case EducationEvent.FieldAdded:\n                    return process({\n                        Name: sofar!.Name!,\n                        Prereq: sofar!.Prereq,\n                        Cost: sofar!.Cost!,\n                        Experience: sofar!.Experience!,\n                        Citation: sofar!.Citation,\n                        [EducationType.Basic]: add((sofar!)[EducationType.Basic], EducationType.Basic in current ? current[EducationType.Basic]?.Options ?? [] : []),\n                        [EducationType.Advanced]: add((sofar!)[EducationType.Advanced], EducationType.Advanced in current ? current[EducationType.Advanced]?.Options ?? [] : []),\n                        [EducationType.Special]: add((sofar!)[EducationType.Special], EducationType.Special in current ? current[EducationType.Special]?.Options ?? [] : []),\n                    });\n                case EducationEvent.FieldRemoved:\n                    return process({\n                        Name: sofar!.Name!,\n                        Prereq: sofar!.Prereq,\n                        Cost: sofar!.Cost!,\n                        Experience: sofar!.Experience!,\n                        Citation: sofar!.Citation,\n                        [EducationType.Basic]: remove((sofar!)[EducationType.Basic], EducationType.Basic in current ? current[EducationType.Basic]?.Options ?? [] : []),\n                        [EducationType.Advanced]: remove((sofar!)[EducationType.Advanced], EducationType.Advanced in current ? current[EducationType.Advanced]?.Options ?? [] : []),\n                        [EducationType.Special]: remove((sofar!)[EducationType.Special], EducationType.Special in current ? current[EducationType.Special]?.Options ?? [] : []),\n                    });\n            }\n        }\n\n        const ret = process({ \n            Name: start!.Name!,\n            Prereq: start!.Prereq,\n            Cost: start!.Cost!,\n            Experience: start!.Experience!,\n            Citation: start!.Citation,\n            [EducationType.Basic]: (start!)[EducationType.Basic],\n            [EducationType.Advanced]: (start!)[EducationType.Advanced],\n            [EducationType.Special]: (start!)[EducationType.Special],\n        });\n        return ret;\n    }\n}\n\nexport enum EducationType {\n    Basic, Advanced, Special\n}\n\ntype _EduInfo = {\n    Name: string,\n    Cost: number,\n    Experience: Experience[],\n    Prereq?: Requirement,\n    Citation?: Citation\n}\n\nexport type EduInfo = _EduInfo & Partial<Record<EducationType, {\n    Duration: number,\n    Options: (Pick<SkillField, 'Name'> & Partial<SkillField>)[]\n}>>\n\nenum EducationEvent {\n    'Allowed', 'Disallow', 'Modify', 'FieldAdded', 'FieldRemoved'\n}","import { Injectable } from '@angular/core';\nimport { Field, SkillField } from './field';\nimport { Attribute, Book, Communications, Driving, EnumMap, Eternal, MedTech, Navigation, Piloting, Skill, Statistic, Surgery, Technician, Tracking, Trait } from '../utils/common';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FieldService {\n  Fields: Field[] = [];\n  constructor() { \n    this.Fields.push(\n      new Field(2398, { Name: 'Anthropology',\n        Prereq: { And: [{ Field: 'General Studies' }, \n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Anthropologist' },\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: /History of $1/ },\n          { Kind: Statistic.Skill, Skill: Skill.Investigation },\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '*' },\n          { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '*' },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '*' } ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82 }\n      }), new Field(2398, { Name: 'Archaeologist',\n        Prereq: { And: [{ Field: 'General Studies' }, \n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Archaeologist' },\n          { Kind: Statistic.Skill, Skill: Skill.Appraisal },\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: 'Geology' },\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: /History of $1/ },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Ground },\n          { Kind: Statistic.Skill, Skill: Skill.Perception } ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82 }\n      }), new Field(2398, { Name: 'Cartographer',\n        Prereq: { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 },\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Cartographer' },\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Air },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Ground },\n          { Kind: Statistic.Skill, Skill: Skill.Perception },\n          { Kind: Statistic.Skill, Skill: Skill.SensorOperations } ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82 }\n      }), new Field(2398, { Name: 'Communications',\n        Prereq: { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 },\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Acting },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Communications' },\n          { Kind: Statistic.Skill, Skill: Skill.Communications, Subskill: Communications.Conventional },\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '*' },\n          { Kind: Statistic.Skill, Skill: Skill.SensorOperations } ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82 }\n      }), new Field(2398, { Name: 'Doctor',\n        Prereq: { And: [{ Or: ['Medical Assistant', 'Scientist'].map(req => { return { Field: req }})},\n          { Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Op:'>=', Level: 4 },\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 5 },\n          { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Op:'>=', Level: 3 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Administration },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Doctor' },\n          { Kind: Statistic.Skill, Skill: Skill.MedTech, Subskill: MedTech.General },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!' },\n          { Kind: Statistic.Skill, Skill: Skill.Surgery, Subskill: Surgery.General } ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82,\n          Notes: ['Added subskill General for MedTech as none was provided.', \n                  'Added subskill General for Surgery as none was provided.']}\n      }), new Field(2398, { Name: 'Engineer',\n        Prereq: { And: [\n          { Or: ['Civilian', 'Military'].map(req => { return { Field: `Technician - ${req}` }})},\n          { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Appraisal },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Engineer' },\n          { Kind: Statistic.Skill, Skill: Skill.Perception },\n          { Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: Technician.Nuclear },\n          { Or: EnumMap(Technician).filter(sub => sub !== Technician.Nuclear).map<SkillType>(sub => { return {\n            Kind:Statistic.Skill, Skill: Skill.Technician, Subskill: sub }})} ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82,\n          Notes: ['Removed subskill Nuclear for Technician so it is not duplicated.']}\n      }), new Field(2398, { Name: 'General Studies',\n        Prereq: { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 3 },\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: '*' },\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: '*' },\n          { Kind: Statistic.Skill, Skill: Skill.Perception },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!' } ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82,\n          Notes: ['Ignored part that reads \"at least one other Skill related to those shown below\" because is was unclear.']}\n      }), new Field(2398, { Name: 'HPG Technician',\n        Prereq: { And:[\n          { Or: [\n              ...['ComStar', 'Word of Blake'].map(aff => { return { Affiliation: aff}}), \n                                                                  { IsClanner: true }]},\n          { Field: 'Communications' }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Administration },\n          { Kind: Statistic.Skill, Skill: Skill.Communications, Subskill: Communications.Conventional },\n          { Kind: Statistic.Skill, Skill: Skill.Communications, Subskill: Communications.BlackBox },\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          { Kind: Statistic.Skill, Skill: Skill.Cryptography } ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82 }\n      }), new Field(2398, { Name: 'Journalist',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Op:'>=', Level: 4 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Acting },\n          { Kind: Statistic.Skill, Skill: Skill.Art, Subskill: 'Writing' },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Journalist' },\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          { Kind: Statistic.Skill, Skill: Skill.Investigation },\n          { Kind: Statistic.Skill, Skill: Skill.Perception } ],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82 }\n      }), new Field(2398, { Name: 'Lawyer',\n        Prereq: { And: [{ Field: 'General Studies'},\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Op:'>=', Level: 4 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Op:'>=', Level: 5 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Acting },\n          { Kind: Statistic.Skill, Skill: Skill.Administration },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Lawyer' },\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: 'Law' },\n          { Kind: Statistic.Skill, Skill: Skill.Negotiation },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '*' }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82 }\n      }), new Field(2398, { Name: 'Manager',\n        Prereq: { And: [{ Field: 'General Studies'},\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Op:'>=', Level: 3 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Administration },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Management' },\n          { Kind: Statistic.Skill, Skill: Skill.Leadership },\n          { Kind: Statistic.Skill, Skill: Skill.Negotiation },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!' },\n          { Kind: Statistic.Skill, Skill: Skill.Training }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82,\n          Notes: ['Reduced Intelligence requirment to 3 from 5.', 'Reduced Charisma requirment to 3 from 5.']}\n      }), new Field(2398, { Name: 'Medical Assistant',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'MedTech' },\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          { Kind: Statistic.Skill, Skill: Skill.Interest, Subskill: 'Pharmacology' },\n          { Kind: Statistic.Skill, Skill: Skill.MedTech, Subskill: MedTech.General },\n          { Kind: Statistic.Skill, Skill: Skill.Perception }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82,\n          Notes: ['Added subskill General for MedTech as none was provided.']}\n      }), new Field(2398, { Name: 'Merchant',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Op:'>=', Level: 3 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Administration },\n          { Kind: Statistic.Skill, Skill: Skill.Appraisal },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Merchant' },\n          { Kind: Statistic.Skill, Skill: Skill.Negotiation },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '*' },\n          { Kind: Statistic.Skill, Skill: Skill.Streetwise, Subskill: '*' }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82,\n          Notes: ['Added subskill General for MedTech as none was provided.']}\n      }), new Field(2398, { Name: 'Merchant Marine',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Reflexes, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Trait, Trait: Trait.TDS, Op: '=', Level: 0 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Merchant Marine' },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '*' },\n          { Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: Technician.Aeronautics },\n          { Or: EnumMap(Technician).filter(sub => sub !== Technician.Aeronautics).map<SkillType>(sub => { return {\n            Kind:Statistic.Skill, Skill: Skill.Technician, Subskill: sub }})},\n          { Kind: Statistic.Skill, Skill: Skill.ZeroGOperations }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82,\n          Notes: ['Removed subskill Aeronautics for Technician so it is not duplicated.']}\n      }), new Field(2398, { Name: 'Pilot - Aerospace (Civilian)',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Reflexes, Op:'>=', Level: 4 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 3 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Aerospace Pilot' },\n          { Kind: Statistic.Skill, Skill: Skill.Communications, Subskill: Communications.Conventional },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Air },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Space },\n          { Kind: Statistic.Skill, Skill: Skill.Piloting, Subskill: Piloting.Aerospace },\n          { Kind: Statistic.Skill, Skill: Skill.SensorOperations }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 82,\n          Notes: ['Removed subskill Aeronautics for Technician so it is not duplicated.']}\n      }), new Field(2398, { Name: 'Pilot - Aircraft (Civilian)',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Reflexes, Op:'>=', Level: 4 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Aircraft Pilot' },\n          { Kind: Statistic.Skill, Skill: Skill.Communications, Subskill: Communications.Conventional },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Air },\n          { Or: [Piloting.Aircraft, Piloting.VTOL].map<SkillType>(sub => { return { \n            Kind: Statistic.Skill, Skill: Skill.Piloting, Subskill: sub }})},\n          { Kind: Statistic.Skill, Skill: Skill.SensorOperations }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: 'Pilot - DropShip',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Op:'>=', Level: 4 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Trait, Trait: Trait.TDS, Op: '=', Level: 0 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'DropShip Pilot' },\n          { Kind: Statistic.Skill, Skill: Skill.Communications, Subskill: Communications.Conventional },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Space },\n          { Kind: Statistic.Skill, Skill: Skill.Piloting, Subskill: Piloting.Spacecraft },\n          { Kind: Statistic.Skill, Skill: Skill.SensorOperations },\n          { Kind: Statistic.Skill, Skill: Skill.ZeroGOperations }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: 'Pilot - Exoskeleton',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Strength, Op:'>=', Level: 5 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Body, Op:'>=', Level: 5 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Piloting, Subskill: Piloting.Battlesuit },\n          { Kind: Statistic.Skill, Skill: Skill.SensorOperations },\n          ...[Technician.Electronics, Technician.Mechanical, Technician.Myomer].map<SkillType>(sub => { return {\n            Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: sub }})],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: 'Pilot - IndustrialMech',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Reflexes, Op:'>=', Level: 3 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Piloting, Subskill: Piloting.Mech },\n          { Kind: Statistic.Skill, Skill: Skill.SensorOperations },\n          ...[Technician.Electronics, Technician.Mechanical, Technician.Myomer].map<SkillType>(sub => { return {\n            Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: sub\n          }})],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: 'Pilot - JumpShip',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 5 },\n                        { Field: 'Pilot - DropShip' },\n                        { Kind: Statistic.Trait, Trait: Trait.TDS, Op: '=', Level: 0 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Administration },\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.KFJump },\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Space }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: 'Planetary Surveyor',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 6 },\n                        { Field: 'Scientist' }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Appraisal },\n          { Or: [{ Kind: Statistic.Skill, Skill: Skill.Driving, Subskill: Driving.Ground },\n                 { Kind: Statistic.Skill, Skill: Skill.Driving, Subskill: Driving.Sea }]},\n          { Kind: Statistic.Skill, Skill: Skill.Navigation, Subskill: Navigation.Ground },\n          { Kind: Statistic.Skill, Skill: Skill.Survival, Subskill: '*' },\n          { Kind: Statistic.Skill, Skill: Skill.Tracking, Subskill: Tracking.Wilds }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83,\n          Notes: ['Excluded subskill Rail for Driving skill choice.']}\n      }), new Field(2398, { Name: 'Politician',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Charisma, Op:'>=', Level: 4 },\n                        { Field: 'Manager' }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Acting },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Politician' },\n          { Kind: Statistic.Skill, Skill: Skill.Leadership },\n          { Kind: Statistic.Skill, Skill: Skill.Negotiation },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!' }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: 'Scientist',\n        Prereq: { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 },\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Acting },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Politician' },\n          { Kind: Statistic.Skill, Skill: Skill.Leadership },\n          { Kind: Statistic.Skill, Skill: Skill.Negotiation },\n          { Kind: Statistic.Skill, Skill: Skill.Protocol, Subskill: '!' }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: 'Technician - Aerospace',\n        Prereq: { And: [{ Or: ['Civilian', 'Military'].map(req => { return { Field: `Technician - ${req}` }})},\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          ...[Technician.Aeronautics, Technician.Nuclear, Technician.Jets].map<SkillType>(sub => { return {\n            Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: sub }}),\n            { Kind: Statistic.Skill, Skill: Skill.ZeroGOperations }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: 'Technician - Civilian',\n        Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 3 },\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Dexterity, Op:'>=', Level: 3 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Appraisal },\n          { Kind: Statistic.Skill, Skill: Skill.Career, Subskill: 'Technician' },\n          ...[Technician.Electronics, Technician.Mechanical, Technician.Nuclear].map<SkillType>(sub => { return {\n            Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: sub }}),\n            { Kind: Statistic.Skill, Skill: Skill.ZeroGOperations }],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: \"Technician - 'Mech\",\n        Prereq: { And: [{ Or: ['Civilian', 'Military'].map(req => { return { Field: `Technician - ${req}` }})},\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 }]},\n        Skills: [Technician.Electronics, Technician.Jets, Technician.Mechanical, Technician.Myomer, Technician.Nuclear].map<SkillType>(sub => { return {\n          Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: sub }}),\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: \"Technician - Vehicle\",\n        Prereq: { And: [{ Or: ['Civilian', 'Military'].map(req => { return { Field: `Technician - ${req}` }})},\n                        { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 }]},\n        Skills: [\n          { Kind: Statistic.Skill, Skill: Skill.Computers },\n          ...[Technician.Electronics, Technician.Mechanical, Technician.Nuclear].map<SkillType>(sub => { return {\n            Kind: Statistic.Skill, Skill: Skill.Technician, Subskill: sub }})],\n        Citation: {\n          Book: Book.ATimeOfWar,\n          Page: 83 }\n      }), new Field(2398, { Name: \"Analysis\",\n      Prereq: { And: [{ Kind: Statistic.Attribute, Attribute: Attribute.Willpower, Op:'>=', Level: 4 },\n                      { Or: [{ Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 4 },\n                             { And: [{ Field: 'Police Officer'},\n                                     { Kind: Statistic.Attribute, Attribute: Attribute.Intelligence, Op:'>=', Level: 3 }]}]}]},\n      Skills: [\n        { Kind: Statistic.Skill, Skill: Skill.Communications, Subskill: Communications.Conventional },\n        { Kind: Statistic.Skill, Skill: Skill.Computers },\n        { Kind: Statistic.Skill, Skill: Skill.Cryptography },\n        { Kind: Statistic.Skill, Skill: Skill.Language, Subskill: '*' },\n        { Kind: Statistic.Skill, Skill: Skill.SensorOperations },],\n      Citation: {\n        Book: Book.ATimeOfWar,\n        Page: 83 }\n      }), new Field(2398, { Name: \"Detective\", //CURRENTLY INCOMPLETE\n      Skills: [],\n      Citation: {\n        Book: Book.ATimeOfWar,\n        Page: 83, }\n      }), new Field(2398, { Name: \"Military Scientist\", //CURRENTLY INCOMPLETE\n      Skills: [],\n      Citation: {\n        Book: Book.ATimeOfWar,\n        Page: 83, }\n      }), new Field(2398, { Name: \"Technician - Military\", //CURRENTLY INCOMPLETE\n      Skills: [],\n      Citation: {\n        Book: Book.ATimeOfWar,\n        Page: 83, }\n      })\n    )\n  }\n\n  public At(when: number): SkillField[] {\n    return this.Fields.flatMap<SkillField>(field => field.At((when - 2398) as Eternal) ?? []);\n  }\n}\n\ntype SkillType = SkillField[\"Skills\"][keyof SkillField[\"Skills\"]];","import { Citation, Eternal, Experience, Requirement } from \"../utils/common\"\n\nexport class Field {\n    private timeline: {\n        [Date in Eternal]?: Array<(Record<'Kind', FieldEvent> & Partial<SkillField>)>\n    } = {}\n\n    constructor(\n        private when: number,\n        private field: SkillField) {\n        const date: Eternal = (when-2398) as Eternal\n        if(date > 0) {\n            this.timeline[0] = [{\n                Kind: FieldEvent.Disallow\n            }];\n        }\n        this.timeline[date] = [{\n            Kind: FieldEvent.Allowed,\n            ...field\n        }];\n    }\n\n    public At(when: Eternal): SkillField | undefined {\n        const importantDates = Object.keys(this.timeline)\n            .filter(key => (+key) <= when)\n            .sort((a, b) => (+a) - (+b))\n            .map(key => (+key) as Eternal)\n            .filter(date => \n                this.timeline[date]?.some(event => \n                    event.Kind === FieldEvent.Allowed || event.Kind === FieldEvent.Disallow))\n            .reverse();\n\n        const latest = importantDates.pop();\n        if(latest === undefined) throw new Error(); //this means dates is empty and latest is undefined, which means there is no defined founding, which is bad.\n        if(!(this.timeline[latest]?.some(date => date.Kind === FieldEvent.Allowed))) {\n            //this means that the most recent field event is that it disallowed, which means if that date is before now (which it must be because above) then there is no field to return\n            return undefined;\n        }\n\n        //build the field between 'latest' and 'when'\n        const dates = Object.keys(this.timeline)\n            .filter(key => (+key) >= latest && (+key) <= when)\n            .sort((a, b) => (+a) - (+b))\n            .map(key => (+key) as Eternal);\n\n        //this is the actual data, just unprocssed\n        const events = dates.flatMap(date => this.timeline[date]?.filter(event => event.Kind === FieldEvent.Allowed || event.Kind === FieldEvent.Modify))\n        const initial = [...dates].shift();\n\n        if(initial === undefined) throw new Error();\n        const start = this.timeline[initial]?.filter(date => date.Kind === FieldEvent.Allowed)[0];\n\n        const process = (sofar: ReturnType<typeof this.At>): ReturnType<typeof this.At> => {\n            const current = events.shift();\n            if(!current) return sofar;\n\n            switch(current.Kind) {\n                case FieldEvent.Allowed:\n                case FieldEvent.Modify:\n                    return process({\n                        Name: current.Name ?? sofar!.Name!,\n                        Prereq: current.Prereq ?? sofar!.Prereq,\n                        Skills: current.Skills ?? sofar!.Skills!,\n                        Citation: current.Citation ?? sofar!.Citation\n                    });\n                case FieldEvent.Disallow:\n                    return undefined;\n            }\n        }\n\n        const ret = process({ \n            Name: start!.Name!,\n            Prereq: start!.Prereq,\n            Skills: start!.Skills!,\n            Citation: start!.Citation\n        });\n        return ret;\n    }\n}\n\nexport type SkillField = {\n    Name: string,\n    Prereq?: Requirement,\n    Skills: Omit<Experience, 'Quantity' | 'Set' | 'If'>[],\n    Citation?: Citation\n}\n\nenum FieldEvent {\n    'Allowed', 'Disallow', 'Modify'\n}","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Archtype } from './common';\r\n\r\n@Pipe({\r\n  name: 'archtype'\r\n})\r\nexport class ArchtypePipe implements PipeTransform {\r\n\r\n  transform(value: number | Archtype): string {\r\n    const ret = Archtype[value].replace(/([A-Z]+)/g, ' $1').trim();\r\n    return ret;\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Book, Citation } from './common';\r\n\r\n@Pipe({\r\n  name: 'citation'\r\n})\r\nexport class CitationPipe implements PipeTransform {\r\n\r\n  transform(value: Citation | undefined): string {\r\n    if(!value) {\r\n      return 'No Citation given!'\r\n    } else {\r\n      const book = Book[value.Book].replace(/([A-Z])/g, ' $1').replace(/([0-9]+)/g, '-$1').trim();\r\n\r\n      return `See ${book}, pg: ${value.Page}`;\r\n    }\r\n  }\r\n\r\n}\r\n","export function EnumMap(values: object): number[] {\r\n    return [...Array(1+Math.max(...Object.values(values).map(v => +v).filter(v => +v))).keys()]\r\n}\r\n\r\nexport function clamp(number: number, min: number, max: number): number {\r\n    return Math.max(min, Math.min(number, max));\r\n}\r\n\r\nexport enum Statistic {\r\n    Attribute,\r\n    Trait,\r\n    Skill\r\n}\r\n\r\nexport enum Attribute {\r\n    Strength,\r\n    Body,\r\n    Dexterity,\r\n    Reflexes,\r\n    Intelligence,\r\n    Willpower,\r\n    Charisma,\r\n    Edge\r\n}\r\n\r\nexport enum Trait {\r\n    AlternativeID,\r\n    Ambidextrous,\r\n    AnimalEmpathy,\r\n    Attractive,\r\n    Citizenship,\r\n    Trueborn,\r\n    CombatSense,\r\n    Connections,\r\n    ExceptionalAttribute,\r\n    FastLearner,\r\n    Fit,\r\n    GTolerance,\r\n    GoodHearing,\r\n    GoodVision,\r\n    Gregarious,\r\n    Implant,\r\n    Prosthetic,\r\n    NaturalAptitude,\r\n    PainResistance,\r\n    Patient,\r\n    Phenotype,\r\n    PoisonResistance,\r\n    Property,\r\n    Rank,\r\n    SixthSense,\r\n    TechEmpathy,\r\n    ThickSkinned,\r\n    Title,\r\n    Bloodname,\r\n    Toughness,\r\n    AnimalAntipathy,\r\n    Bloodmark,\r\n    CombatParalysis,\r\n    Compulsion,\r\n    DarkSecret,\r\n    Enemy,\r\n    GlassJaw,\r\n    Gremlins,\r\n    Handicap,\r\n    Illiterate,\r\n    Impatient,\r\n    InForLife,\r\n    Introvert,\r\n    LostLimb,\r\n    PoorHearing,\r\n    PoorVision,\r\n    SlowLearner,\r\n    ThinSkinned,\r\n    TDS,\r\n    Unattractive,\r\n    Unlucky,\r\n    Equipped,\r\n    ExtraIncome,\r\n    Reputation,\r\n    Wealth,\r\n    CustomVehicle,\r\n    DesignQuirk,\r\n    VehicleLevel,\r\n    Mutation\r\n}\r\n\r\nexport enum Skill {\r\n    Acrobatics,\r\n    Acting,\r\n    Administration,\r\n    AnimalHandling,\r\n    Appraisal,\r\n    Archery,\r\n    Art,\r\n    Artillery,\r\n    Career,\r\n    Climbing,\r\n    Communications,\r\n    Computers,\r\n    Cryptography,\r\n    Demolitions,\r\n    Disguise,\r\n    Driving,\r\n    EscapeArtist,\r\n    Forgery,\r\n    Gunnery,\r\n    Interest,\r\n    Interrogation,\r\n    Investigation,\r\n    Language,\r\n    Leadership,\r\n    MartialArts,\r\n    MedTech,\r\n    MeleeWeapons,\r\n    Navigation,\r\n    Negotiation,\r\n    Perception,\r\n    Piloting,\r\n    Prestidigitation,\r\n    Protocol,\r\n    Running,\r\n    Science,\r\n    SecuritySystem,\r\n    SensorOperations,\r\n    SmallArms,\r\n    Stealth,\r\n    Streetwise,\r\n    SupportWeapons,\r\n    Surgery,\r\n    Survival,\r\n    Swimming,\r\n    Tactics,\r\n    Technician,\r\n    ThrownWeapons,\r\n    Tracking,\r\n    Training,\r\n    ZeroGOperations\r\n}\r\n\r\nexport enum Acrobatics {\r\n    FreeFall,\r\n    Gymnastics\r\n}\r\n\r\nexport enum AnimalHandling {\r\n    Herding, Riding, Training\r\n}\r\n\r\nexport enum Communications {\r\n    BlackBox,\r\n    Conventional,\r\n    HyperpuseGenerator\r\n}\r\n\r\nexport enum Driving {\r\n    Ground, Rail, Sea\r\n}\r\n\r\nexport enum Gunnery {\r\n    Aerospace, Air, Battlesuit, Ground, Mech, ProtoMech, Sea, Spacecraft, Turret\r\n}\r\n\r\nexport enum MedTech {\r\n    General, Veterinary\r\n}\r\n\r\nexport enum Navigation {\r\n    Ground, Air, Sea, Space, KFJump\r\n}\r\n\r\nexport enum Piloting {\r\n    Aerospace, Aircraft, Battlesuit, Ground, Mech, ProtoMech, Railcraft, Seacraft, Spacecraft, VTOL\r\n}\r\n\r\nexport enum Prestidigitation {\r\n    PickPocket, Quickdraw, SleightOfHand\r\n}\r\n\r\nexport enum SecuritySystem {\r\n    Electrical, Mechanical\r\n}\r\n\r\nexport enum Surgery {\r\n    General, Veterinary\r\n}\r\n\r\nexport enum Tactics {\r\n    Infantry, Land, Sea, Air, Space\r\n}\r\n\r\nexport enum Technician {\r\n    Aeronautics, Cybernetics, Electronics, Jets, Mechanical, Myomer, Nuclear, Weapons\r\n}\r\n\r\nexport enum ThrownWeapons {\r\n    Blades, Blunt, Spear\r\n}\r\n\r\nexport enum Tracking {\r\n    Urban, Wilds\r\n}\r\n\r\nexport type Stage = 0 | 1 | 2 | 3 | 4;\r\n\r\nexport enum Archtype {\r\n    Noble, Mechwarrior, Infantry, Tanker, Pilot, Explorer, ShipsOfficer, Mercenary, Pirate, Cop, Diplomat, CorpExec, Journalist, Scientist, Engineer, Technician, Academic, Artist, Entertainer, Thug\r\n}\r\n\r\nexport enum CreatureTrait {\r\n    Aggressive,\r\n    Cognition,\r\n    Armor,\r\n    BloodSucker,\r\n    BloodRage,\r\n    Camoflage,\r\n    ColdBlooded,\r\n    Domesticated,\r\n    ExceptionalAttack,\r\n    Flight,\r\n    GoodHearing,\r\n    GoodSmell,\r\n    GoodVision,\r\n    Hardy,\r\n    NightVision,\r\n    OffensiveAdaptation,\r\n    PackHunter,\r\n    Poisonous,\r\n    PoisonResistance,\r\n    Skittish,\r\n    Susceptible,\r\n    ToolUser,\r\n    CombatSense,\r\n    FastLearner,\r\n    Fit,\r\n    GTolerance,\r\n    PainResistance,\r\n    Patient,\r\n    ThickSkinned,\r\n    Toughness,\r\n    CombatParalysis,\r\n    Compulsion,\r\n    GlassJaw,\r\n    Handicap,\r\n    Impatient,\r\n    LostLimb,\r\n    PoorHearing,\r\n    PoorVision,\r\n    SlowLearner,\r\n    ThinSkinned\r\n}\r\n\r\nexport enum CreatureSkill {\r\n    Agility,\r\n    Language,\r\n    Melee,\r\n    Mimicry,\r\n    Climbing,\r\n    Perception,\r\n    Running,\r\n    Stealth,\r\n    Swimming,\r\n    Tracking,\r\n    Survival\r\n}\r\n\r\nexport enum PlantTrait {\r\n    Armor, Camouflage, ExceptionalAttack, Hardy, Poisonous, PoisonResistance, Susceptible\r\n}\r\n\r\nexport enum PlantSkill {\r\n    Melee, Perception\r\n}\r\n\r\ntype AttStat\r\n    = Record<'Kind', Statistic.Attribute>\r\n    & Record<'Attribute', Attribute>\r\n\r\ntype __Skill<S extends Skill> = (Record<'Skill', S> & Record<'Kind', Statistic.Skill>)\r\n\r\ntype _Skill<S extends Skill> = __Skill<S> &\r\n    ( S extends Skill.Acrobatics ? Record<'Subskill', Acrobatics>\r\n    : S extends Skill.AnimalHandling ? Record<'Subskill', AnimalHandling>\r\n    : S extends Skill.Communications ? Record<'Subskill', Communications>\r\n    : S extends Skill.Driving ? Record<'Subskill', Driving>\r\n    : S extends Skill.Gunnery ? Record<'Subskill', Gunnery>\r\n    : S extends Skill.MedTech ? Record<'Subskill', MedTech>\r\n    : S extends Skill.Navigation ? Record<'Subskill', Navigation>\r\n    : S extends Skill.Piloting ? Record<'Subskill', Piloting>\r\n    : S extends Skill.Prestidigitation ? Record<'Subskill', Prestidigitation>\r\n    : S extends Skill.SecuritySystem ? Record<'Subskill', SecuritySystem>\r\n    : S extends Skill.Surgery ? Record<'Subskill', Surgery>\r\n    : S extends Skill.Tactics ? Record<'Subskill', Tactics>\r\n    : S extends Skill.Technician ? Record<'Subskill', Technician>\r\n    : S extends Skill.ThrownWeapons ? Record<'Subskill', ThrownWeapons>\r\n    : S extends Skill.Tracking ? Record<'Subskill', Tracking>\r\n    : S extends (Skill.Language | Skill.Career | Skill.Protocol | Skill.Streetwise | Skill.Survival | Skill.Art | Skill.Interest) ? (Record<'Subskill', string | RegExp>)\r\n    : __Skill<S>) \r\n\r\ntype SkillStat = _Skill<Skill> & Partial<Record<'Speciality', string>>\r\n\r\ntype __Trait<T extends Trait> = Record<'Trait', T> & Record<'Kind', Statistic.Trait>\r\n\r\ntype _Trait<T extends Trait> = __Trait<T> &\r\n    ( T extends Trait.ExceptionalAttribute ? Omit<AttStat, 'Kind'>\r\n    : T extends Trait.NaturalAptitude ? Omit<SkillStat, 'Kind' | 'Subskill' | 'Speciality'>\r\n    : T extends Trait.Compulsion ? Record<'Trigger', string>\r\n    : __Trait<T>) \r\n\r\ntype TraitStat = _Trait<Trait>\r\n\r\nexport type Stat = (AttStat | SkillStat | TraitStat)\r\n\r\nexport type Experience = \r\n    ( Stat \r\n    | Record<'Or', Stat[]> \r\n    | Record<'Pick', { Count: number, Options: (Stat & Partial<Record<'Limit', number>>)[] }> \r\n    | Record<'Set', { Options: (Stat & Partial<Record<'Limit', number>>)[] }>\r\n    ) & Record<'Quantity', number> & Partial<Record<'If', Requirement>>\r\n\r\ntype Enumerate<N extends number, Acc extends number[] = []> = Acc['length'] extends N\r\n    ? Acc[number]\r\n    : Enumerate<N, [...Acc, Acc['length']]>\r\n  \r\nexport type Range<F extends number, T extends number> = Exclude<Enumerate<T>, Enumerate<F>>\r\n\r\n//Year 0 is 2398\r\nexport type Eternal = Range<0 , 747>\r\n\r\nexport enum Book {\r\n    ATimeOfWar,\r\n    ATimeOfWarCompanion,\r\n    EraDigestAgeOfWar,\r\n    EraDigestGoldenCentury,\r\n    EraReport2750,\r\n    EraReport3052,\r\n    EraReport3062, \r\n    EraReport3145,\r\n    HouseArano,\r\n    FieldManual3085,\r\n    BestGuess\r\n}\r\n\r\nexport type Citation = Record<'Book', Book> & Record<'Page', Range<0 , 500>> & Partial<Record<'Notes', string[]>>\r\n\r\nexport type Ops = '>' | '>=' | '=' | '<' | '<=';\r\n\r\nexport type OneOrBoth<A, B> = A | B | ( A & B );\r\n\r\nexport type AnyOfRec<options extends string | number | symbol, type> = Record<options extends Omit<options, infer A> ? A : options, type>\r\n\r\ntype __Requirement \r\n    = (Stat & Record<'Op', Omit<Ops, '='>> & Record<'Level', number>)\r\n    | (Record<'Stage', Stage> & (Record<'Name', string>))\r\n    | (Record<'Field', string>)\r\n    | (Record<'IsClanner', boolean>)\r\n    | (Record<'Affiliation', string>)\r\n    | Record<'Or', (__Requirement | Record<'Not', __Requirement>)[]>\r\n    | Record<'And', (__Requirement | Record<'Not', __Requirement>)[]>\r\ntype _Requirement = __Requirement & Partial<Record<'Strict', true>>\r\nexport type Requirement = _Requirement | Record<'Not', _Requirement>","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Experience } from './common';\r\nimport { StatPipe } from './stat.pipe';\r\n\r\n@Pipe({\r\n  name: 'exp'\r\n})\r\nexport class ExpPipe implements PipeTransform {\r\n  statPipe: StatPipe;\r\n  constructor() {\r\n    this.statPipe = new StatPipe();\r\n  }\r\n\r\n  transform(value: Experience | undefined): string {\r\n    if(!value) return 'undefined';\r\n    if('Or' in value) {\r\n      return 'Or?!'\r\n    } else if('Pick' in value) {\r\n      return 'Pick?!'\r\n    } else if('Set' in value) {\r\n      return 'Set?!'\r\n    } else if ('If' in value) {\r\n      return 'If?!'\r\n    } else {\r\n      return `${this.statPipe.transform(value)} ${ value.Quantity > 0 ? '+' : '' }${value.Quantity} EXP`;\r\n    }\r\n  }\r\n\r\n}\r\n","import {  AfterViewInit, ChangeDetectorRef, Component, ContentChildren, EventEmitter, Input, OnDestroy, Output, QueryList, ViewChildren } from '@angular/core';\r\nimport { Experience, Stat, Statistic, Trait } from '../common';\r\nimport { OrExpComponent } from '../or-exp/or-exp.component';\r\nimport { StarExpComponent } from '../star-exp/star-exp.component';\r\nimport { Subscription } from 'rxjs';\r\nimport { PickExpComponent } from '../pick-exp/pick-exp.component';\r\nimport { SetExpComponent } from '../set-exp/set-exp.component';\r\n\r\n@Component({\r\n  selector: 'app-exp',\r\n  templateUrl: './exp.component.html',\r\n  styleUrls: ['./exp.component.scss']\r\n})\r\nexport class ExpComponent implements AfterViewInit, OnDestroy {\r\n  @Input({ required: true }) values!: Experience[];\r\n  @ViewChildren(OrExpComponent) orChoices!: QueryList<OrExpComponent>;\r\n  @ViewChildren(StarExpComponent) starChoices!: QueryList<StarExpComponent>;\r\n  @ViewChildren(PickExpComponent) pickChoices!: QueryList<PickExpComponent>;\r\n  @ViewChildren(SetExpComponent) setChoices!: QueryList<PickExpComponent>;\r\n  @Output() choice = new EventEmitter<Record<'add',Experience[]> & Record<'remove', Experience[]>>();\r\n  @Output() completed = new EventEmitter<never>();\r\n\r\n  get isComplete(): boolean {\r\n    const toCheck = [\r\n      ...(this.orChoices ?? []), \r\n      ...(this.starChoices ?? []),\r\n      ...(this.pickChoices ?? []),\r\n      ...(this.setChoices ?? [])];\r\n    return toCheck.map(choice => choice.isComplete).reduce((a, b) => a && b, true);\r\n  }\r\n\r\n  get experience(): Experience[] {\r\n    return [\r\n      ...this.values.filter(exp => this.isStd(exp)), \r\n      // if we try to access these values at the wrong time then or and star might not be initialized yet\r\n      ...[\r\n        ...(this.orChoices ?? []), \r\n        ...(this.starChoices ?? []),\r\n        ...(this.pickChoices ?? []),\r\n        ...(this.setChoices ?? [])\r\n      ]\r\n        //we will filter out incomplete choices as that will ensure all remaining have a defined experience property\r\n        .flatMap(choice => choice.experience!)\r\n        .filter(exp => !!exp)\r\n    ]\r\n  }\r\n\r\n  private subscriptions: Subscription[] = [];\r\n  private orSubs: Subscription[] = [];\r\n  private starSubs: Subscription[] = [];\r\n  private pickSubs: Subscription[] = [];\r\n  private setSubs: Subscription[] = [];\r\n\r\n  constructor(private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscriptions.push(this.orChoices.changes.subscribe((choice: QueryList<OrExpComponent>) => {\r\n      [...this.orSubs].forEach(_ => {\r\n        this.orSubs.shift()?.unsubscribe();\r\n      });\r\n      choice.forEach(or => {\r\n        this.orSubs.push(or.choice.subscribe(change => {\r\n          this.sendUpdate(change);\r\n        }));\r\n      });\r\n    }));\r\n    this.subscriptions.push(this.starChoices.changes.subscribe((choice: QueryList<StarExpComponent>) => {\r\n      [...this.starSubs].forEach(_ => {\r\n        this.starSubs.shift()?.unsubscribe();\r\n      });\r\n      choice.forEach(star => {\r\n        this.starSubs.push(star.choice.subscribe(change => {\r\n          this.sendUpdate(change);\r\n        }));\r\n      });\r\n    }));\r\n    this.subscriptions.push(this.pickChoices.changes.subscribe((choice: QueryList<PickExpComponent>) => {\r\n      [...this.pickSubs].forEach(_ => {\r\n        this.pickSubs.shift()?.unsubscribe();\r\n      });\r\n      choice.forEach(pick => {\r\n        this.pickSubs.push(pick.choice.subscribe(change => {\r\n          this.sendUpdate(change);\r\n        }));\r\n      });\r\n      choice.forEach(pick => {\r\n        this.pickSubs.push(pick.completed.subscribe(() => {\r\n          if (this.isComplete) this.completed.emit();\r\n\r\n          this.ref.detectChanges();\r\n          this.ref.markForCheck();\r\n        }));\r\n      });\r\n    }));\r\n    this.subscriptions.push(this.setChoices.changes.subscribe((choice: QueryList<SetExpComponent>) => {\r\n      [...this.setSubs].forEach(_ => {\r\n        this.setSubs.shift()?.unsubscribe();\r\n      });\r\n      choice.forEach(set => {\r\n        this.setSubs.push(set.choice.subscribe(change => {\r\n          this.sendUpdate(change);\r\n        }));\r\n      });\r\n    }));\r\n  }\r\n\r\n  private sendUpdate(change: Record<'add',Experience[]> & Record<'remove', Experience[]>) {\r\n    this.choice.emit(change);\r\n    if (this.isComplete) this.completed.emit();\r\n\r\n    this.ref.detectChanges();\r\n    this.ref.markForCheck();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions, ...this.orSubs, ...this.starSubs, ...this.pickSubs, ...this.setSubs].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  isOr(exp: Experience): Stat[] | undefined {\r\n    return 'Or' in exp ? exp.Or : undefined;\r\n  }\r\n\r\n  isPick(exp: Experience): { Count: number, Options: Stat[], Quantity: number } | undefined {\r\n    return 'Pick' in exp ? { ...exp.Pick, Quantity: exp.Quantity } : undefined;\r\n  }\r\n\r\n  isSet(exp: Experience): { Options: ((Stat & Partial<Record<'Limit', number>>))[], Quantity: number } | undefined {\r\n    return 'Set' in exp ? { ...exp.Set, Quantity: exp.Quantity } : undefined;\r\n  }\r\n\r\n  isStar(exp: Experience): Stat | undefined {\r\n    if ('Or' in exp) return undefined;//TODO figure out if this case is correct\r\n    if ('Pick' in exp) return undefined;//TODO figure out if this case is correct\r\n    if ('Set' in exp) return undefined;\r\n    if ('If' in exp) return undefined;\r\n    switch(exp.Kind) {\r\n      case Statistic.Attribute:\r\n        return undefined;//TODO figure out if this case is correct or even possible\r\n      case Statistic.Skill:\r\n        if ('Subskill' in exp && (exp.Subskill === '*' || exp.Subskill instanceof RegExp)) return {...exp};\r\n        if ('Speciality' in exp && exp.Speciality === '*') return {...exp};\r\n        return undefined;\r\n      case Statistic.Trait:\r\n        switch(exp.Trait) {\r\n          case Trait.Compulsion:\r\n            if ('Trigger' in exp && exp.Trigger === '*') return {...exp};\r\n            else return undefined;\r\n          default:\r\n            return undefined;\r\n        }\r\n      default:\r\n        return undefined;\r\n    }\r\n  }\r\n\r\n  isIf(exp: Experience): { exp: Experience, isActive: boolean } | undefined{\r\n    return ('If' in exp) ? { \r\n      exp: exp, \r\n      isActive: false //TODO implement this\r\n    } : undefined;\r\n  }\r\n\r\n  isStd(exp: Experience): boolean {\r\n    return !(this.isOr(exp) || this.isStar(exp) || this.isPick(exp) || this.isSet(exp) || this.isIf(exp));\r\n  }\r\n}\r\n","<ul>\r\n    <ng-container *ngFor=\"let exp of values\">\r\n        <li *ngIf=\"isOr(exp); let or\" [class.incomplete]=\"!orChoices.isComplete\">\r\n            <app-or-exp #orChoices\r\n                [options]=\"or ?? []\"\r\n                [quantity]=\"exp.Quantity\"/>\r\n        </li>\r\n        <li *ngIf=\"isStar(exp)\" [class.incomplete]=\"!starChoices.isComplete\">\r\n            <app-star-exp #starChoices\r\n                [exp]=\"exp\"/>\r\n        </li>\r\n        <ng-container *ngIf=\"isPick(exp); let pick\">\r\n            <app-pick-exp #pickChoices\r\n                [count]=\"pick!.Count\"\r\n                [options]=\"pick!.Options\"\r\n                [quantity]=\"pick!.Quantity\"\r\n                 />\r\n        </ng-container>\r\n        <ng-container *ngIf=\"isSet(exp); let set\">\r\n            <app-set-exp #setChoices\r\n                [limit]=\"set.Quantity\"\r\n                [options]=\"set.Options\"\r\n                [enlist]=\"true\" />\r\n        </ng-container>\r\n        <li *ngIf=\"isStd(exp)\">\r\n            {{ exp | exp }}\r\n        </li>\r\n    </ng-container>\r\n</ul>","import { ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, Output, ViewChild } from '@angular/core';\r\nimport { Experience, Stat } from '../common';\r\nimport { StatPipe } from '../stat.pipe';\r\n\r\n@Component({\r\n  selector: 'app-or-exp',\r\n  templateUrl: './or-exp.component.html',\r\n  styleUrls: ['./or-exp.component.scss']\r\n})\r\nexport class OrExpComponent  {\r\n  @Input({ required: true }) options!: Stat[];\r\n  @Input({ required: true }) quantity!: number;\r\n  @Input() showQuantity: boolean = true;\r\n  @Input() showLabel: boolean = true;\r\n  @Input() assignedIndex?: number;\r\n  @Input() disabledOptionIndexes: number[] = [];\r\n  \r\n  @ViewChild('or') or!: ElementRef<HTMLSelectElement>\r\n  \r\n  @Output() choice = new EventEmitter<Record<'add',Experience[]> & Record<'remove', Experience[]>>();\r\n\r\n  get selectedIndex(): number {\r\n    return this._currentIndex;\r\n  }\r\n\r\n  get selectedValue(): Stat | undefined {\r\n    return this._currentValue;\r\n  }\r\n\r\n  get disabledIndexes(): boolean[] {\r\n    return Array.from({length: this.options.length}, (_, i) => i).map(i => this.disabledOptionIndexes.includes(i));\r\n  }\r\n\r\n  readonly labelArgs: {\r\n    value: string,\r\n    index: number\r\n  } = {\r\n    value: '/',\r\n    index: 1\r\n  };\r\n\r\n  private _currentIndex = 0;\r\n  private _currentValue: Stat | undefined = undefined;\r\n\r\n  statPipe: StatPipe;\r\n  constructor(private ref: ChangeDetectorRef) {\r\n    this.statPipe = new StatPipe();\r\n  }\r\n\r\n  get experience(): Experience | undefined {\r\n    return this.selectedIndex === 0 ? undefined : { ...this.options[this.selectedIndex-1], Quantity: this.quantity}\r\n  }\r\n\r\n  get isComplete(): boolean {\r\n    return !!this.experience;\r\n  }\r\n\r\n  set selectedIndex(value: number) {\r\n    this._currentIndex = value;\r\n    this.ref.detectChanges();\r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  set selectedValue(value: Stat) {\r\n    this._currentValue = value;\r\n    this.ref.detectChanges();\r\n    this.ref.markForCheck();  \r\n  }\r\n\r\n  private lastIndex = 0;\r\n  onOrChanged(e: Event) {\r\n    const src: HTMLSelectElement = e.target as HTMLSelectElement;\r\n    this.ref.markForCheck(); \r\n    this.selectedIndex = src.selectedIndex;\r\n    this.selectedValue = this.options[this.selectedIndex-1];\r\n    this.choice.emit({\r\n      add: this.experience ? [this.experience] : [],\r\n      remove: this.lastIndex === 0 ? [] : [{ ...this.options[this.lastIndex-1], Quantity: -this.quantity}]\r\n    });\r\n\r\n    this.lastIndex = this.selectedIndex;\r\n    \r\n    const transform = this.statPipe.transform(this.selectedValue!, this.showLabel ? undefined : this.labelArgs);\r\n    this.or.nativeElement.value = transform;\r\n    src.value = transform;\r\n\r\n    this.ref.detectChanges();\r\n  }\r\n}\r\n","<span>\r\n    <select title=\"or\" #or (change)=\"onOrChanged($event)\" [required]=\"true\" [selectedIndex]=\"selectedIndex\"\r\n        [value]=\"selectedValue\">\r\n        <option hidden selected [value]=\"undefined\" class=\"incomplete\">\r\n            <!-- I have no idea whats going on here,\r\n             but sometimes the option that is selected is this one,\r\n             and not the actual selected item? -->\r\n            {{selectedValue ? (showLabel ? (options[selectedIndex - 1] | stat) : (options[selectedIndex - 1] | stat :\r\n            labelArgs )) : ' -- select an option -- '}}\r\n        </option>\r\n        <option *ngFor=\"let stat of options\" [ngValue]=\"stat\"\r\n            [value]=\"showLabel ? (stat | stat) : (stat | stat : labelArgs )\"\r\n            [disabled]=\"disabledIndexes[options.indexOf(stat)]\">\r\n            {{ showLabel ? (stat | stat) : (stat | stat : labelArgs ) }}\r\n        </option>\r\n    </select><ng-container *ngIf=\"showQuantity\"><span> {{quantity > 0 ? '+' : ''}}{{quantity}} EXP</span></ng-container>\r\n</span>","import { AfterViewInit, ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, OnInit, Output, QueryList, ViewChildren } from '@angular/core';\r\nimport { Attribute, Acrobatics, AnimalHandling, Communications, Driving, EnumMap, Experience, Gunnery, MedTech, Navigation, Piloting, Prestidigitation, SecuritySystem, Skill, Stat, Statistic, Surgery, Tactics, Technician, ThrownWeapons, Tracking, Trait } from '../common';\r\nimport { StatPipe } from '../stat.pipe';\r\nimport { Subscription } from 'rxjs';\r\nimport { StarExpComponent } from '../star-exp/star-exp.component';\r\nimport { OrExpComponent } from '../or-exp/or-exp.component';\r\n\r\n@Component({\r\n  selector: 'app-pick-exp',\r\n  templateUrl: './pick-exp.component.html',\r\n  styleUrls: ['./pick-exp.component.scss']\r\n})\r\nexport class PickExpComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  @Input({ required: true }) count!: Exclude<number, 0>;\r\n  @Input({ required: true }) options!: Stat[];\r\n  @Input({ required: true }) quantity!: number;\r\n  @Input() enlist: boolean = true;\r\n  @Input() showQuantity: boolean = true;\r\n  @Input() disabledOptionIndexes: number[] = [];\r\n\r\n  @Output() choice = new EventEmitter<Record<'add',Experience[]> & Record<'remove', Experience[]>>();\r\n  @Output() completed = new EventEmitter<never>();\r\n\r\n  @ViewChildren(StarExpComponent) starChoices!: QueryList<StarExpComponent>;\r\n  @ViewChildren(OrExpComponent) orChoices!: QueryList<OrExpComponent>;\r\n\r\n  readonly labelArgs: {\r\n    value: string,\r\n    index: number\r\n  } = {\r\n    value: '/',\r\n    index: 0\r\n  };\r\n\r\n  get isComplete(): boolean {\r\n    const subIndexes = [...(this.starChoices ?? []), ...(this.orChoices ?? [])].map<number>(component => component.assignedIndex!);\r\n    return this.indexes\r\n      .filter(index => !subIndexes.includes(index))\r\n      .reduce((sofar, index) => sofar && !!this.pickedOption[index] && !this.needsExtra(this.pickedOption[index]), true)\r\n      && [...(this.starChoices ?? []), ...(this.orChoices ?? [])].reduce((sofar, component) => sofar && component.isComplete, true);\r\n  }\r\n\r\n  get experience(): Experience[] {\r\n    const orIndex = this.indexes.filter(i => (this.orChoices ?? []).map(or => or.assignedIndex).includes(i));\r\n    const starIndex= this.indexes.filter(i => (this.starChoices ?? []).map(star => star.assignedIndex).includes(i));\r\n    const otherIndex = this.indexes.filter(i => !orIndex.includes(i) && !starIndex.includes(i));\r\n\r\n    return [\r\n      ...((this.orChoices ?? []).filter(or => orIndex.includes(or.assignedIndex ?? -1)).map<Experience[]>(or => or.experience ? [or.experience] : [])),\r\n      ...((this.starChoices ?? []).filter(star => starIndex.includes(star.assignedIndex ?? -1)).map<Experience[]>(star => star.experience ? [star.experience] : [])),\r\n      ...((otherIndex.map<Experience[]>(index => this.pickedOption[index] ? [this.asExp(this.pickedOption[index]!)] : [])))\r\n    ].flatMap(exp => exp).filter(exp => !this.needsExtra(exp));\r\n  }\r\n\r\n  get indexes(): number[] {\r\n    return [...Array(this.count).keys()]\r\n  }\r\n\r\n  _cachedSubOptions:{ [any: number]: Stat[] } = {};\r\n  get cachedSubOptions(): { [any: number]: Stat[] } {\r\n    return this._cachedSubOptions;\r\n  }\r\n  \r\n  pickedOption: { [any: number]: Stat | undefined } = {};\r\n  disabledIndexes: { [any: number]: number[] } = {};\r\n  maxPickedCounts: { [any: string]: number } = {};\r\n\r\n  private subscriptions: Subscription[] = [];\r\n  private starSubs: Subscription[] = [];\r\n  private orSubs: Subscription[] = [];\r\n\r\n  private statPipe: StatPipe;\r\n  private _precalcualted: { [any:string]: Stat[] };\r\n\r\n  constructor(private ref: ChangeDetectorRef) {\r\n    this.statPipe = new StatPipe();\r\n    this._precalcualted = {};\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    [...this.subscriptions, ...this.orSubs, ...this.starSubs].forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscriptions.push(this.orChoices.changes.subscribe((choice: QueryList<OrExpComponent>) => {\r\n      [...this.orSubs].forEach(_ => {\r\n        this.orSubs.shift()?.unsubscribe();\r\n      });\r\n      choice.forEach(or => {\r\n        this.orSubs.push(or.choice.subscribe(change => {\r\n          this.sendUpdate(change);\r\n        }));\r\n      });\r\n    }));\r\n    this.subscriptions.push(this.starChoices.changes.subscribe((choice: QueryList<StarExpComponent>) => {\r\n      [...this.starSubs].forEach(_ => {\r\n        this.starSubs.shift()?.unsubscribe();\r\n      });\r\n      choice.forEach(star => {\r\n        this.starSubs.push(star.choice.subscribe(change => {\r\n          this.sendUpdate(change);\r\n        }));\r\n      });\r\n    }));\r\n\r\n    this.ref.detectChanges();\r\n    this.ref.markForCheck();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.options.map(opt => JSON.stringify(opt)).forEach(opt => {\r\n      this.maxPickedCounts[opt] = opt in this.maxPickedCounts ? this.maxPickedCounts[opt] + 1 : 1;\r\n    });\r\n    this.indexes.forEach(i => {\r\n      this.pickedOption[i] = undefined;\r\n      this.disabledIndexes[i] = [...this.disabledOptionIndexes];\r\n    });\r\n\r\n    this.ref.detectChanges();\r\n    this.ref.markForCheck();\r\n  }\r\n\r\n  private sendUpdate(change: Record<'add',Experience[]> & Record<'remove', Experience[]>) {\r\n    this.ref.detectChanges();\r\n\r\n    const noneNeedExtra = change.add.length > 0 && !change.add.map((exp) => this.needsExtra(exp as Stat)).reduce((sofar, current) => sofar || current, false);\r\n    if(noneNeedExtra) {\r\n      this.choice.emit(change);\r\n    }\r\n    if (this.isComplete) this.completed.emit();\r\n\r\n    this.indexes.forEach(index => {\r\n      this.pickedOption[index] = this.pickedOption[index];\r\n    })\r\n\r\n    this.ref.markForCheck();\r\n  }\r\n\r\n  needsExtra(stat: Stat | Experience| undefined): boolean {\r\n    if (stat === undefined) return false;\r\n    if ('Quantity' in stat) {\r\n      if('Or' in stat || 'Pick' in stat || 'Set' in stat || 'If' in stat) {\r\n        return false;\r\n      }\r\n      const asStat: Stat & Partial<Experience> = { ...stat };\r\n      delete asStat.Quantity;\r\n      return this.needsExtra(asStat);\r\n    }\r\n    const transformed = this.statPipe.transform(stat);\r\n    if (transformed.slice(-1) === '/' || transformed.slice(-2) === '/*') {\r\n      switch (stat.Kind) {\r\n        case Statistic.Trait:\r\n          switch (stat.Trait) {\r\n            case Trait.Compulsion:\r\n              return 'Trigger' in stat ? stat.Trigger.length === 0 : true\r\n            case Trait.ExceptionalAttribute:\r\n              return !('Attribute' in stat);\r\n            case Trait.NaturalAptitude:\r\n              return !('Skill' in stat);\r\n            default:\r\n              return false;\r\n          }\r\n        case Statistic.Skill:\r\n          const expectSpeciality = stat.Speciality && stat.Speciality.length === 0;\r\n          switch (stat.Skill) {\r\n            case Skill.Acrobatics:\r\n            case Skill.AnimalHandling:\r\n            case Skill.Communications:\r\n            case Skill.Driving:\r\n            case Skill.Gunnery:\r\n            case Skill.MedTech:\r\n            case Skill.Navigation:\r\n            case Skill.Piloting:\r\n            case Skill.Prestidigitation:\r\n            case Skill.SecuritySystem:\r\n            case Skill.Surgery:\r\n            case Skill.Tactics:\r\n            case Skill.Technician:\r\n            case Skill.ThrownWeapons:\r\n            case Skill.Tracking:\r\n              return !('Subskill' in stat) && !expectSpeciality;\r\n            // Skills which usually have * for subskill\r\n            case Skill.Language:\r\n            case Skill.Career:\r\n            case Skill.Protocol:\r\n            case Skill.Streetwise:\r\n            case Skill.Survival:\r\n            case Skill.Art:\r\n            case Skill.Interest:\r\n              if('Subskill' in stat && stat.Subskill instanceof RegExp) return true;\r\n              return !('Subskill' in stat \r\n                      && typeof stat.Subskill === 'string' \r\n                      && stat.Subskill.length > 0 \r\n                      && stat.Subskill !== '*') \r\n                    && !expectSpeciality;\r\n            default:\r\n              return false;\r\n          }\r\n        default:\r\n          return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  extraType(stat: Stat | undefined): 'dropdown' | 'text' | 'none' {\r\n    if (!stat) return 'none';\r\n    switch (stat.Kind) {\r\n      case Statistic.Trait:\r\n        switch (stat.Trait) {\r\n          case Trait.Compulsion:\r\n            return 'text';\r\n          case Trait.ExceptionalAttribute:\r\n          case Trait.NaturalAptitude:\r\n            return 'dropdown';\r\n          default:\r\n            return 'none';\r\n        }\r\n      case Statistic.Skill:\r\n        switch (stat.Skill) {\r\n          case Skill.Acrobatics:\r\n          case Skill.AnimalHandling:\r\n          case Skill.Communications:\r\n          case Skill.Driving:\r\n          case Skill.Gunnery:\r\n          case Skill.MedTech:\r\n          case Skill.Navigation:\r\n          case Skill.Piloting:\r\n          case Skill.Prestidigitation:\r\n          case Skill.SecuritySystem:\r\n          case Skill.Surgery:\r\n          case Skill.Tactics:\r\n          case Skill.Technician:\r\n          case Skill.ThrownWeapons:\r\n          case Skill.Tracking:\r\n            return 'dropdown';\r\n          // Skills which usually have * for subskill\r\n          case Skill.Language:\r\n          case Skill.Career:\r\n          case Skill.Protocol:\r\n          case Skill.Streetwise:\r\n          case Skill.Survival:\r\n          case Skill.Art:\r\n          case Skill.Interest:\r\n          case Skill.Science:\r\n            return 'text';\r\n          default:\r\n            return 'none';\r\n        }\r\n      default:\r\n        return 'none';\r\n    }\r\n  }\r\n\r\n  asExp(stat: Stat): Experience {\r\n    const ret = { ...stat, Quantity: this.quantity };\r\n    return ret;\r\n  }\r\n\r\n  \r\n  asOpts(stat:Stat | undefined): Stat[] {\r\n    if(!stat) return [];\r\n    const json = JSON.stringify(stat)\r\n    if(json in this._precalcualted) return this._precalcualted[json];\r\n    switch (stat.Kind) {\r\n      case Statistic.Trait:\r\n        switch (stat.Trait) {\r\n          case Trait.ExceptionalAttribute:\r\n            this._precalcualted[json] = EnumMap(Attribute).map(att => { return { ...stat, Attribute: att }});\r\n            break;\r\n          case Trait.NaturalAptitude:\r\n            this._precalcualted[json] = EnumMap(Skill).map<Stat & { Kind: Statistic.Trait, Trait: Trait.NaturalAptitude, Skill: Skill }>((skill : Skill) => { return { Kind: Statistic.Trait, Trait: Trait.NaturalAptitude, Skill: skill }});\r\n            break;\r\n          default:\r\n            return [];\r\n        }\r\n        break;\r\n      case Statistic.Skill:\r\n        switch (stat.Skill) {\r\n          case Skill.Acrobatics:\r\n            return EnumMap(Acrobatics).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.AnimalHandling:\r\n            return EnumMap(AnimalHandling).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Communications:\r\n            return EnumMap(Communications).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Driving:\r\n            return EnumMap(Driving).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Gunnery:\r\n            return EnumMap(Gunnery).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.MedTech:\r\n            return EnumMap(MedTech).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Navigation:\r\n            return EnumMap(Navigation).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Piloting:\r\n            return EnumMap(Piloting).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Prestidigitation:\r\n            return EnumMap(Prestidigitation).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.SecuritySystem:\r\n            return EnumMap(SecuritySystem).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Surgery:\r\n            return EnumMap(Surgery).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Tactics:\r\n            return EnumMap(Tactics).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Technician:\r\n            return EnumMap(Technician).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.ThrownWeapons:\r\n            return EnumMap(ThrownWeapons).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          case Skill.Tracking:\r\n            return EnumMap(Tracking).map(subskill => { return { ...stat, Subskill: subskill}});\r\n          default:\r\n            return [];\r\n        }\r\n      default:\r\n        return [];\r\n    }\r\n    return this._precalcualted[json];\r\n  }\r\n\r\n  onPickerChoice(e: Record<'add',Experience[]> & Record<'remove', Experience[]>, index: number) {\r\n    const added = [...e.add].map<Stat>(item => { return <Stat>{...item}});\r\n    const removed = [...e.remove].map<Stat>(item => { return <Stat>{...item}});\r\n    [...added, ...removed].forEach(item => {\r\n      if('Quantity' in item) delete item.Quantity;\r\n    });\r\n\r\n    this.pickedOption[index] = added[0];\r\n\r\n    if(this.needsExtra(this.pickedOption[index])) {\r\n      this.ref.markForCheck();\r\n      this.cachedSubOptions[index] = this.asOpts(this.pickedOption[index]);\r\n      this.ref.detectChanges();\r\n    }\r\n\r\n    this.pickedOption[index] = added[0];\r\n\r\n    const nonspecial: {\r\n      json: string,\r\n      delta: number\r\n    }[] = [];\r\n    const special: {\r\n      json: string,\r\n      delta: number\r\n    }[] = [];\r\n\r\n    const cal = (values: Stat[], delta: number): {\r\n      json: string,\r\n      delta: number\r\n    }[] => {\r\n      return values.map(value => { return {\r\n        json: JSON.stringify(value),\r\n        delta: delta\r\n      }})\r\n    };\r\n    [...cal(added, -1), ...cal(removed, 1)].forEach(item => {\r\n      switch(item.delta) {\r\n        case 1:\r\n          if(item.json in this.maxPickedCounts) {\r\n            if(this.maxPickedCounts[item.json] > 0) {\r\n              nonspecial.push(item);\r\n            } else {\r\n              special.push(item);\r\n            }\r\n          } else {\r\n            //Maybe its json for some reason?\r\n            const json = JSON.parse(item.json);\r\n            console.log('que');\r\n          }\r\n          break;\r\n        case -1:\r\n          if(item.json in this.maxPickedCounts) {\r\n            if(this.maxPickedCounts[item.json] > 1) {\r\n              nonspecial.push(item);\r\n            } else {\r\n              special.push(item);\r\n            }\r\n          } else {\r\n            console.log('wat');\r\n          }\r\n          break;\r\n        default:\r\n          throw new Error('This should not happen!');\r\n      };\r\n    });\r\n    [...nonspecial, ...special].forEach(item => this.maxPickedCounts[item.json] += item.delta);\r\n    if(special.length > 0) {\r\n      this.indexes.forEach(index => {\r\n        const choice = JSON.stringify(this.pickedOption[index]);\r\n        const filter = (key: string) => {\r\n          if(key === choice) {\r\n            return true\r\n          }\r\n          return this.maxPickedCounts[key] > 0;\r\n        }\r\n        const options = [...new Set([...Object.keys(this.maxPickedCounts)])].map(json => !filter(json))\r\n        const disabledIndexes = Array.from({length: options.length}, (_, i) => i).filter(i => options[i]);\r\n        this.disabledIndexes[index] = [...new Set([...this.disabledOptionIndexes, ...disabledIndexes])]\r\n      });\r\n    }\r\n\r\n    this.sendUpdate({\r\n      add: e.add.map(x => { return { ...x }}),\r\n      remove: e.remove.map(x => { return { ...x }}),\r\n    });\r\n  }\r\n\r\n  isIndexComplete(index: number): boolean {\r\n    const subIndexes = [...(this.starChoices ?? []), ...(this.orChoices ?? [])].filter(component => component.assignedIndex === index);\r\n    if(subIndexes.length === 0) {\r\n      return (!!this.pickedOption[index]) && (!this.needsExtra(this.pickedOption[index]));\r\n    }\r\n    return (!!this.pickedOption[index]) \r\n        && ((subIndexes.length > 0)\r\n          ? (subIndexes.reduce((sofar, current) => sofar && current.isComplete, true)) \r\n          : (true));\r\n  }\r\n}\r\n","<ng-template #body let-i>\r\n    <app-or-exp #pickerChoices\r\n        (choice)=\"onPickerChoice($event, i)\"\r\n        [options]=\"options\"\r\n        [quantity]=\"quantity\"\r\n        [showLabel]=\"true\"\r\n        [showQuantity]=\"false\"\r\n        [disabledOptionIndexes]=\"disabledIndexes[i]\"/>\r\n    <span>\r\n        <ng-container *ngIf=\"extraType(pickedOption[i]) === 'text'\">\r\n            <app-star-exp #starChoices\r\n                [assignedIndex]=\"i\"\r\n                [showLabel]=\"false\"\r\n                [showQuantity]=\"false\"\r\n                [exp]=\"asExp(pickedOption[i]!)\" />\r\n        </ng-container>\r\n        <ng-container *ngIf=\"extraType(pickedOption[i]) === 'dropdown'\">\r\n            <app-or-exp #orChoices\r\n                [assignedIndex]=\"i\"\r\n                [options]=\"cachedSubOptions[i]\"\r\n                [quantity]=\"quantity\"\r\n                [showLabel]=\"false\"\r\n                [showQuantity]=\"false\" />\r\n        </ng-container>\r\n    </span>\r\n    <ng-container *ngIf=\"showQuantity\">\r\n        {{quantity > 0 ? '+' : ''}}{{quantity}} EXP\r\n    </ng-container>\r\n</ng-template>\r\n\r\n<ng-template #listloop>\r\n    <ng-container *ngFor=\"let i of indexes\">\r\n        <li [class.incomplete]=\"!isIndexComplete(i)\">\r\n            <ng-container *ngTemplateOutlet=\"body; context: {$implicit: i}\" />\r\n        </li>\r\n    </ng-container>\r\n</ng-template>\r\n\r\n<ng-container *ngIf=\"!enlist; else listloop\">\r\n    <ng-container *ngFor=\"let i of indexes\">\r\n        <ng-container *ngTemplateOutlet=\"body; context: {$implicit: i}\" [class.incomplete]=\"!isIndexComplete(i)\" />\r\n    </ng-container>\r\n</ng-container>\r\n\r\n\r\n\r\n","import { Injectable } from '@angular/core';\nimport { Range } from 'src/app/utils/common';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RngService {\n\n  constructor() { }\n\n Roll(): Range<1, 7> {\n  return Math.round(Math.random() * 5 + 1) as Range<1, 7>;\n } \n}","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\nimport { Experience, Stat, Statistic, clamp } from '../common';\nimport { PickExpComponent } from '../pick-exp/pick-exp.component';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-set-exp',\n  templateUrl: './set-exp.component.html',\n  styleUrls: ['./set-exp.component.scss']\n})\nexport class SetExpComponent implements OnInit, OnDestroy, AfterViewInit {\n  @Input({ required: true}) limit!: Exclude<number, 0>;\n  @Input({ required: true}) options!: (Stat & { Limit?: number })[];\n  @Input() enlist: boolean = true;\n  @Input() disabledOptionIndexes: number[] = [];\n\n  @ViewChild('picker') picker!: PickExpComponent;\n  @ViewChild('speciality') speciality!: ElementRef<HTMLInputElement>;\n  @ViewChild('counter') counter!: ElementRef<HTMLInputElement>;\n  @ViewChild('recSetExp') recSetExp?: SetExpComponent;\n\n  @Output() choice = new EventEmitter<Record<'add',Experience[]> & Record<'remove', Experience[]>>();\n\n  private _propertLimit?: number;\n  get properLimit(): number {\n    return this._propertLimit ?? this.limit;\n  }\n\n  get nextDisabledOptions(): number[] {\n    const pickers = (this.picker.pickedOption[0] ? [this.picker.options.map(opt => JSON.stringify(opt)).indexOf(JSON.stringify(this.picker.pickedOption[0]))] : []).filter(i => i >= 0);\n    return [...new Set([...this.disabledOptionIndexes, ...pickers])];\n  }\n\n  set properLimit(value: number) {\n    this._propertLimit = Math.sign(this.limit) > 0 ? Math.min(this.limit, value) : Math.max(this.limit, value);\n  }\n\n  _quantity: number = 0;\n  get quantity(): number {\n    return this._quantity;\n  }\n\n  set quantity(value: number) {\n    this._quantity = clamp(value, this.min, this.max);\n    this.ref.detectChanges();\n    this.ref.markForCheck();\n\n    if(this.recSetExp) {\n      this.recsub?.unsubscribe();\n      this.recsub = undefined;\n      this.recsub = this.recSetExp.choice.subscribe(values => {\n        this.choice.emit(values);\n      });\n    }\n  }\n\n  get min(): number {\n    return Math.min(this.properLimit, Math.sign(this.properLimit));\n  }\n\n  get max(): number {\n    return Math.max(this.properLimit, Math.sign(this.properLimit));\n  }\n\n  get remaining(): number {\n    const current = this.limit - this.quantity;\n\n    return Math.sign(this.limit) > 0 ? clamp(current, 0, Math.max(this.limit, Math.sign(this.limit))) : clamp(current, Math.min(this.limit, Math.sign(this.limit)), 0);\n  }\n\n  get unspent(): number {\n    return this.remaining + (this.recSetExp?.unspent ?? 0);\n  }\n\n  get total(): number {\n    return this.quantity + (this.recSetExp?.total ?? 0);\n  }\n\n  get subtotal(): number {\n    return !!this.recSetExp ? this.total - this.quantity : 0;\n  }\n\n  get selfComplete(): boolean {\n    const validQuantity = this.quantity >= this.min && this.max >= this.quantity;\n    const pickerComplete = (this.picker?.isComplete ?? false);\n    return validQuantity && pickerComplete\n  }\n\n  get isComplete(): boolean {\n    const recursiveComplete = ((!!this.recSetExp) ? (this.recSetExp?.isComplete!) : (this.remaining === 0));\n    return this.selfComplete && recursiveComplete;\n  }\n\n  get experience(): Experience[] {\n    return [...this.picker.experience.map(exp => {\n      const skill = this.isSkill(exp);\n      const speciality = this.speciality?.nativeElement.value\n      if(skill && speciality !== undefined) return this.handleSpeciality(skill, speciality);\n      else return exp;\n    }), ...(this.recSetExp?.experience ?? [])];\n  }\n\n  private subscriptions: Subscription[] = [];\n  private recsub: Subscription | undefined;\n  constructor(private ref: ChangeDetectorRef) {\n\n  }\n\n  ngOnInit(): void {\n    this.quantity = Math.sign(this.properLimit) > 0 ? this.max : this.min;\n  }\n\n  ngAfterViewInit(): void {\n    this.subscriptions.push(\n      this.picker.choice.subscribe(changes => {\n        const value = this.hasLimit(changes.add[0]);\n        if(value) {\n          this.properLimit = value.Limit;\n          this.quantityChanged();\n        }\n        this.onChange();\n      }),\n      this.picker.completed.subscribe(() => {\n        this.onChange();\n      })\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n    this.recsub?.unsubscribe();\n  }\n\n  quantityChanged(_?:Event){\n    if(isNaN(this.counter.nativeElement.valueAsNumber)) {\n      this.ref.markForCheck();\n      this.counter.nativeElement.valueAsNumber = this.quantity;\n      this.ref.detectChanges();\n      return;\n    }\n    this.ref.markForCheck();\n    const clamped = clamp(this.counter.nativeElement.valueAsNumber, this.min, this.max);\n    this.counter.nativeElement.valueAsNumber = clamped;\n    this.quantity = clamped;\n\n  \n    if(this.total !== this.limit) {\n      const diff = this.limit - this.total;\n      if(this.recSetExp) {\n        this.recSetExp.quantity += diff\n      } else {\n        this.quantity += diff;\n      }\n    }\n    this.ref.detectChanges();\n\n    this.onChange();\n  }\n\n  private previous: Experience[] = [];\n  onChange() {\n    if(this.isComplete) this.choice.emit({\n      add: this.experience,\n      remove: this.previous\n    });\n\n    this.previous = this.experience.map(exp => { return { ...exp, Quantity: -exp.Quantity }})\n    this.ref.detectChanges();\n    this.ref.markForCheck();\n  }\n\n  isSkill(exp: Experience): (Experience & { Kind: Statistic.Skill }) | undefined {\n    if('Kind' in exp && exp.Kind === Statistic.Skill) return exp;\n    return undefined;\n  }\n\n  hasLimit(stat: Experience & { Limit?: number }): (Experience & Record<'Limit', number>) | undefined {\n    return stat.Limit !== undefined ? { ...stat, Limit: stat.Limit } : undefined\n  }\n\n  handleSpeciality(skill: (Experience & { Kind: Statistic.Skill }), speciality:string ): (Experience & { Kind: Statistic.Skill }) {\n    if('Speciality' in skill) {\n      if(speciality.length > 0) {\n        skill.Speciality = speciality;\n      } else {\n        delete skill.Speciality;\n      }\n    } else {\n      if(speciality.length > 0) {\n        Object.assign(skill, { Speciality:speciality });\n      } else {\n        //If the Speciality property is missing and we dont have an input value just return as there is nothing to do.\n      }\n    }\n    return skill;\n  }\n\n  specialityBlur(_:Event) {\n    const speciality = this.speciality.nativeElement.value;\n    const skill = this.isSkill(this.experience[0])!;\n\n    this.handleSpeciality(skill, speciality);\n\n    this.onChange();\n  }\n}\n","<ng-template #body>\r\n    <div [class.incomplete]=\"!selfComplete\">\r\n        <app-pick-exp #picker class=\"picker\"\r\n            [count]=\"1\"\r\n            [options]=\"options\"\r\n            [quantity]=\"quantity\"\r\n            [showQuantity]=\"false\"\r\n            [enlist]=\"false\"\r\n            [disabledOptionIndexes]=\"disabledOptionIndexes\"/>\r\n        <input \r\n            type=\"text\" title=\"spec\" id=\"spec\" name=\"spec\" placeholder=\"add speciality?\" class=\"speciality\"\r\n            (blur)=\"specialityBlur($event)\"\r\n            disabled\r\n            #speciality\r\n            *ngIf=\"picker.experience.length !== 0 && isSkill(picker.experience[0])\" />\r\n        <input type=\"number\" title=\"quantity\" id=\"quantity\" name=\"quantity\" placeholder=\"0\" class=\"counter\" #counter\r\n            [maxLength]=\"4\" [valueAsNumber]=\"quantity\" [min]=\"min\" \r\n            [max]=\"(picker.experience.length !== 0 && hasLimit(picker.experience[0])) ? (hasLimit(picker.experience[0])?.Limit ?? max) : max\" \r\n            (change)=\"quantityChanged($event)\"/> EXP\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template #rec>\r\n    <app-set-exp #recSetExp *ngIf=\"remaining !== 0\"\r\n        [limit]=\"remaining\"\r\n        [options]=\"options\"\r\n        [enlist]=\"enlist\"\r\n        [disabledOptionIndexes]=\"nextDisabledOptions\" />\r\n</ng-template>\r\n\r\n<ng-template #nonlist>\r\n    <ng-container *ngIf=\"quantity!==0\">\r\n        <ng-container *ngTemplateOutlet=\"body\" />\r\n        <ng-container *ngTemplateOutlet=\"rec\" />\r\n    </ng-container>\r\n</ng-template>\r\n\r\n<ng-container *ngIf=\"enlist; else nonlist\">\r\n    <ng-container *ngIf=\"quantity!==0\">\r\n        <li>\r\n            <ng-container *ngTemplateOutlet=\"body\" />\r\n        </li>\r\n        <li *ngIf=\"remaining !== 0\">\r\n            <ng-container *ngTemplateOutlet=\"rec\" />\r\n        </li>\r\n    </ng-container>\r\n</ng-container>","import { ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, Output, ViewChild } from '@angular/core';\r\nimport { Experience, Skill, Stat, Statistic, Trait } from '../common';\r\n\r\n@Component({\r\n  selector: 'app-star-exp',\r\n  templateUrl: './star-exp.component.html',\r\n  styleUrls: ['./star-exp.component.scss']\r\n})\r\nexport class StarExpComponent {\r\n  @Input({ required: true }) exp!: Experience;\r\n  @Input() showLabel: boolean = true;\r\n  @Input() showQuantity: boolean = true;\r\n  @Input() assignedIndex?: number;\r\n\r\n  @ViewChild('compulsionTrigger') compulsionTrigger!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('subskill') subskill!: ElementRef<HTMLInputElement>\r\n  @Output() choice = new EventEmitter<Record<'add',Experience[]> & Record<'remove', Experience[]>>();\r\n\r\n  get isComplete(): boolean {\r\n    if(!this.experience) return false;\r\n    if ('Or' in this.experience || 'Pick' in this.experience || 'Set' in this.experience || 'If' in this.experience) return false;\r\n    if (this.experience.Kind === Statistic.Trait && this.experience.Trait === Trait.Compulsion && ('Trigger' in this.experience)) \r\n      return  this.experience.Trigger.length > 0;\r\n    else if (this.experience.Kind === Statistic.Skill && ('Subskill' in this.experience) && typeof this.experience.Subskill === 'string') {\r\n      return this.experience.Subskill.length > 0 && this.experience.Subskill !== '*';\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  get value(): string {\r\n    if(this.trigger) return this.compulsionTrigger.nativeElement.value;\r\n    if(this.skill) return this.subskill.nativeElement.value;\r\n    return '';\r\n  }\r\n\r\n  set value(newVal: string) {\r\n    if(this.trigger) this.compulsionTrigger.nativeElement.value = newVal;\r\n    if(this.skill) this.subskill.nativeElement.value = newVal;\r\n  }\r\n\r\n  get trigger(): boolean {\r\n    if ('Or' in this.exp || 'Pick' in this.exp || 'Set' in this.exp || 'If' in this.exp) return false;\r\n    switch(this.exp.Kind) {\r\n      case Statistic.Trait:\r\n        switch(this.exp.Trait) {\r\n          case Trait.Compulsion:\r\n            return true;\r\n          default:\r\n            return false;\r\n        }\r\n      default:\r\n        return false;\r\n    }\r\n  }\r\n\r\n  get skill(): (Stat & { Kind: Statistic.Skill }) | undefined {\r\n    if ('Or' in this.exp || 'Pick' in this.exp || 'Set' in this.exp || 'If' in this.exp) return undefined;\r\n    if (this.exp.Kind !== Statistic.Skill) return undefined;\r\n    return {...this.exp};\r\n  }\r\n\r\n  get quantity(): string {\r\n    return this.exp.Quantity > 0 ? `+${this.exp.Quantity}` : `${this.exp.Quantity}`;\r\n  }\r\n\r\n  get skillName(): string {\r\n    if ('Or' in this.exp || 'Pick' in this.exp || 'Set' in this.exp || 'If' in this.exp) return '';\r\n    if (this.exp.Kind !== Statistic.Skill) return '';\r\n    return Object.values(Skill)[this.exp.Skill.valueOf()].toString().replace(/([A-Z]+)/g, ' $1').replace(/([A-Z])([A-Z])/g, '$1-$2').trim();\r\n  }\r\n\r\n  constructor(private ref: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  compulsionBlur(e: Event) {\r\n    if ('Or' in this.exp || 'Pick' in this.exp || 'Set' in this.exp || 'If' in this.exp) return;\r\n    if (this.exp.Kind !== Statistic.Trait) return;\r\n\r\n    this.onBlur({\r\n      Kind: Statistic.Trait,\r\n      Trait: Trait.Compulsion,\r\n      Trigger: this.compulsionTrigger.nativeElement.value,\r\n      Quantity: this.exp.Quantity\r\n    });\r\n  }\r\n\r\n  subskillBlur(e: Event) {\r\n    if ('Or' in this.exp || 'Pick' in this.exp || 'Set' in this.exp || 'If' in this.exp) return;\r\n    if (this.exp.Kind !== Statistic.Skill) return;\r\n\r\n    this.onBlur({\r\n      Kind: Statistic.Skill,\r\n      Skill: this.exp.Skill,\r\n      Subskill: this.subskill.nativeElement.value.replace(/(.+)/, 'Substring' in this.exp && this.exp.Substring instanceof RegExp ? this.exp.Substring.source : '$1'),\r\n      Quantity: this.exp.Quantity\r\n    })\r\n  }\r\n\r\n  public experience: Experience | undefined = undefined;\r\n  oldExp?: Experience;\r\n  onBlur(newExp: Experience) {\r\n    if (JSON.stringify(this.oldExp) === JSON.stringify(newExp)) return;\r\n    if (this.value.length === 0) return;\r\n    this.ref.markForCheck();\r\n    this.experience = newExp;\r\n    this.choice.emit({\r\n      add: [newExp],\r\n      remove: this.oldExp ? [{...this.oldExp, Quantity: -this.oldExp}] : []\r\n    });\r\n    this.oldExp = newExp;\r\n    this.ref.detectChanges();\r\n  }\r\n}\r\n","<span *ngIf=\"trigger\">\r\n    <label *ngIf=\"showLabel\" for=\"compulsion\">Compulsion/</label>\r\n    <input id=\"compulsion\" type=\"text\"\r\n        placeholder=\"fill in a compulsion trigger...\" (blur)=\"compulsionBlur($event)\" #compulsionTrigger\r\n        [required]=\"true\" [minLength]=\"1\" />\r\n    <ng-container *ngIf=\"showQuantity\">{{quantity}} EXP</ng-container>\r\n</span>\r\n<span *ngIf=\"skill\">\r\n    <label *ngIf=\"showLabel\" for=\"skill\">{{skillName}}/</label>\r\n    <input id=\"skill\" type=\"text\"\r\n        placeholder=\"fill in a subskill...\" (blur)=\"subskillBlur($event)\" #subskill [required]=\"true\"\r\n        [minLength]=\"1\" />\r\n    <ng-container *ngIf=\"showQuantity\">{{quantity}} EXP</ng-container>\r\n</span>","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Acrobatics, AnimalHandling, Communications, Attribute, Skill, Stat, Statistic, Trait, Driving, Gunnery, MedTech, Navigation, Piloting, Prestidigitation, SecuritySystem, Surgery, Tactics, Technician, ThrownWeapons, Tracking } from './common';\r\n\r\n@Pipe({\r\n  name: 'stat'\r\n})\r\nexport class StatPipe implements PipeTransform {\r\n\r\n  transform(value: Stat | undefined, split?:{\r\n    value: string,\r\n    index: number\r\n  }): string {\r\n    if(!value) return 'undefined';\r\n\r\n    if(split) {\r\n      return this.transform(value).split(split.value)[split.index];\r\n    }\r\n\r\n    switch(value.Kind) {\r\n      case Statistic.Attribute:\r\n        const atts = Object.values(Attribute);\r\n        return atts[value.Attribute.valueOf()].toString();\r\n      case Statistic.Skill:\r\n        const skill = Object.values(Skill)[value.Skill.valueOf()].toString().replace(/([A-Z]+)/g, ' $1').replace(/([A-Z])([A-Z])/g, '$1-$2').trim();\r\n        const speciality = value.Speciality\r\n          ? `(${value.Speciality})`\r\n          : '';\r\n        const hasSubskillDefined = 'Subskill' in value;\r\n        switch(value.Skill) {\r\n          case Skill.Acrobatics:\r\n            const acrobatics = hasSubskillDefined ? Object.values(Acrobatics)[(value.Subskill as Acrobatics).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim() : '';\r\n            return `${skill}/${acrobatics} ${speciality}`.trim();\r\n          case Skill.AnimalHandling:\r\n            const animalHandling = hasSubskillDefined ? Object.values(AnimalHandling)[(value.Subskill as AnimalHandling).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim() : '';\r\n            return `${skill}/${animalHandling} ${speciality}`.trim();\r\n          case Skill.Communications:\r\n            const communications = hasSubskillDefined ? Object.values(Communications)[(value.Subskill as Communications).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim() : '';\r\n            return `${skill}/${communications} ${speciality}`.trim();\r\n          case Skill.Driving:\r\n            const driving = hasSubskillDefined ? Object.values(Driving)[(value.Subskill as Driving).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${driving} ${speciality}`.trim();\r\n          case Skill.Gunnery:\r\n            const gunnery = hasSubskillDefined ? Object.values(Gunnery)[(value.Subskill as Gunnery).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${gunnery} ${speciality}`.trim();\r\n          case Skill.MedTech:\r\n            const medTech = hasSubskillDefined ? Object.values(MedTech)[(value.Subskill as MedTech).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${medTech} ${speciality}`.trim();\r\n          case Skill.Navigation:\r\n            const navigation = hasSubskillDefined ? Object.values(Navigation)[(value.Subskill as Navigation).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${navigation} ${speciality}`.trim();\r\n          case Skill.Piloting:\r\n            const piloting = hasSubskillDefined ? Object.values(Piloting)[(value.Subskill as Piloting).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${piloting} ${speciality}`.trim();\r\n          case Skill.Prestidigitation:\r\n            const prestidigitation = hasSubskillDefined ? Object.values(Prestidigitation)[(value.Subskill as Prestidigitation).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${prestidigitation} ${speciality}`.trim();\r\n          case Skill.SecuritySystem:\r\n            const securitySystem = hasSubskillDefined ? Object.values(SecuritySystem)[(value.Subskill as SecuritySystem).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${securitySystem} ${speciality}`.trim();\r\n          case Skill.Surgery:\r\n            const surgery = hasSubskillDefined ? Object.values(Surgery)[(value.Subskill as Surgery).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${surgery} ${speciality}`.trim();\r\n          case Skill.Tactics:\r\n            const tactics = hasSubskillDefined ? Object.values(Tactics)[(value.Subskill as Tactics).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${tactics} ${speciality}`.trim();\r\n          case Skill.Technician:\r\n            const technician = hasSubskillDefined ? Object.values(Technician)[(value.Subskill as Technician).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${technician} ${speciality}`.trim();\r\n          case Skill.ThrownWeapons:\r\n            const thrownWeapons = hasSubskillDefined ? Object.values(ThrownWeapons)[(value.Subskill as ThrownWeapons).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').trim(): '';\r\n            return `${skill}/${thrownWeapons} ${speciality}`.trim();\r\n          case Skill.Tracking:\r\n            const tracking = hasSubskillDefined ? Object.values(Tracking)[(value.Subskill as Tracking).valueOf()].toString().replace(/([A-Z]+)/g, ' $1').replace(/([A-Z])([A-Z])/g, '$1-$2').trim() : '';\r\n            return `${skill}/${tracking} ${speciality}`.trim();\r\n          case Skill.Language:\r\n          case Skill.Career:\r\n          case Skill.Protocol:\r\n          case Skill.Streetwise:\r\n          case Skill.Survival:\r\n          case Skill.Art:\r\n          case Skill.Interest:\r\n            const requiredSubskill = 'Subskill' in value\r\n            ? `/${hasSubskillDefined ? value.Subskill : ''}`\r\n            : '/';\r\n            return `${skill}${requiredSubskill} ${speciality}`.trim();\r\n          default:\r\n            const subskill = 'Subskill' in value\r\n              ? `/${hasSubskillDefined ? value.Subskill : ''}`\r\n              : '';\r\n            return `${skill}${subskill} ${speciality}`.trim();\r\n        }\r\n      case Statistic.Trait:\r\n        const trait = Object.values(Trait)[value.Trait.valueOf()].toString().replace(/([A-Z]+)/g, ' $1').replace(/([A-Z])([A-Z])/g, '$1-$2').replace(/([I][-][D])/g, 'ID').trim();\r\n        switch(value.Trait) {\r\n          case Trait.Compulsion:\r\n            const compulstionTrigger = 'Trigger' in value ? value.Trigger : '';\r\n            return `${trait}/${compulstionTrigger}`;\r\n          case Trait.ExceptionalAttribute:\r\n            const exceptionalAttribute = 'Attribute' in value ? Object.values(Attribute)[value.Attribute] : '';\r\n            return `${trait}/${exceptionalAttribute}`;\r\n          case Trait.NaturalAptitude:\r\n            const naturalAptitude = 'Skill' in value ? Object.values(Skill)[value.Skill].toString().replace(/([A-Z]+)/g, ' $1').replace(/([A-Z])([A-Z])/g, '$1-$2').trim() : '';\r\n            return `${trait}/${naturalAptitude}`;\r\n          default: return trait;\r\n        }\r\n      default:\r\n        //Maybe its json for some reason?\r\n        let ret = 'ERROR'\r\n        try {\r\n          const json = JSON.parse(value);\r\n          ret = this.transform(json, split);\r\n        }\r\n        finally {\r\n          return ret;\r\n        }\r\n    }\r\n  }\r\n}\r\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\n\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"names":["Affiliation","constructor","founding","moduleInfo","timeline","Kind","AffiliationEvent","Founded","Update","when","update","Modified","RemoveRegion","name","citation","RegionRemoved","Name","Citation","AddRegion","subaff","RegionAdded","Subaffiliation","UpdateRegion","rename","RegionChanged","NewName","At","importantDates","Object","keys","filter","key","sort","a","b","map","date","some","event","Dissolved","reverse","latest","pop","undefined","Error","dates","activities","flatMap","shift","start","process","sofar","current","Cost","Experience","PrimaryLanguage","SecondaryLanguages","Subaffiliations","ArchtypeScore","Protocol","sub","ret","Statistic","Trait","Skill","Attribute","Book","EnumMap","Communications","AnimalHandling","AffiliationsService","Affiliations","CapellanPrimaryLanguage","Language","Subskill","CapellanSecondaryLanguages","lang","CapellanProtocol","FedSunsPrimaryLanguage","FedSunsSecondaryLanguages","FedSunsProtocol","DCProtocol","DCPrimaryLanguage","DCSecondaryLanguages","LyranPrimaryLanguage","LyranSecondaryLanguages","LyranProtocol","FWLPrimaryLanguage","FWLSecondaryLanguages","FWLProtocol","RotSProtocol","CanopianPrimaryLanguage","CanopianSecondaryLanguages","CanopianProtocol","capellan","Charisma","Quantity","Willpower","ExceptionalAttribute","Edge","Or","MartialArts","Perception","EraReport2750","Page","Patient","Reputation","Negotiation","Connections","Wealth","Intelligence","Introvert","Interest","Art","skill","Training","Citizenship","Compulsion","Trigger","BestGuess","Notes","EraReport3052","Set","EraReport3062","ATimeOfWar","FieldManual3085","EraReport3145","Survival","push","draconis","Equipped","ThickSkinned","MeleeWeapons","Riding","SmallArms","aff","factory","ɵfac","providedIn","RouterModule","routes","AppRoutingModule","forRoot","imports","i1","exports","Character","Option","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AppComponent_div_1_Template_input_click_3_listener","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","Start","AppComponent_div_2_Template_input_click_3_listener","_r6","ctx_r5","Save","ɵɵelement","ɵɵproperty","ctx_r2","character","AppComponent","ref","title","hadChar","console","log","char","vitals","characterName","Create","detectChanges","markForCheck","Load","e","File","target","files","characterChanged","ɵɵdirectiveInject","ChangeDetectorRef","selectors","viewQuery","AppComponent_Query","rf","ctx","ɵɵtemplate","AppComponent_div_1_Template","AppComponent_div_2_Template","AppComponent_Template_input_change_6_listener","$event","AppComponent_app_character_7_Template","ɵɵadvance","BrowserModule","CharacterComponent","Stage0Component","Stage1Component","Stage2Component","Stage3Component","Stage4Component","StatPipe","ExpPipe","ArchtypePipe","CitationPipe","CommonModule","FormsModule","OrExpComponent","DefaultExpComponent","AffComponent","SubaffComponent","StarExpComponent","ExpComponent","PickExpComponent","NewaffComponent","RandomLifeEventComponent","SetExpComponent","VitalsComponent","AppModule","bootstrap","declarations","Background","BackgroundEvent","Disallow","Allowed","enable","backgroundInfo","disable","Modify","events","initial","Prereq","Duration","Driving","MedTech","Navigation","Prestidigitation","Tactics","Technician","Tracking","BackgroundsService","Backgrounds","nobilityPrereqs","Array","wealth","property","Title","Property","sum","total","And","Op","Level","whiteCollarPrereqs","flexiXPStage2","quantity","Options","att","Limit","trait","Strength","Body","Reflexes","Fit","Illiterate","Toughness","Ground","Running","Wilds","Pick","Count","Dexterity","Career","AnimalEmpathy","DarkSecret","CombatSense","GoodHearing","GoodVision","includes","Acting","Stealth","Streetwise","ZeroGOperations","IsClanner","Enemy","GlassJaw","Appraisal","NaturalAptitude","tech","SixthSense","ExtraIncome","Not","Stage","Leadership","General","Climbing","Administration","Computers","Swimming","Bloodmark","Gregarious","Disguise","Infantry","stage","Subject","args","EventEmitter","Acrobatics","Gunnery","Piloting","SecuritySystem","Surgery","ThrownWeapons","ReplaySubject","ɵɵtextInterpolate1","ɵɵpipeBind1","exp_r8","ɵɵelementContainerStart","CharacterComponent_ng_container_10_span_1_Template","ɵɵelementContainerEnd","CharacterComponent_span_12_ng_container_1_Template_input_click_1_listener","_r13","ctx_r12","addRealLife","CharacterComponent_span_12_ng_container_1_Template_input_click_2_listener","ctx_r14","ctx_r9","RealLife","length","LatestStage3Or4","isComplete","CharacterComponent_span_12_ng_container_2_Template_input_click_1_listener","_r16","ctx_r15","removeRealLife","rl_r18","year","_r0","startingYearChanged","currentArchtype","ctx_r19","progress","CurrentLanguage","ctx_r20","CharacterComponent_span_12_ng_container_3_div_1_app_stage3_1_Template","CharacterComponent_span_12_ng_container_3_div_1_app_stage4_2_Template","CharacterComponent_span_12_ng_container_3_div_1_Template","ctx_r11","CharacterComponent_span_12_ng_container_1_Template","CharacterComponent_span_12_ng_container_2_Template","CharacterComponent_span_12_ng_container_3_Template","tmp_0_0","stageTwo","affYear","startingYear","ctx_r4","stageOne","affYearChanged","currentAffiliation","language","birthYearChanged","stageZero","stageThree","reduce","stageFour","last","archtypeChanged","subscriptions","stage3subs","stage4subs","characterExp","TotalExp","OrExperience","PickExperience","SetExperience","IfExperience","AttributeExperience","SkillExperience","FreeFall","Gymnastics","Herding","Archery","Artillery","BlackBox","Conventional","HyperpuseGenerator","Cryptography","Demolitions","Rail","Sea","EscapeArtist","Forgery","Aerospace","Air","Battlesuit","Mech","ProtoMech","Spacecraft","Turret","Interrogation","Investigation","Veterinary","KFJump","Space","Aircraft","Railcraft","Seacraft","VTOL","PickPocket","Quickdraw","SleightOfHand","Science","Electrical","Mechanical","SensorOperations","SupportWeapons","Land","Aeronautics","Cybernetics","Electronics","Jets","Myomer","Nuclear","Weapons","Blades","Blunt","Spear","Urban","TraitExperience","AlternativeID","Ambidextrous","Attractive","Trueborn","FastLearner","GTolerance","Implant","Prosthetic","PainResistance","Phenotype","PoisonResistance","Rank","TechEmpathy","Bloodname","AnimalAntipathy","CombatParalysis","Gremlins","Handicap","Impatient","InForLife","LostLimb","PoorHearing","PoorVision","SlowLearner","ThinSkinned","TDS","Unattractive","Unlucky","CustomVehicle","DesignQuirk","VehicleLevel","Mutation","processExp","exp","acrobatics","Speciality","handleanimal","communications","driving","gunnery","medtech","navigation","piloting","prestidigitation","securitysystem","surgery","tactics","technician","thrownweapons","tracking","RegExp","attribute","experience","component","affiliationExperience","forEach","atts","skills","subskill","traits","triggers","trigger","attributes","affNames","Math","floor","Requirments","orReqs","andReqs","notReqs","attributeRequirments","skillRequirments","traitRequirments","processAttReq","value","max","lower","min","upper","processSkillReq","processReq","req","source","requirments","ngAfterViewInit","alreadySubbed","changes","subscribe","unsubscribe","change","changed","complete","_","affiliationChanged","backgroundChanged","languageChanged","next","ngOnDestroy","ngOnInit","showHideItemizedExp","itemizedExp","nativeElement","unshift","index","CharacterComponent_Query","CharacterComponent_Template_input_change_8_listener","CharacterComponent_ng_container_10_Template","CharacterComponent_span_12_Template","CharacterComponent_app_stage2_13_Template","CharacterComponent_app_stage1_14_Template","_r1","yearOfBirth","Archtype","ɵɵtextInterpolate","archtype_r6","_startingYear","startingAge","_startingAge","archtypes","vals","maxBirthYear","_currentArchtype","val","targetExperience","nameChanged","emit","ageChanged","startAge","valueAsNumber","isNaN","startYearChanged","startYear","yearOfBirthChanged","birthYear","currentArchtypeChanged","archtype","selectedIndex","VitalsComponent_Query","VitalsComponent_Template_input_change_4_listener","VitalsComponent_Template_input_change_8_listener","VitalsComponent_Template_input_change_13_listener","VitalsComponent_Template_input_change_22_listener","VitalsComponent_Template_select_change_28_listener","VitalsComponent_option_32_Template","ctx_r1","affiliations","indexOf","aff_r4","currentAffiliationIndex","subaffiliations","affSubTotal","choice","completed","currentAffiliationChanged","AffComponent_Query","AffComponent_Template_select_ngModelChange_5_listener","AffComponent_Template_select_change_5_listener","AffComponent_option_9_Template","AffComponent_div_10_Template","ɵɵclassProp","tmp_7_0","ɵɵpureFunction0","_c2","affcompleted","subaffcompleted","gottenAffs","affliliationService","currentYear","exAffs","excludedAffiliations","exaff","checkForComplete","subaffiliationChanged","NewaffComponent_Query","tmp_1_0","ctx_r0","subaff_r3","currentSubaffiliation","currentSubaffiliationIndex","subaffSubTotal","currentSubaffiliationChanged","SubaffComponent_Query","SubaffComponent_Template_select_ngModelChange_6_listener","SubaffComponent_Template_select_change_6_listener","SubaffComponent_option_9_Template","SubaffComponent_div_10_Template","tmp_8_0","_c1","outcome","Denominator","round","traitAndAttStats","anyStats","RandomLifeEventComponent_div_18_ng_template_2_ng_container_2_Template","RandomLifeEventComponent_div_18_ng_template_2_span_3_Template","ctx_r6","RandomLifeEventComponent_div_18_div_1_Template","RandomLifeEventComponent_div_18_ng_template_2_Template","ɵɵtemplateRefExtractor","_r5","currentRoll","setExp","acceptance","effectiveRoll","modifiers","Severity","rng","rerollCount","ATimeOfWarCompanion","setSubs","set","Roll","reroll","acceptRoll","numerator","denominator","ceil","RngService","RandomLifeEventComponent_Query","RandomLifeEventComponent_ng_container_8_Template","RandomLifeEventComponent_Template_input_click_15_listener","RandomLifeEventComponent_Template_input_click_17_listener","RandomLifeEventComponent_div_18_Template","RandomLifeEventComponent_div_19_Template","ɵɵtextInterpolate2","exp_r1","defaultExperienceCitation","defaultExperience","defaultRequirment","decls","vars","consts","template","DefaultExpComponent_Template","DefaultExpComponent_li_1_Template","Stage0Component_input_3_Template_input_click_0_listener","toggleVisibility","visible","languages","_language","default","affiliationRequirments","hasHideButton","langsel","add","newState","Stage0Component_Query","Stage0Component_input_3_Template","Stage0Component_ul_9_Template","Stage1Component_input_4_Template_input_click_0_listener","backgrounds","bkg_r7","exAff","Stage1Component_ng_container_26_Template_input_change_4_listener","_r12","changeAffChanged","Stage1Component_ng_container_26_app_newaff_11_Template","changeAffState","affChangeCitation","currentStartingYear","currentBackground","newaff","startingAffiliation","hidden","check","rle","_cache","backgroundServices","fixedBackgroundExperience","values","_fixedBkgExp","JSON","parse","stringify","currentLanguage","currentBackgroundIndex","subtotal","_currentBackgroundIndex","newaffSubs","currentBackgroundChanged","Stage1Component_Query","Stage1Component_input_4_Template","Stage1Component_Template_select_ngModelChange_13_listener","Stage1Component_Template_select_change_13_listener","Stage1Component_option_16_Template","Stage1Component_ng_container_26_Template","Stage2Component_input_4_Template_input_click_0_listener","Stage2Component_ng_container_26_Template_input_change_4_listener","Stage2Component_ng_container_26_app_newaff_11_Template","affiliation","Stage2Component_Query","Stage2Component_input_4_Template","Stage2Component_Template_select_ngModelChange_13_listener","Stage2Component_Template_select_change_13_listener","Stage2Component_option_16_Template","Stage2Component_ng_container_26_Template","EducationType","Stage3Component_input_3_Template_input_click_0_listener","_r7","bkg_r8","Basic","currentEndingYear","ctx_r10","EducationFields","edu_r17","ctx_r13","eduLvl","next_r18","edu_r23","ctx_r25","next_r27","ctx_r29","Advanced","edu_r31","Stage3Component_div_26_ng_container_37_ng_container_13_ng_container_18_Template_select_ngModelChange_2_listener","_r33","ctx_r32","educationIndex","Special","Stage3Component_div_26_ng_container_37_ng_container_13_ng_container_18_Template_select_change_2_listener","_r24","ɵɵreference","ctx_r34","EduChanged","Stage3Component_div_26_ng_container_37_ng_container_13_ng_container_18_option_6_Template","_r28","ctx_r26","fixedSpecExperience","Stage3Component_div_26_ng_container_37_ng_container_13_Template_select_change_11_listener","_r36","ctx_r35","Stage3Component_div_26_ng_container_37_ng_container_13_option_15_Template","Stage3Component_div_26_ng_container_37_ng_container_13_ng_container_18_Template","ctx_r22","ɵɵpureFunction1","_c10","Stage3Component_div_26_ng_container_37_Template_select_ngModelChange_2_listener","_r38","ctx_r37","Stage3Component_div_26_ng_container_37_Template_select_change_2_listener","ctx_r39","Stage3Component_div_26_ng_container_37_option_6_Template","Stage3Component_div_26_ng_container_37_ng_container_13_Template","_r19","excludeEduOpt","fixedAdvExperience","_r21","ctx_r42","edu_r45","ctx_r46","ctx_r48","ctx_r50","next_r53","ctx_r55","edu_r57","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_11_Template_select_ngModelChange_2_listener","_r59","ctx_r58","asEduLvl","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_11_Template_select_change_2_listener","_r49","ctx_r60","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_11_option_6_Template","_r54","ctx_r51","ctx_r62","edu_r64","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_12_Template_select_ngModelChange_2_listener","_r66","ctx_r65","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_12_Template_select_change_2_listener","ctx_r67","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_12_option_6_Template","_r61","ctx_r52","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_1_Template","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_template_2_Template","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_Template_select_change_4_listener","_r69","ctx_r68","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_option_8_Template","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_11_Template","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_ng_container_12_Template","ctx_r44","_r47","ɵɵpureFunction2","_c11","Stage3Component_div_26_ng_template_38_ng_container_0_Template_select_ngModelChange_2_listener","_r71","ctx_r70","Stage3Component_div_26_ng_template_38_ng_container_0_Template_select_change_2_listener","ctx_r72","Stage3Component_div_26_ng_template_38_ng_container_0_option_6_Template","Stage3Component_div_26_ng_template_38_ng_container_0_ng_container_13_Template","_r41","ctx_r40","_r43","Stage3Component_div_26_ng_template_38_ng_container_0_Template","ctx_r16","Stage3Component_div_26_Template_select_ngModelChange_5_listener","_r74","ctx_r73","Stage3Component_div_26_Template_select_change_5_listener","ctx_r75","Stage3Component_div_26_option_9_Template","Stage3Component_div_26_Template_select_change_30_listener","ctx_r76","Stage3Component_div_26_option_34_Template","Stage3Component_div_26_ng_container_37_Template","Stage3Component_div_26_ng_template_38_Template","_r9","fixedBasicExperience","_r11","_r15","ctx_r78","Stage3Component_ng_container_30_Template_input_change_4_listener","_r81","ctx_r80","Stage3Component_ng_container_30_app_newaff_11_Template","nextEdu","lastEdu","firstFieldExp","secondFieldExp","edu","FixExp","_fixedBasicExp","Skills","_fixedAdvExp","eduType","_fixedSpecExp","educationService","EducationLevels","EduCitation","endingYear","basic","selected","level","newexp","lvl","toString","fields","toExclude","field","host","spec","adv","EducationService","Stage3Component_Query","Stage3Component_input_3_Template","Stage3Component_Template_select_ngModelChange_12_listener","Stage3Component_Template_select_change_12_listener","Stage3Component_option_15_Template","Stage3Component_div_26_Template","Stage3Component_ng_container_30_Template","Stage4Component_input_3_Template_input_click_0_listener","Stage4Component_ng_container_26_Template_input_change_4_listener","Stage4Component_ng_container_26_app_newaff_11_Template","backgroundService","Stage4Component_Query","Stage4Component_input_3_Template","Stage4Component_Template_select_ngModelChange_12_listener","Stage4Component_Template_select_change_12_listener","Stage4Component_option_15_Template","Stage4Component_ng_container_26_Template","Education","fieldService","Educations","asOpts","names","uniExtraReq","If","edui","partial","types","type","temp","_edu","ɵɵinject","FieldService","info","EducationEvent","RemoveField","FieldRemoved","AddField","FieldAdded","remove","Field","Fields","FieldEvent","transform","replace","trim","pure","book","v","clamp","number","CreatureTrait","CreatureSkill","PlantTrait","PlantSkill","statPipe","_r8","or_r7","_c0","_r10","pick_r12","set_r14","ExpComponent_ng_container_1_li_1_Template","ExpComponent_ng_container_1_li_2_Template","ExpComponent_ng_container_1_ng_container_3_Template","ExpComponent_ng_container_1_ng_container_4_Template","ExpComponent_ng_container_1_li_5_Template","isOr","isStar","isPick","isSet","isStd","toCheck","orChoices","starChoices","pickChoices","setChoices","orSubs","starSubs","pickSubs","or","sendUpdate","star","pick","isIf","isActive","ExpComponent_Query","ExpComponent_ng_container_1_Template","stat_r3","showLabel","ɵɵpipeBind2","labelArgs","disabledIndexes","options","_currentIndex","selectedValue","_currentValue","from","i","disabledOptionIndexes","showQuantity","lastIndex","onOrChanged","src","OrExpComponent_Query","OrExpComponent_Template_select_change_1_listener","OrExpComponent_option_7_Template","OrExpComponent_ng_container_8_Template","i_r5","ctx_r7","asExp","pickedOption","ctx_r8","cachedSubOptions","PickExpComponent_ng_template_0_Template_app_or_exp_choice_0_listener","restoredCtx","$implicit","onPickerChoice","PickExpComponent_ng_template_0_ng_container_3_Template","PickExpComponent_ng_template_0_ng_container_4_Template","PickExpComponent_ng_template_0_ng_container_5_Template","extraType","ɵɵelementContainer","PickExpComponent_ng_template_2_ng_container_0_ng_container_2_Template","isIndexComplete","i_r17","PickExpComponent_ng_template_2_ng_container_0_Template","indexes","ctx_r21","i_r20","PickExpComponent_ng_container_4_ng_container_1_ng_container_1_Template","PickExpComponent_ng_container_4_ng_container_1_Template","subIndexes","assignedIndex","needsExtra","orIndex","starIndex","otherIndex","count","_cachedSubOptions","enlist","maxPickedCounts","_precalcualted","opt","noneNeedExtra","stat","asStat","transformed","slice","expectSpeciality","json","added","item","removed","nonspecial","special","cal","delta","x","PickExpComponent_Query","PickExpComponent_ng_template_0_Template","PickExpComponent_ng_template_2_Template","PickExpComponent_ng_container_4_Template","_r2","random","SetExpComponent_ng_template_0_input_3_Template_input_blur_0_listener","specialityBlur","SetExpComponent_ng_template_0_input_3_Template","SetExpComponent_ng_template_0_Template_input_change_4_listener","_r14","quantityChanged","selfComplete","isSkill","hasLimit","tmp_11_0","remaining","nextDisabledOptions","SetExpComponent_ng_template_2_app_set_exp_0_Template","SetExpComponent_ng_template_4_ng_container_0_ng_container_1_Template","SetExpComponent_ng_template_4_ng_container_0_ng_container_2_Template","SetExpComponent_ng_template_4_ng_container_0_Template","SetExpComponent_ng_container_6_ng_container_1_li_3_ng_container_1_Template","SetExpComponent_ng_container_6_ng_container_1_ng_container_2_Template","SetExpComponent_ng_container_6_ng_container_1_li_3_Template","SetExpComponent_ng_container_6_ng_container_1_Template","properLimit","_propertLimit","limit","pickers","picker","sign","_quantity","recSetExp","recsub","unspent","validQuantity","pickerComplete","recursiveComplete","speciality","handleSpeciality","previous","onChange","counter","clamped","diff","assign","SetExpComponent_Query","SetExpComponent_ng_template_0_Template","SetExpComponent_ng_template_2_Template","SetExpComponent_ng_template_4_Template","SetExpComponent_ng_container_6_Template","styles","StarExpComponent_span_0_label_1_Template","StarExpComponent_span_0_Template_input_blur_2_listener","compulsionBlur","StarExpComponent_span_0_ng_container_4_Template","skillName","StarExpComponent_span_1_label_1_Template","StarExpComponent_span_1_Template_input_blur_2_listener","subskillBlur","StarExpComponent_span_1_ng_container_4_Template","compulsionTrigger","newVal","valueOf","onBlur","Substring","newExp","oldExp","StarExpComponent_Query","StarExpComponent_span_0_Template","StarExpComponent_span_1_Template","split","hasSubskillDefined","animalHandling","medTech","securitySystem","thrownWeapons","requiredSubskill","compulstionTrigger","exceptionalAttribute","naturalAptitude","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","err","error"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}